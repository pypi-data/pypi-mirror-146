<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>datalad.utils &mdash; DataLad 0.15.3+529.gc81453444.dirty documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="datalad.version" href="datalad.version.html" />
    <link rel="prev" title="datalad.log" href="datalad.log.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> DataLad
            <img src="../_static/datalad_logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.15
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Change log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../acknowledgements.html">Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../publications.html">Publications</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../background.html">Background and motivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../related.html">Delineation from related solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basics.html">Basic principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credentials.html">Credentials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../metadata.html">Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../customization.html">Customization and extension of functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design/index.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../cmdline.html">Command line reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../modref.html">Python module reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../modref.html#high-level-user-interface">High-level user interface</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../modref.html#support-functionality">Support functionality</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="datalad.cmd.html">datalad.cmd</a></li>
<li class="toctree-l3"><a class="reference internal" href="datalad.consts.html">datalad.consts</a></li>
<li class="toctree-l3"><a class="reference internal" href="datalad.log.html">datalad.log</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">datalad.utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="datalad.version.html">datalad.version</a></li>
<li class="toctree-l3"><a class="reference internal" href="datalad.support.gitrepo.html">datalad.support.gitrepo</a></li>
<li class="toctree-l3"><a class="reference internal" href="datalad.support.annexrepo.html">datalad.support.annexrepo</a></li>
<li class="toctree-l3"><a class="reference internal" href="datalad.support.archives.html">datalad.support.archives</a></li>
<li class="toctree-l3"><a class="reference internal" href="datalad.customremotes.base.html">datalad.customremotes.base</a></li>
<li class="toctree-l3"><a class="reference internal" href="datalad.customremotes.archives.html">datalad.customremotes.archives</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../modref.html#configuration-management">Configuration management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modref.html#test-infrastructure">Test infrastructure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modref.html#command-line-interface-infrastructure">Command line interface infrastructure</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../config.html">Configuration</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DataLad</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../modref.html">Python module reference</a> &raquo;</li>
      <li>datalad.utils</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-datalad.utils">
<span id="datalad-utils"></span><h1>datalad.utils<a class="headerlink" href="#module-datalad.utils" title="Permalink to this headline"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="datalad.utils.ArgSpecFake">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">ArgSpecFake</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varargs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keywords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaults</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#datalad.utils.ArgSpecFake" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="datalad.utils.ArgSpecFake.args">
<span class="sig-name descname"><span class="pre">args</span></span><a class="headerlink" href="#datalad.utils.ArgSpecFake.args" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="datalad.utils.ArgSpecFake.defaults">
<span class="sig-name descname"><span class="pre">defaults</span></span><a class="headerlink" href="#datalad.utils.ArgSpecFake.defaults" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="datalad.utils.ArgSpecFake.keywords">
<span class="sig-name descname"><span class="pre">keywords</span></span><a class="headerlink" href="#datalad.utils.ArgSpecFake.keywords" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="datalad.utils.ArgSpecFake.varargs">
<span class="sig-name descname"><span class="pre">varargs</span></span><a class="headerlink" href="#datalad.utils.ArgSpecFake.varargs" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="datalad.utils.File">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">File</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">executable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#File"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.File" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Helper for a file entry in the <a class="reference external" href="mailto:create_tree/&#37;&#52;&#48;with_tree">create_tree/<span>&#64;</span>with_tree</a></p>
<p>It allows to define additional settings for entries</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="datalad.utils.SequenceFormatter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">SequenceFormatter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">separator='</span> <span class="pre">'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element_formatter=&lt;string.Formatter</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#SequenceFormatter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.SequenceFormatter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">string.Formatter</span></code></p>
<p>string.Formatter subclass with special behavior for sequences.</p>
<p>This class delegates formatting of individual elements to another
formatter object. Non-list objects are formatted by calling the
delegate formatter’s “format_field” method. List-like objects
(list, tuple, set, frozenset) are formatted by formatting each
element of the list according to the specified format spec using
the delegate formatter and then joining the resulting strings with
a separator (space by default).</p>
<dl class="py method">
<dt class="sig sig-object py" id="datalad.utils.SequenceFormatter.format_element">
<span class="sig-name descname"><span class="pre">format_element</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elem</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_spec</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#SequenceFormatter.format_element"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.SequenceFormatter.format_element" title="Permalink to this definition"></a></dt>
<dd><p>Format a single element</p>
<p>For sequences, this is called once for each element in a
sequence. For anything else, it is called on the entire
object. It is intended to be overridden in subclases.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.utils.SequenceFormatter.format_field">
<span class="sig-name descname"><span class="pre">format_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_spec</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#SequenceFormatter.format_field"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.SequenceFormatter.format_field" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.all_same">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">all_same</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#all_same"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.all_same" title="Permalink to this definition"></a></dt>
<dd><p>Quick check if all items are the same.</p>
<p>Identical to a check like len(set(items)) == 1 but
should be more efficient while working on generators, since would
return False as soon as any difference detected thus possibly avoiding
unnecessary evaluations</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.any_re_search">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">any_re_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regexes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#any_re_search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.any_re_search" title="Permalink to this definition"></a></dt>
<dd><p>Return if any of regexes (list or str) searches successfully for value</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.as_unicode">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">as_unicode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cast_types=&lt;class</span> <span class="pre">'object'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#as_unicode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.as_unicode" title="Permalink to this definition"></a></dt>
<dd><p>Given an arbitrary value, would try to obtain unicode value of it</p>
<p>For unicode it would return original value, for python2 str or python3
bytes it would use ensure_unicode, for None - an empty (unicode) string,
and for any other type (see <cite>cast_types</cite>) - would apply the unicode
constructor.  If value is not an instance of <cite>cast_types</cite>, TypeError
is thrown</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cast_types</strong> (<em>type</em>) – Which types to cast to unicode by providing to constructor</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.assert_no_open_files">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">assert_no_open_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#assert_no_open_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.assert_no_open_files" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.assure_bool">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">assure_bool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#datalad.utils.assure_bool" title="Permalink to this definition"></a></dt>
<dd><p>Note: This function is deprecated. Use ensure_bool instead.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.assure_bytes">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">assure_bytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#datalad.utils.assure_bytes" title="Permalink to this definition"></a></dt>
<dd><p>Note: This function is deprecated. Use ensure_bytes instead.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.assure_dict_from_str">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">assure_dict_from_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#datalad.utils.assure_dict_from_str" title="Permalink to this definition"></a></dt>
<dd><p>Note: This function is deprecated. Use ensure_dict_from_str instead.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.assure_dir">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">assure_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#datalad.utils.assure_dir" title="Permalink to this definition"></a></dt>
<dd><p>Note: This function is deprecated. Use ensure_dir instead.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.assure_iter">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">assure_iter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cls</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#datalad.utils.assure_iter" title="Permalink to this definition"></a></dt>
<dd><p>Note: This function is deprecated. Use ensure_iter instead.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.assure_list">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">assure_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#datalad.utils.assure_list" title="Permalink to this definition"></a></dt>
<dd><p>Note: This function is deprecated. Use ensure_list instead.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.assure_list_from_str">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">assure_list_from_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\n'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#datalad.utils.assure_list_from_str" title="Permalink to this definition"></a></dt>
<dd><p>Note: This function is deprecated. Use ensure_list_from_str instead.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.assure_tuple_or_list">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">assure_tuple_or_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#datalad.utils.assure_tuple_or_list" title="Permalink to this definition"></a></dt>
<dd><p>Note: This function is deprecated. Use ensure_tuple_or_list instead.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.assure_unicode">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">assure_unicode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">confidence</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#datalad.utils.assure_unicode" title="Permalink to this definition"></a></dt>
<dd><p>Note: This function is deprecated. Use ensure_unicode instead.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.auto_repr">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">auto_repr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cls</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#auto_repr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.auto_repr" title="Permalink to this definition"></a></dt>
<dd><p>Decorator for a class to assign it an automagic quick and dirty __repr__</p>
<p>It uses public class attributes to prepare repr of a class</p>
<p>Original idea: <a class="reference external" href="http://stackoverflow.com/a/27799004/1265472">http://stackoverflow.com/a/27799004/1265472</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.bytes2human">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">bytes2human</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%(value).1f</span> <span class="pre">%(symbol)sB'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#bytes2human"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.bytes2human" title="Permalink to this definition"></a></dt>
<dd><p>Convert n bytes into a human readable string based on format.
symbols can be either “customary”, “customary_ext”, “iec” or “iec_ext”,
see: <a class="reference external" href="http://goo.gl/kTQMs">http://goo.gl/kTQMs</a></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">datalad.utils</span> <span class="kn">import</span> <span class="n">bytes2human</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bytes2human</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&#39;1.0 B&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bytes2human</span><span class="p">(</span><span class="mi">1024</span><span class="p">)</span>
<span class="go">&#39;1.0 KB&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bytes2human</span><span class="p">(</span><span class="mi">1048576</span><span class="p">)</span>
<span class="go">&#39;1.0 MB&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bytes2human</span><span class="p">(</span><span class="mi">1099511627776127398123789121</span><span class="p">)</span>
<span class="go">&#39;909.5 YB&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bytes2human</span><span class="p">(</span><span class="mi">10000</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%(value).1f</span><span class="s2"> </span><span class="si">%(symbol)s</span><span class="s2">/sec&quot;</span><span class="p">)</span>
<span class="go">&#39;9.8 K/sec&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># precision can be adjusted by playing with %f operator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bytes2human</span><span class="p">(</span><span class="mi">10000</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">%(value).5f</span><span class="s2"> </span><span class="si">%(symbol)s</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">&#39;9.76562 K&#39;</span>
</pre></div>
</div>
<p>Taken from: <a class="reference external" href="http://goo.gl/kTQMs">http://goo.gl/kTQMs</a> and subsequently simplified
Original Author: Giampaolo Rodola’ &lt;g.rodola [AT] gmail [DOT] com&gt;
License: MIT</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.check_symlink_capability">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">check_symlink_capability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#check_symlink_capability"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.check_symlink_capability" title="Permalink to this definition"></a></dt>
<dd><p>helper similar to datalad.tests.utils.has_symlink_capability</p>
<p>However, for use in a datalad command context, we shouldn’t
assume to be able to write to tmpfile and also not import a whole lot from
datalad’s test machinery. Finally, we want to know, whether we can create a
symlink at a specific location, not just somewhere. Therefore use
arbitrary path to test-build a symlink and delete afterwards. Suitable
location can therefore be determined by high lever code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>Path</em>) – </p></li>
<li><p><strong>target</strong> (<em>Path</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="datalad.utils.chpwd">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">chpwd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mkdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logsuffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#chpwd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.chpwd" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Wrapper around os.chdir which also adjusts environ[‘PWD’]</p>
<p>The reason is that otherwise PWD is simply inherited from the shell
and we have no ability to assess directory path without dereferencing
symlinks.</p>
<p>If used as a context manager it allows to temporarily change directory
to the given path</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.collect_method_callstats">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">collect_method_callstats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#collect_method_callstats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.collect_method_callstats" title="Permalink to this definition"></a></dt>
<dd><p>Figure out methods which call the method repeatedly on the same instance</p>
<dl class="simple">
<dt>Use case(s):</dt><dd><ul class="simple">
<li><p>.repo is expensive since does all kinds of checks.</p></li>
<li><p>.config is expensive transitively since it calls .repo each time</p></li>
</ul>
</dd>
</dl>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<ul class="simple">
<li><p>fancy one could look through the stack for the same id(self) to see if
that location is already in memo.  That would hint to the cases where object
is not passed into underlying functions, causing them to redo the same work
over and over again</p></li>
<li><p>ATM might flood with all “1 lines” calls which are not that informative.
The underlying possibly suboptimal use might be coming from their callers.
It might or not relate to the previous TODO</p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.create_tree">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">create_tree</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">archives_leading_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_existing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#create_tree"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.create_tree" title="Permalink to this definition"></a></dt>
<dd><p>Given a list of tuples (name, load) create such a tree</p>
<p>if load is a tuple itself – that would create either a subtree or an archive
with that content and place it into the tree if name ends with .tar.gz</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.create_tree_archive">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">create_tree_archive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">archives_leading_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#create_tree_archive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.create_tree_archive" title="Permalink to this definition"></a></dt>
<dd><p>Given an archive <cite>name</cite>, create under <cite>path</cite> with specified <cite>load</cite> tree</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.decode_input">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">decode_input</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#decode_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.decode_input" title="Permalink to this definition"></a></dt>
<dd><p>Given input string/bytes, decode according to stdin codepage (or UTF-8)
if not defined</p>
<p>If fails – issue warning and decode allowing for errors
being replaced</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.disable_logger">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">disable_logger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#disable_logger"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.disable_logger" title="Permalink to this definition"></a></dt>
<dd><p>context manager to temporarily disable logging</p>
<p>This is to provide one of swallow_logs’ purposes without unnecessarily
creating temp files (see gh-1865)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>logger</strong> (<em>Logger</em>) – Logger whose handlers will be ordered to not log anything.
Default: datalad’s topmost Logger (‘datalad’)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.dlabspath">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">dlabspath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">norm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#dlabspath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.dlabspath" title="Permalink to this definition"></a></dt>
<dd><p>Symlinks-in-the-cwd aware abspath</p>
<p>os.path.abspath relies on os.getcwd() which would not know about symlinks
in the path</p>
<p>TODO: we might want to norm=True by default to match behavior of
os .path.abspath?</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.encode_filename">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">encode_filename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#encode_filename"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.encode_filename" title="Permalink to this definition"></a></dt>
<dd><p>Encode unicode filename</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.ensure_bool">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">ensure_bool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#ensure_bool"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.ensure_bool" title="Permalink to this definition"></a></dt>
<dd><p>Convert value into boolean following convention for strings</p>
<p>to recognize on,True,yes as True, off,False,no as False</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.ensure_bytes">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">ensure_bytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#ensure_bytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.ensure_bytes" title="Permalink to this definition"></a></dt>
<dd><p>Convert/encode unicode string to bytes.</p>
<p>If <cite>s</cite> isn’t a string, return it as is.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>encoding</strong> (<em>str</em><em>, </em><em>optional</em>) – Encoding to use.  “utf-8” is the default</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.ensure_dict_from_str">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">ensure_dict_from_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#ensure_dict_from_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.ensure_dict_from_str" title="Permalink to this definition"></a></dt>
<dd><p>Given a multiline string with key=value items convert it to a dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>str</em><em> or </em><em>dict</em>) – </p></li>
<li><p><strong>empty</strong> (<em>Returns None if input s is</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.ensure_dir">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">ensure_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#ensure_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.ensure_dir" title="Permalink to this definition"></a></dt>
<dd><p>Make sure directory exists.</p>
<p>Joins the list of arguments to an os-specific path to the desired
directory and creates it, if it not exists yet.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.ensure_iter">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">ensure_iter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cls</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#ensure_iter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.ensure_iter" title="Permalink to this definition"></a></dt>
<dd><p>Given not a list, would place it into a list. If None - empty list is returned</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>list</em><em> or </em><em>anything</em>) – </p></li>
<li><p><strong>cls</strong> (<em>class</em>) – Which iterable class to ensure</p></li>
<li><p><strong>copy</strong> (<em>bool</em><em>, </em><em>optional</em>) – If correct iterable is passed, it would generate its shallow copy</p></li>
<li><p><strong>iterate</strong> (<em>bool</em><em>, </em><em>optional</em>) – If it is not a list, but something iterable (but not a str)
iterate over it.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.ensure_list">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">ensure_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#ensure_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.ensure_list" title="Permalink to this definition"></a></dt>
<dd><p>Given not a list, would place it into a list. If None - empty list is returned</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>list</em><em> or </em><em>anything</em>) – </p></li>
<li><p><strong>copy</strong> (<em>bool</em><em>, </em><em>optional</em>) – If list is passed, it would generate a shallow copy of the list</p></li>
<li><p><strong>iterate</strong> (<em>bool</em><em>, </em><em>optional</em>) – If it is not a list, but something iterable (but not a str)
iterate over it.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.ensure_list_from_str">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">ensure_list_from_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\n'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#ensure_list_from_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.ensure_list_from_str" title="Permalink to this definition"></a></dt>
<dd><p>Given a multiline string convert it to a list of return None if empty</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>s</strong> (<em>str</em><em> or </em><em>list</em>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.ensure_tuple_or_list">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">ensure_tuple_or_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#ensure_tuple_or_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.ensure_tuple_or_list" title="Permalink to this definition"></a></dt>
<dd><p>Given an object, wrap into a tuple if not list or tuple</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.ensure_unicode">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">ensure_unicode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">confidence</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#ensure_unicode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.ensure_unicode" title="Permalink to this definition"></a></dt>
<dd><p>Convert/decode bytestring to unicode.</p>
<p>If <cite>s</cite> isn’t a bytestring, return it as is.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>encoding</strong> (<em>str</em><em>, </em><em>optional</em>) – Encoding to use.  If None, “utf-8” is tried, and then if not a valid
UTF-8, encoding will be guessed</p></li>
<li><p><strong>confidence</strong> (<em>float</em><em>, </em><em>optional</em>) – A value between 0 and 1, so if guessing of encoding is of lower than
specified confidence, ValueError is raised</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.escape_filename">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">escape_filename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#escape_filename"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.escape_filename" title="Permalink to this definition"></a></dt>
<dd><p>Surround filename in “” and escape ” in the filename</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.expandpath">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">expandpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_absolute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#expandpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.expandpath" title="Permalink to this definition"></a></dt>
<dd><p>Expand all variables and user handles in a path.</p>
<p>By default return an absolute path</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.file_basename">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">file_basename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#file_basename"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.file_basename" title="Permalink to this definition"></a></dt>
<dd><p>Strips up to 2 extensions of length up to 4 characters and starting with alpha
not a digit, so we could get rid of .tar.gz etc</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.find_files">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">find_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">topdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_vcs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_datalad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#find_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.find_files" title="Permalink to this definition"></a></dt>
<dd><p>Generator to find files matching regex</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>regex</strong> (<em>basestring</em>) – </p></li>
<li><p><strong>exclude</strong> (<em>basestring</em><em>, </em><em>optional</em>) – Matches to exclude</p></li>
<li><p><strong>exclude_vcs</strong> – If True, excludes commonly known VCS subdirectories.  If string, used
as regex to exclude those files (regex: <cite>‘/\.(?:git|gitattributes|svn|bzr|hg)(?:/|$)’</cite>)</p></li>
<li><p><strong>exclude_datalad</strong> – If True, excludes files known to be datalad meta-data files (e.g. under
.datalad/ subdirectory) (regex: <cite>‘/\.(?:datalad)(?:/|$)’</cite>)</p></li>
<li><p><strong>topdir</strong> (<em>basestring</em><em>, </em><em>optional</em>) – Directory where to search</p></li>
<li><p><strong>dirs</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to match directories as well as files</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.generate_chunks">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">generate_chunks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">container</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#generate_chunks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.generate_chunks" title="Permalink to this definition"></a></dt>
<dd><p>Given a container, generate chunks from it with size up to <cite>size</cite></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.generate_file_chunks">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">generate_file_chunks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#generate_file_chunks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.generate_file_chunks" title="Permalink to this definition"></a></dt>
<dd><p>Given a list of files, generate chunks of them to avoid exceeding cmdline length</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> (<em>list of str</em>) – </p></li>
<li><p><strong>cmd</strong> (<em>str</em><em> or </em><em>list of str</em><em>, </em><em>optional</em>) – Command to account for as well</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.get_dataset_root">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">get_dataset_root</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#get_dataset_root"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.get_dataset_root" title="Permalink to this definition"></a></dt>
<dd><p>Return the root of an existent dataset containing a given path</p>
<p>The root path is returned in the same absolute or relative form
as the input argument. If no associated dataset exists, or the
input path doesn’t exist, None is returned.</p>
<p>If <cite>path</cite> is a symlink or something other than a directory, its
the root dataset containing its parent directory will be reported.
If none can be found, at a symlink at <cite>path</cite> is pointing to a
dataset, <cite>path</cite> itself will be reported as the root.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<em>Path-like</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.get_encoding_info">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">get_encoding_info</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#get_encoding_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.get_encoding_info" title="Permalink to this definition"></a></dt>
<dd><p>Return a dictionary with various encoding/locale information</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.get_envvars_info">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">get_envvars_info</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#get_envvars_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.get_envvars_info" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.get_home_envvars">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">get_home_envvars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_home</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#get_home_envvars"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.get_home_envvars" title="Permalink to this definition"></a></dt>
<dd><p>Return dict with env variables to be adjusted for a new HOME</p>
<p>Only variables found in current os.environ are adjusted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_home</strong> (<em>str</em><em> or </em><em>Path</em>) – New home path, in native to OS “schema”</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.get_ipython_shell">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">get_ipython_shell</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#get_ipython_shell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.get_ipython_shell" title="Permalink to this definition"></a></dt>
<dd><p>Detect if running within IPython and returns its <cite>ip</cite> (shell) object</p>
<p>Returns None if not under ipython (no <cite>get_ipython</cite> function)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.get_linux_distribution">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">get_linux_distribution</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#get_linux_distribution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.get_linux_distribution" title="Permalink to this definition"></a></dt>
<dd><p>Compatibility wrapper for {platform,distro}.linux_distribution().</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.get_logfilename">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">get_logfilename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dspath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'datalad'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#get_logfilename"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.get_logfilename" title="Permalink to this definition"></a></dt>
<dd><p>Return a filename to use for logging under a dataset/repository</p>
<p>directory would be created if doesn’t exist, but dspath must exist
and be a directory</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.get_open_files">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">get_open_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_open</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#get_open_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.get_open_files" title="Permalink to this definition"></a></dt>
<dd><p>Get open files under a path</p>
<p>Note: This function is very slow on Windows.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – File or directory to check for open files under</p></li>
<li><p><strong>log_open</strong> (<em>bool</em><em> or </em><em>int</em>) – If set - logger level to use</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>path : pid</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.get_path_prefix">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">get_path_prefix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pwd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#get_path_prefix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.get_path_prefix" title="Permalink to this definition"></a></dt>
<dd><p>Get path prefix (for current directory)</p>
<p>Returns relative path to the topdir, if we are under topdir, and if not
absolute path to topdir.  If <cite>pwd</cite> is not specified - current directory
assumed</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.get_sig_param_names">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">get_sig_param_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kinds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="reference internal" href="../_modules/datalad/utils.html#get_sig_param_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.get_sig_param_names" title="Permalink to this definition"></a></dt>
<dd><p>A helper to selectively return parameters from inspect.signature.</p>
<p>inspect.signature is the ultimate way for introspecting callables.  But
its interface is not so convenient for a quick selection of parameters
(AKA arguments) of desired type or combinations of such.  This helper
should make it easier to retrieve desired collections of parameters.</p>
<p>Since often it is desired to get information about multiple specific types
of parameters, <cite>kinds</cite> is a list, so in a single invocation of <cite>signature</cite>
and looping through the results we can obtain all information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> (<em>callable</em>) – </p></li>
<li><p><strong>kinds</strong> (<em>tuple with values from {'pos_any'</em><em>, </em><em>'pos_only'</em><em>, </em><em>'kw_any'</em><em>, </em><em>'kw_only'</em><em>, </em><em>'any'}</em>) – Is a list of what kinds of args to return in result (tuple). Each element
should be one of: ‘any_pos’ - positional or keyword which could be used
positionally. ‘kw_only’ - keyword only (cannot be used positionally) arguments,
‘any_kw` - any keyword (could be a positional which could be used as a keyword),
<cite>any</cite> – any type from the above.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Each element is a list of parameters (names only) of that “kind”.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.get_suggestions_msg">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">get_suggestions_msg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">known</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#get_suggestions_msg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.get_suggestions_msg" title="Permalink to this definition"></a></dt>
<dd><p>Return a formatted string with suggestions for values given the known ones</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.get_tempfile_kwargs">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">get_tempfile_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tkwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wrapped</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#get_tempfile_kwargs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.get_tempfile_kwargs" title="Permalink to this definition"></a></dt>
<dd><p>Updates kwargs to be passed to tempfile. calls depending on env vars</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.get_timestamp_suffix">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">get_timestamp_suffix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#get_timestamp_suffix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.get_timestamp_suffix" title="Permalink to this definition"></a></dt>
<dd><p>Return a time stamp (full date and time up to second)</p>
<p>primarily to be used for generation of log files names</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.get_trace">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">get_trace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edges</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#get_trace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.get_trace" title="Permalink to this definition"></a></dt>
<dd><p>Return the trace/path to reach a node in a tree.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>edges</strong> (<em>sequence</em><em>(</em><em>2-tuple</em><em>)</em>) – The tree given by a sequence of edges (parent, child) tuples. The
nodes can be identified by any value and data type that supports
the ‘==’ operation.</p></li>
<li><p><strong>start</strong> – Identifier of the start node. Must be present as a value in the parent
location of an edge tuple in order to be found.</p></li>
<li><p><strong>end</strong> – Identifier of the target/end node. Must be present as a value in the child
location of an edge tuple in order to be found.</p></li>
<li><p><strong>trace</strong> (<em>list</em>) – Mostly useful for recursive calls, and used internally.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns a list with the trace to the target (the starts and the target
are not included in the trace, hence if start and end are directly connected
an empty list is returned), or None when no trace to the target can be found,
or start and end are identical.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None or list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.get_wrapped_class">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">get_wrapped_class</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wrapped</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#get_wrapped_class"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.get_wrapped_class" title="Permalink to this definition"></a></dt>
<dd><p>Determine the command class a wrapped __call__ belongs to</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.getargspec">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">getargspec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_kwonlyargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#getargspec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.getargspec" title="Permalink to this definition"></a></dt>
<dd><p>Compat shim for getargspec deprecated in python 3.</p>
<p>The main difference from inspect.getargspec (and inspect.getfullargspec
for that matter) is that by using inspect.signature we are providing
correct args/defaults for functools.wraps’ed functions.</p>
<p><cite>include_kwonlyargs</cite> option was added to centralize getting all args,
even the ones which are kwonly (follow the <code class="docutils literal notranslate"><span class="pre">*,</span></code>).</p>
<p>For internal use and not advised for use in 3rd party code.
Please use inspect.signature directly.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.getpwd">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">getpwd</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#getpwd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.getpwd" title="Permalink to this definition"></a></dt>
<dd><p>Try to return a CWD without dereferencing possible symlinks</p>
<p>This function will try to use PWD environment variable to provide a current
working directory, possibly with some directories along the path being
symlinks to other directories.  Unfortunately, PWD is used/set only by the
shell and such functions as <cite>os.chdir</cite> and <cite>os.getcwd</cite> nohow use or modify
it, thus <cite>os.getcwd()</cite> returns path with links dereferenced.</p>
<p>While returning current working directory based on PWD env variable we
verify that the directory is the same as <cite>os.getcwd()</cite> after resolving all
symlinks.  If that verification fails, we fall back to always use
<cite>os.getcwd()</cite>.</p>
<p>Initial decision to either use PWD env variable or os.getcwd() is done upon
the first call of this function.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.guard_for_format">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">guard_for_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#guard_for_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.guard_for_format" title="Permalink to this definition"></a></dt>
<dd><p>Replace { and } with {{ and }}</p>
<p>To be used in cases if arg is not expected to have provided
by user .format() placeholders, but ‘arg’ might become a part
of a composite passed to .format(), e.g. via ‘Run’</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.import_module_from_file">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">import_module_from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pkg=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log=&lt;bound</span> <span class="pre">method</span> <span class="pre">Logger.debug</span> <span class="pre">of</span> <span class="pre">&lt;Logger</span> <span class="pre">datalad.utils</span> <span class="pre">(INFO)&gt;&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#import_module_from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.import_module_from_file" title="Permalink to this definition"></a></dt>
<dd><p>Import provided module given a path</p>
<p>TODO:
- RF/make use of it in pipeline.py which has similar logic
- join with import_modules above?</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pkg</strong> (<em>module</em><em>, </em><em>optional</em>) – If provided, and modpath is under pkg.__path__, relative import will be
used</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.import_modules">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">import_modules</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modnames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pkg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg='Failed</span> <span class="pre">to</span> <span class="pre">import</span> <span class="pre">{module}'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log=&lt;bound</span> <span class="pre">method</span> <span class="pre">Logger.debug</span> <span class="pre">of</span> <span class="pre">&lt;Logger</span> <span class="pre">datalad.utils</span> <span class="pre">(INFO)&gt;&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#import_modules"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.import_modules" title="Permalink to this definition"></a></dt>
<dd><p>Helper to import a list of modules without failing if N/A</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>modnames</strong> (<em>list of str</em>) – List of module names to import</p></li>
<li><p><strong>pkg</strong> (<em>str</em>) – Package under which to import</p></li>
<li><p><strong>msg</strong> (<em>str</em><em>, </em><em>optional</em>) – Message template for .format() to log at DEBUG level if import fails.
Keys {module} and {package} will be provided and ‘: {exception}’ appended</p></li>
<li><p><strong>log</strong> (<em>callable</em><em>, </em><em>optional</em>) – Logger call to use for logging messages</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.is_explicit_path">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">is_explicit_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#is_explicit_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.is_explicit_path" title="Permalink to this definition"></a></dt>
<dd><p>Return whether a path explicitly points to a location</p>
<p>Any absolute path, or relative path starting with either ‘../’ or
‘./’ is assumed to indicate a location on the filesystem. Any other
path format is not considered explicit.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.is_interactive">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">is_interactive</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#is_interactive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.is_interactive" title="Permalink to this definition"></a></dt>
<dd><p>Return True if all in/outs are open and tty.</p>
<p>Note that in a somewhat abnormal case where e.g. stdin is explicitly
closed, and any operation on it would raise a
<cite>ValueError(“I/O operation on closed file”)</cite> exception, this function
would just return False, since the session cannot be used interactively.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.join_cmdline">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">join_cmdline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#join_cmdline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.join_cmdline" title="Permalink to this definition"></a></dt>
<dd><p>Join command line args into a string using quote_cmdlinearg</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.knows_annex">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">knows_annex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#knows_annex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.knows_annex" title="Permalink to this definition"></a></dt>
<dd><p>Returns whether at a given path there is information about an annex</p>
<p>It is just a thin wrapper around GitRepo.is_with_annex() classmethod
which also checks for <cite>path</cite> to exist first.</p>
<p>This includes actually present annexes, but also uninitialized ones, or
even the presence of a remote annex branch.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.line_profile">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">line_profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#line_profile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.line_profile" title="Permalink to this definition"></a></dt>
<dd><p>Q&amp;D helper to line profile the function and spit out stats</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.lmtime">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">lmtime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mtime</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#lmtime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.lmtime" title="Permalink to this definition"></a></dt>
<dd><p>Set mtime for files, while not de-referencing symlinks.</p>
<p>To overcome absence of os.lutime</p>
<p>Works only on linux and OSX ATM</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.lock_if_required">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">lock_if_required</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lock_required</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lock</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#lock_if_required"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.lock_if_required" title="Permalink to this definition"></a></dt>
<dd><p>Acquired and released the provided lock if indicated by a flag</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.make_tempfile">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">make_tempfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wrapped</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">tkwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#make_tempfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.make_tempfile" title="Permalink to this definition"></a></dt>
<dd><p>Helper class to provide a temporary file name and remove it at the end (context manager)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mkdir</strong> (<em>bool</em><em>, </em><em>optional</em><em> (</em><em>default: False</em><em>)</em>) – If True, temporary directory created using tempfile.mkdtemp()</p></li>
<li><p><strong>content</strong> (<em>str</em><em> or </em><em>bytes</em><em>, </em><em>optional</em>) – Content to be stored in the file created</p></li>
<li><p><strong>wrapped</strong> (<em>function</em><em>, </em><em>optional</em>) – If set, function name used to prefix temporary file name</p></li>
<li><p><strong>**tkwargs</strong> – All other arguments are passed into the call to tempfile.mk{,d}temp(),
and resultant temporary filename is passed as the first argument into
the function t.  If no ‘prefix’ argument is provided, it will be
constructed using module and function names (‘.’ replaced with
‘_’).</p></li>
<li><p><strong>set</strong> (<em>To change the used directory without providing keyword argument 'dir'</em>) – </p></li>
<li><p><strong>DATALAD_TESTS_TEMP_DIR.</strong> – </p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">exists</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">datalad.utils</span> <span class="kn">import</span> <span class="n">make_tempfile</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">make_tempfile</span><span class="p">()</span> <span class="k">as</span> <span class="n">fname</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">k</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;silly test&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="ow">not</span> <span class="n">exists</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>  <span class="c1"># was removed</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">make_tempfile</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">&quot;blah&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fname</span><span class="p">:</span>
<span class="gp">... </span>   <span class="k">assert</span> <span class="nb">open</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;blah&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.map_items">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">map_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#map_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.map_items" title="Permalink to this definition"></a></dt>
<dd><p>A helper to apply <cite>func</cite> to all elements (keys and values) within dict</p>
<p>No type checking of values passed to func is done, so <cite>func</cite>
should be resilient to values which it should not handle</p>
<p>Initial usecase - apply_recursive(url_fragment, ensure_unicode)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.md5sum">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">md5sum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#md5sum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.md5sum" title="Permalink to this definition"></a></dt>
<dd><p>Compute an MD5 sum for the given file</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.never_fail">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">never_fail</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#never_fail"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.never_fail" title="Permalink to this definition"></a></dt>
<dd><p>Assure that function never fails – all exceptions are caught</p>
<p>Returns <cite>None</cite> if function fails internally.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.not_supported_on_windows">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">not_supported_on_windows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#not_supported_on_windows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.not_supported_on_windows" title="Permalink to this definition"></a></dt>
<dd><p>A little helper to be invoked to consistently fail whenever functionality is
not supported (yet) on Windows</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.nothing_cm">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">nothing_cm</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#nothing_cm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.nothing_cm" title="Permalink to this definition"></a></dt>
<dd><p>Just a dummy cm to programmically switch context managers</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.open_r_encdetect">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">open_r_encdetect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">readahead</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#open_r_encdetect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.open_r_encdetect" title="Permalink to this definition"></a></dt>
<dd><p>Return a file object in read mode with auto-detected encoding</p>
<p>This is helpful when dealing with files of unknown encoding.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>readahead</strong> (<em>int</em><em>, </em><em>optional</em>) – How many bytes to read for guessing the encoding type.  If
negative - full file will be read</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.optional_args">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">optional_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">decorator</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#optional_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.optional_args" title="Permalink to this definition"></a></dt>
<dd><p>allows a decorator to take optional positional and keyword arguments.
Assumes that taking a single, callable, positional argument means that
it is decorating a function, i.e. something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@my_decorator</span>
<span class="k">def</span> <span class="nf">function</span><span class="p">():</span> <span class="k">pass</span>
</pre></div>
</div>
<p>Calls decorator with decorator(f, <cite>*args</cite>, <cite>**kwargs</cite>)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.partition">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">partition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">predicate=&lt;class</span> <span class="pre">'bool'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#partition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.partition" title="Permalink to this definition"></a></dt>
<dd><p>Partition <cite>items</cite> by <cite>predicate</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>items</strong> (<em>iterable</em>) – </p></li>
<li><p><strong>predicate</strong> (<em>callable</em>) – A function that will be mapped over each element in <cite>items</cite>. The
elements will partitioned based on whether the return value is false or
true.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>A tuple with two generators, the first for ‘false’ items and the second for</em></p></li>
<li><p><em>’true’ ones.</em></p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Taken from Peter Otten’s snippet posted at
<a class="reference external" href="https://nedbatchelder.com/blog/201306/filter_a_list_into_two_parts.html">https://nedbatchelder.com/blog/201306/filter_a_list_into_two_parts.html</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.path_is_subpath">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">path_is_subpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#path_is_subpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.path_is_subpath" title="Permalink to this definition"></a></dt>
<dd><p>Return True if path is a subpath of prefix</p>
<p>It will return False if path == prefix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – </p></li>
<li><p><strong>prefix</strong> (<em>str</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.path_startswith">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">path_startswith</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#path_startswith"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.path_startswith" title="Permalink to this definition"></a></dt>
<dd><p>Return True if path starts with prefix path</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – </p></li>
<li><p><strong>prefix</strong> (<em>str</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.posix_relpath">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">posix_relpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#posix_relpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.posix_relpath" title="Permalink to this definition"></a></dt>
<dd><p>Behave like os.path.relpath, but always return POSIX paths…</p>
<p>on any platform.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.quote_cmdlinearg">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">quote_cmdlinearg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#quote_cmdlinearg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.quote_cmdlinearg" title="Permalink to this definition"></a></dt>
<dd><p>Perform platform-appropriate argument quoting</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.read_csv_lines">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">read_csv_lines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dialect</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">readahead</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">16384</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#read_csv_lines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.read_csv_lines" title="Permalink to this definition"></a></dt>
<dd><p>A generator of dict records from a CSV/TSV</p>
<p>Automatically guesses the encoding for each record to convert to UTF-8</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fname</strong> (<em>str</em>) – Filename</p></li>
<li><p><strong>dialect</strong> (<em>str</em><em>, </em><em>optional</em>) – Dialect to specify to csv.reader. If not specified – guessed from
the file, if fails to guess, “excel-tab” is assumed</p></li>
<li><p><strong>readahead</strong> (<em>int</em><em>, </em><em>optional</em>) – How many bytes to read from the file to guess the type</p></li>
<li><p><strong>**kwargs</strong> – Passed to <cite>csv.reader</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.read_file">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">read_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#read_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.read_file" title="Permalink to this definition"></a></dt>
<dd><p>A helper to read file passing content via ensure_unicode</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>decode</strong> (<em>bool</em><em>, </em><em>optional</em>) – if False, no ensure_unicode and file content returned as bytes</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.rmdir">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">rmdir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#rmdir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.rmdir" title="Permalink to this definition"></a></dt>
<dd><p>os.rmdir with our optional checking for open files</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.rmtemp">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">rmtemp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#rmtemp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.rmtemp" title="Permalink to this definition"></a></dt>
<dd><p>Wrapper to centralize removing of temp files so we could keep them around</p>
<p>It will not remove the temporary file/directory if DATALAD_TESTS_TEMP_KEEP
environment variable is defined</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.rmtree">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">rmtree</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chmod_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">children_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#rmtree"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.rmtree" title="Permalink to this definition"></a></dt>
<dd><p>To remove git-annex .git it is needed to make all files and directories writable again first</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>Path</em><em> or </em><em>str</em>) – Path to remove</p></li>
<li><p><strong>chmod_files</strong> (<em>string</em><em> or </em><em>bool</em><em>, </em><em>optional</em>) – Whether to make files writable also before removal.  Usually it is just
a matter of directories to have write permissions.
If ‘auto’ it would chmod files on windows by default</p></li>
<li><p><strong>children_only</strong> (<em>bool</em><em>, </em><em>optional</em>) – If set, all files and subdirectories would be removed while the path
itself (must be a directory) would be preserved</p></li>
<li><p><strong>*args</strong> – </p></li>
<li><p><strong>**kwargs</strong> – Passed into shutil.rmtree call</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.rotree">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">rotree</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ro</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chmod_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#rotree"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.rotree" title="Permalink to this definition"></a></dt>
<dd><p>To make tree read-only or writable</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>string</em>) – Path to the tree/directory to chmod</p></li>
<li><p><strong>ro</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to make it R/O (default) or RW</p></li>
<li><p><strong>chmod_files</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to operate also on files (not just directories)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.saved_generator">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">saved_generator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gen</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#saved_generator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.saved_generator" title="Permalink to this definition"></a></dt>
<dd><p>Given a generator returns two generators, where 2nd one just replays</p>
<p>So the first one would be going through the generated items and 2nd one
would be yielding saved items</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.setup_exceptionhook">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">setup_exceptionhook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ipython</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#setup_exceptionhook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.setup_exceptionhook" title="Permalink to this definition"></a></dt>
<dd><p>Overloads default sys.excepthook with our exceptionhook handler.</p>
<p>If interactive, our exceptionhook handler will invoke
pdb.post_mortem; if not interactive, then invokes default handler.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.shortened_repr">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">shortened_repr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#shortened_repr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.shortened_repr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.slash_join">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">slash_join</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#slash_join"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.slash_join" title="Permalink to this definition"></a></dt>
<dd><p>Join two strings with a ‘/’, avoiding duplicate slashes</p>
<p>If any of the strings is None the other is returned as is.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.sorted_files">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">sorted_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#sorted_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.sorted_files" title="Permalink to this definition"></a></dt>
<dd><p>Return a (sorted) list of files under path</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.split_cmdline">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">split_cmdline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#split_cmdline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.split_cmdline" title="Permalink to this definition"></a></dt>
<dd><p>Perform platform-appropriate command line splitting.</p>
<p>Identical to <cite>shlex.split()</cite> on non-windows platforms.</p>
<p>Modified from <a class="reference external" href="https://stackoverflow.com/a/35900070">https://stackoverflow.com/a/35900070</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.swallow_logs">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">swallow_logs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'datalad'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#swallow_logs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.swallow_logs" title="Permalink to this definition"></a></dt>
<dd><p>Context manager to consume all logs.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.swallow_outputs">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">swallow_outputs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#swallow_outputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.swallow_outputs" title="Permalink to this definition"></a></dt>
<dd><p>Context manager to help consuming both stdout and stderr, and print()</p>
<p>stdout is available as cm.out and stderr as cm.err whenever cm is the
yielded context manager.
Internally uses temporary files to guarantee absent side-effects of swallowing
into StringIO which lacks .fileno.</p>
<p>print mocking is necessary for some uses where sys.stdout was already bound
to original sys.stdout, thus mocking it later had no effect. Overriding
print function had desired effect</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.try_multiple">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">try_multiple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ntrials</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exception</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#try_multiple"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.try_multiple" title="Permalink to this definition"></a></dt>
<dd><p>Call f multiple times making exponentially growing delay between the calls</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.try_multiple_dec">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">try_multiple_dec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ntrials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duration</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exceptions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">increment_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exceptions_filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#try_multiple_dec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.try_multiple_dec" title="Permalink to this definition"></a></dt>
<dd><p>Decorator to try function multiple times.</p>
<p>Main purpose is to decorate functions dealing with removal of files/directories
and which might need a few seconds to work correctly on Windows which takes
its time to release files/directories.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ntrials</strong> (<em>int</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>duration</strong> (<em>float</em><em>, </em><em>optional</em>) – Seconds to sleep before retrying.</p></li>
<li><p><strong>increment_type</strong> (<em>{None</em><em>, </em><em>'exponential'}</em>) – Note that if it is exponential, duration should typically be &gt; 1.0
so it grows with higher power</p></li>
<li><p><strong>exceptions</strong> (<em>Exception</em><em> or </em><em>tuple of Exceptions</em><em>, </em><em>optional</em>) – Exception or a tuple of multiple exceptions, on which to retry</p></li>
<li><p><strong>exceptions_filter</strong> (<em>callable</em><em>, </em><em>optional</em>) – If provided, this function will be called with a caught exception
instance.  If function returns True - we will re-try, if False - exception
will be re-raised without retrying.</p></li>
<li><p><strong>logger</strong> (<em>callable</em><em>, </em><em>optional</em>) – Logger to log upon failure.  If not provided, will use stock logger
at the level of 5 (heavy debug).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.unique">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">unique</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#unique"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.unique" title="Permalink to this definition"></a></dt>
<dd><p>Given a sequence return a list only with unique elements while maintaining order</p>
<p>This is the fastest solution.  See
<a class="reference external" href="https://www.peterbe.com/plog/uniqifiers-benchmark">https://www.peterbe.com/plog/uniqifiers-benchmark</a>
and
<a class="reference external" href="http://stackoverflow.com/a/480227/1265472">http://stackoverflow.com/a/480227/1265472</a>
for more information.
Enhancement – added ability to compare for uniqueness using a key function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>seq</strong> – Sequence to analyze</p></li>
<li><p><strong>key</strong> (<em>callable</em><em>, </em><em>optional</em>) – Function to call on each element so we could decide not on a full
element, but on its member etc</p></li>
<li><p><strong>reverse</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, uniqueness checked in the reverse order, so that the later ones
will take the order</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.unlink">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">unlink</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#unlink"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.unlink" title="Permalink to this definition"></a></dt>
<dd><p>‘Robust’ unlink.  Would try multiple times</p>
<p>On windows boxes there is evidence for a latency of more than a second
until a file is considered no longer “in-use”.
WindowsError is not known on Linux, and if IOError or any other
exception
is thrown then if except statement has WindowsError in it – NameError
also see gh-2533</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.updated">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">updated</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#updated"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.updated" title="Permalink to this definition"></a></dt>
<dd><p>Return a copy of the input with the ‘update’</p>
<p>Primarily for updating dictionaries</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.utils.with_pathsep">
<span class="sig-prename descclassname"><span class="pre">datalad.utils.</span></span><span class="sig-name descname"><span class="pre">with_pathsep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/utils.html#with_pathsep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.utils.with_pathsep" title="Permalink to this definition"></a></dt>
<dd><p>Little helper to guarantee that path ends with /</p>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="datalad.log.html" class="btn btn-neutral float-left" title="datalad.log" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="datalad.version.html" class="btn btn-neutral float-right" title="datalad.version" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2022, DataLad team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>