<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>datalad.support.annexrepo &mdash; DataLad 0.15.3+529.gc81453444.dirty documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="datalad.support.archives" href="datalad.support.archives.html" />
    <link rel="prev" title="datalad.support.gitrepo" href="datalad.support.gitrepo.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> DataLad
            <img src="../_static/datalad_logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.15
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Change log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../acknowledgements.html">Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../publications.html">Publications</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../background.html">Background and motivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../related.html">Delineation from related solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basics.html">Basic principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credentials.html">Credentials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../metadata.html">Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../customization.html">Customization and extension of functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design/index.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../cmdline.html">Command line reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../modref.html">Python module reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../modref.html#high-level-user-interface">High-level user interface</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../modref.html#support-functionality">Support functionality</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="datalad.cmd.html">datalad.cmd</a></li>
<li class="toctree-l3"><a class="reference internal" href="datalad.consts.html">datalad.consts</a></li>
<li class="toctree-l3"><a class="reference internal" href="datalad.log.html">datalad.log</a></li>
<li class="toctree-l3"><a class="reference internal" href="datalad.utils.html">datalad.utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="datalad.version.html">datalad.version</a></li>
<li class="toctree-l3"><a class="reference internal" href="datalad.support.gitrepo.html">datalad.support.gitrepo</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">datalad.support.annexrepo</a></li>
<li class="toctree-l3"><a class="reference internal" href="datalad.support.archives.html">datalad.support.archives</a></li>
<li class="toctree-l3"><a class="reference internal" href="datalad.customremotes.base.html">datalad.customremotes.base</a></li>
<li class="toctree-l3"><a class="reference internal" href="datalad.customremotes.archives.html">datalad.customremotes.archives</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../modref.html#configuration-management">Configuration management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modref.html#test-infrastructure">Test infrastructure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modref.html#command-line-interface-infrastructure">Command line interface infrastructure</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../config.html">Configuration</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DataLad</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../modref.html">Python module reference</a> &raquo;</li>
      <li>datalad.support.annexrepo</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-datalad.support.annexrepo">
<span id="datalad-support-annexrepo"></span><h1>datalad.support.annexrepo<a class="headerlink" href="#module-datalad.support.annexrepo" title="Permalink to this headline"></a></h1>
<p>Interface to git-annex by Joey Hess.</p>
<p>For further information on git-annex see <a class="reference external" href="https://git-annex.branchable.com/">https://git-annex.branchable.com/</a>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexInitOutput">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datalad.support.annexrepo.</span></span><span class="sig-name descname"><span class="pre">AnnexInitOutput</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">done_future</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexInitOutput"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexInitOutput" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">datalad.runner.protocol.WitlessProtocol</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexInitOutput.pipe_data_received">
<span class="sig-name descname"><span class="pre">pipe_data_received</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">byts</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexInitOutput.pipe_data_received"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexInitOutput.pipe_data_received" title="Permalink to this definition"></a></dt>
<dd><p>Called when the subprocess writes data into stdout/stderr pipe.</p>
<p>fd is int file descriptor.
data is bytes object.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexInitOutput.proc_err">
<span class="sig-name descname"><span class="pre">proc_err</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#datalad.support.annexrepo.AnnexInitOutput.proc_err" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexInitOutput.proc_out">
<span class="sig-name descname"><span class="pre">proc_out</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#datalad.support.annexrepo.AnnexInitOutput.proc_out" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexJsonProtocol">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datalad.support.annexrepo.</span></span><span class="sig-name descname"><span class="pre">AnnexJsonProtocol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">done_future</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_nbytes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexJsonProtocol"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexJsonProtocol" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">datalad.runner.protocol.WitlessProtocol</span></code></p>
<p>Subprocess communication protocol for <cite>annex … –json</cite> commands</p>
<p>Importantly, parsed JSON content is returned as a result, not string output.</p>
<p>This protocol also handles git-annex’s JSON-style progress reporting.</p>
<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexJsonProtocol.add_to_output">
<span class="sig-name descname"><span class="pre">add_to_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json_object</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexJsonProtocol.add_to_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexJsonProtocol.add_to_output" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexJsonProtocol.connection_made">
<span class="sig-name descname"><span class="pre">connection_made</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transport</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexJsonProtocol.connection_made"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexJsonProtocol.connection_made" title="Permalink to this definition"></a></dt>
<dd><p>Called when a connection is made.</p>
<p>The argument is the transport representing the pipe connection.
To receive data, wait for data_received() calls.
When the connection is closed, connection_lost() is called.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexJsonProtocol.pipe_data_received">
<span class="sig-name descname"><span class="pre">pipe_data_received</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexJsonProtocol.pipe_data_received"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexJsonProtocol.pipe_data_received" title="Permalink to this definition"></a></dt>
<dd><p>Called when the subprocess writes data into stdout/stderr pipe.</p>
<p>fd is int file descriptor.
data is bytes object.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexJsonProtocol.proc_err">
<span class="sig-name descname"><span class="pre">proc_err</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#datalad.support.annexrepo.AnnexJsonProtocol.proc_err" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexJsonProtocol.proc_out">
<span class="sig-name descname"><span class="pre">proc_out</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#datalad.support.annexrepo.AnnexJsonProtocol.proc_out" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexJsonProtocol.process_exited">
<span class="sig-name descname"><span class="pre">process_exited</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexJsonProtocol.process_exited"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexJsonProtocol.process_exited" title="Permalink to this definition"></a></dt>
<dd><p>Called when subprocess has exited.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datalad.support.annexrepo.</span></span><span class="sig-name descname"><span class="pre">AnnexRepo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="datalad.support.gitrepo.html#datalad.support.gitrepo.GitRepo" title="datalad.support.gitrepo.GitRepo"><code class="xref py py-class docutils literal notranslate"><span class="pre">datalad.support.gitrepo.GitRepo</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">datalad.dataset.repo.RepoInterface</span></code></p>
<p>Representation of an git-annex repository.</p>
<p>Paths given to any of the class methods will be interpreted as relative
to PWD, in case this is currently beneath AnnexRepo’s base dir
(<cite>self.path</cite>). If PWD is outside of the repository, relative paths
will be interpreted as relative to <cite>self.path</cite>. Absolute paths will be
accepted either way.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.GIT_ANNEX_MIN_VERSION">
<span class="sig-name descname"><span class="pre">GIT_ANNEX_MIN_VERSION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'8.20200309'</span></em><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.GIT_ANNEX_MIN_VERSION" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.WEB_UUID">
<span class="sig-name descname"><span class="pre">WEB_UUID</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'00000000-0000-0000-0000-000000000001'</span></em><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.WEB_UUID" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">git</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">git_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annex_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.add" title="Permalink to this definition"></a></dt>
<dd><p>Add file(s) to the repository.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> (<em>list of str</em>) – list of paths to add to the annex</p></li>
<li><p><strong>git</strong> (<em>bool</em>) – if True, add to git instead of annex.</p></li>
<li><p><strong>backend</strong> – </p></li>
<li><p><strong>options</strong> – </p></li>
<li><p><strong>update</strong> (<em>bool</em>) – <dl>
<dt>–update option for git-add. From git’s manpage:</dt><dd><p>Update the index just where it already has an entry matching
&lt;pathspec&gt;. This removes as well as modifies index entries to match
the working tree, but adds no new files.</p>
<p>If no &lt;pathspec&gt; is given when –update option is used, all tracked
files in the entire working tree are updated (old versions of Git
used to limit the update to the current directory and its
subdirectories).</p>
<p>Note: Used only, if a call to git-add instead of git-annex-add is
performed</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list of dict or dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.add_">
<span class="sig-name descname"><span class="pre">add_</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">git</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">git_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annex_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.add_"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.add_" title="Permalink to this definition"></a></dt>
<dd><p>Like <cite>add</cite>, but returns a generator</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.add_url_to_file">
<span class="sig-name descname"><span class="pre">add_url_to_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">git_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annex_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unlink_existing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.add_url_to_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.add_url_to_file" title="Permalink to this definition"></a></dt>
<dd><p>Add file from url to the annex.</p>
<p>Downloads <cite>file</cite> from <cite>url</cite> and add it to the annex.
If annex knows <cite>file</cite> already,
records that it can be downloaded from <cite>url</cite>.</p>
<p>Note: Consider using the higher-level <cite>download_url</cite> instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<em>str</em>) – </p></li>
<li><p><strong>url</strong> (<em>str</em>) – </p></li>
<li><p><strong>options</strong> (<em>list</em>) – options to the annex command</p></li>
<li><p><strong>batch</strong> (<em>bool</em><em>, </em><em>optional</em>) – initiate or continue with a batched run of annex addurl, instead of just
calling a single git annex addurl command</p></li>
<li><p><strong>unlink_existing</strong> (<em>bool</em><em>, </em><em>optional</em>) – by default crashes if file already exists and is under git.
With this flag set to True would first remove it.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>In batch mode only ATM returns dict representation of json output returned
by annex</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.add_urls">
<span class="sig-name descname"><span class="pre">add_urls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">urls</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cwd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">git_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annex_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.add_urls"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.add_urls" title="Permalink to this definition"></a></dt>
<dd><p>Downloads each url to its own file, which is added to the annex.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>urls</strong> (<em>list of str</em>) – </p></li>
<li><p><strong>options</strong> (<em>list</em><em>, </em><em>optional</em>) – options to the annex command</p></li>
<li><p><strong>cwd</strong> (<em>string</em><em>, </em><em>optional</em>) – working directory from within which to invoke git-annex</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.adjust">
<span class="sig-name descname"><span class="pre">adjust</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.adjust"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.adjust" title="Permalink to this definition"></a></dt>
<dd><p>enter an adjusted branch</p>
<p>This command is only available in a v6+ git-annex repository.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>options</strong> (<em>list of str</em>) – currently requires ‘–unlock’ or ‘–fix’;
default: –unlock</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.annexstatus">
<span class="sig-name descname"><span class="pre">annexstatus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">untracked</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.annexstatus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.annexstatus" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.call_annex">
<span class="sig-name descname"><span class="pre">call_annex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.call_annex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.call_annex" title="Permalink to this definition"></a></dt>
<dd><p>Call annex and return standard output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> (<em>list of str</em>) – Arguments to pass to <cite>annex</cite>.</p></li>
<li><p><strong>files</strong> (<em>list of str</em><em>, </em><em>optional</em>) – File arguments to pass to <cite>annex</cite>. The advantage of passing these here
rather than as part of <cite>args</cite> is that the call will be split into
multiple calls to avoid exceeding the maximum command line length.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>standard output (str)</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>See _call_annex</strong><strong>(</strong><strong>) </strong><strong>for information on Exceptions.</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.call_annex_items_">
<span class="sig-name descname"><span class="pre">call_annex_items_</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.call_annex_items_"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.call_annex_items_" title="Permalink to this definition"></a></dt>
<dd><p>Call git-annex, splitting output on <cite>sep</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> (<em>list of str</em>) – Arguments to pass to <cite>git-annex</cite>.</p></li>
<li><p><strong>files</strong> (<em>list of str</em><em>, </em><em>optional</em>) – File arguments to pass to <cite>annex</cite>. The advantage of passing these here
rather than as part of <cite>args</cite> is that the call will be split into
multiple calls to avoid exceeding the maximum command line length.</p></li>
<li><p><strong>sep</strong> (<em>str</em><em>, </em><em>optional</em>) – Split the output by <cite>str.split(sep)</cite> rather than <cite>str.splitlines</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Generator that yields output items.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>See _call_annex</strong><strong>(</strong><strong>) </strong><strong>for information on Exceptions.</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.call_annex_oneline">
<span class="sig-name descname"><span class="pre">call_annex_oneline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.call_annex_oneline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.call_annex_oneline" title="Permalink to this definition"></a></dt>
<dd><p>Call annex for a single line of output.</p>
<p>This method filters prior output line selection to exclude git-annex
status output that is triggered by command execution, but is not
related to the particular command. This includes lines like:</p>
<blockquote>
<div><p>(merging … into git-annex)
(recording state …)</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> (<em>list of str</em>) – Arguments to pass to <cite>annex</cite>.</p></li>
<li><p><strong>files</strong> (<em>list of str</em><em>, </em><em>optional</em>) – File arguments to pass to <cite>annex</cite>. The advantage of passing these here
rather than as part of <cite>args</cite> is that the call will be split into
multiple calls to avoid exceeding the maximum command line length.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Either a single output line, or an empty string if there was no
output.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>AssertionError if there is more than one line of output.</strong> – </p></li>
<li><p><strong>See _call_annex</strong><strong>(</strong><strong>) </strong><strong>for information on Exceptions.</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.call_annex_records">
<span class="sig-name descname"><span class="pre">call_annex_records</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.call_annex_records"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.call_annex_records" title="Permalink to this definition"></a></dt>
<dd><p>Call annex with <cite>–json*</cite> to request structured result records</p>
<p>This method behaves like <cite>call_annex()</cite>, but returns parsed result
records.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> (<em>list of str</em>) – Arguments to pass to <cite>annex</cite>.</p></li>
<li><p><strong>files</strong> (<em>list of str</em><em>, </em><em>optional</em>) – File arguments to pass to <cite>annex</cite>. The advantage of passing these here
rather than as part of <cite>args</cite> is that the call will be split into
multiple calls to avoid exceeding the maximum command line length.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of parsed result records.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list(dict)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>CommandError if the call exits with a non-zero status. All result</strong> – </p></li>
<li><p><strong>records captured until the non-zero exit are available in the</strong> – </p></li>
<li><p><strong>exception's kwargs-dict attribute under key 'stdout_json'.</strong> – </p></li>
<li><p><strong>See _call_annex</strong><strong>(</strong><strong>) </strong><strong>for more information on Exceptions.</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.check_direct_mode_support">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">check_direct_mode_support</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.check_direct_mode_support"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.check_direct_mode_support" title="Permalink to this definition"></a></dt>
<dd><p>Does git-annex version support direct mode?</p>
<p>The result is cached at <cite>cls.supports_direct_mode</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.check_repository_versions">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">check_repository_versions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.check_repository_versions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.check_repository_versions" title="Permalink to this definition"></a></dt>
<dd><p>Get information on supported and upgradable repository versions.</p>
<p>The result is cached at <cite>cls.repository_versions</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>supported -&gt; list of supported versions (int)
upgradable -&gt; list of upgradable versions (int)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.copy_to">
<span class="sig-name descname"><span class="pre">copy_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.copy_to"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.copy_to" title="Permalink to this definition"></a></dt>
<dd><p>Copy the actual content of <cite>files</cite> to <cite>remote</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> (<em>str</em><em> or </em><em>list of str</em>) – path(s) to copy</p></li>
<li><p><strong>remote</strong> (<em>str</em>) – name of remote to copy <cite>files</cite> to</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>files successfully copied</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of str</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.default_backends">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">default_backends</span></span><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.default_backends" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.drop">
<span class="sig-name descname"><span class="pre">drop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.drop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.drop" title="Permalink to this definition"></a></dt>
<dd><p>Drops the content of annexed files from this repository.</p>
<p>Drops only if possible with respect to required minimal number of
available copies.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> (<em>list of str</em>) – paths to drop</p></li>
<li><p><strong>options</strong> (<em>list of str</em><em>, </em><em>optional</em>) – commandline options for the git annex drop command</p></li>
<li><p><strong>jobs</strong> (<em>int</em><em>, </em><em>optional</em>) – how many jobs to run in parallel (passed to git-annex call)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>‘success’ item in each object indicates failure/success per file
path.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list(JSON objects)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.drop_key">
<span class="sig-name descname"><span class="pre">drop_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.drop_key"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.drop_key" title="Permalink to this definition"></a></dt>
<dd><p>Drops the content of annexed files from this repository referenced by keys</p>
<p>Dangerous: it drops without checking for required minimal number of
available copies.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (<em>list of str</em><em>, </em><em>str</em>) – </p></li>
<li><p><strong>batch</strong> (<em>bool</em><em>, </em><em>optional</em>) – initiate or continue with a batched run of annex dropkey, instead of just
calling a single git annex dropkey command</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.enable_remote">
<span class="sig-name descname"><span class="pre">enable_remote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.enable_remote"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.enable_remote" title="Permalink to this definition"></a></dt>
<dd><p>Enables use of an existing special remote</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – name, the special remote was created with</p></li>
<li><p><strong>options</strong> (<em>list</em><em>, </em><em>optional</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.file_has_content">
<span class="sig-name descname"><span class="pre">file_has_content</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_quick</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.file_has_content"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.file_has_content" title="Permalink to this definition"></a></dt>
<dd><p>Check whether files have their content present under annex.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> (<em>list of str</em>) – file(s) to check for being actually present.</p></li>
<li><p><strong>allow_quick</strong> (<em>bool</em><em>, </em><em>optional</em>) – This is no longer supported.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>For each input file states whether file has content locally</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.find">
<span class="sig-name descname"><span class="pre">find</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.find"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.find" title="Permalink to this definition"></a></dt>
<dd><p>Run <cite>git annex find</cite> on file(s).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> (<em>list of str</em>) – files to find under annex</p></li>
<li><p><strong>batch</strong> (<em>bool</em><em>, </em><em>optional</em>) – initiate or continue with a batched run of annex find, instead of just
calling a single git annex find command. If any items in <cite>files</cite>
are directories, this value is treated as False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p>A dictionary the maps each item in <cite>files</cite> to its <cite>git annex find</cite></p></li>
<li><p><em>result. Items without a successful result will be an empty string, and</em></p></li>
<li><p>multi-item results (which can occur for if <cite>files</cite> includes a</p></li>
<li><p><em>directory) will be returned as a list.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.fsck">
<span class="sig-name descname"><span class="pre">fsck</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fast</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annex_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">git_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.fsck"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.fsck" title="Permalink to this definition"></a></dt>
<dd><p>Front-end for git-annex fsck</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>paths</strong> (<em>list</em>) – Limit operation to specific paths.</p></li>
<li><p><strong>remote</strong> (<em>str</em>) – If given, the identified remote will be fsck’ed instead of the
local repository.</p></li>
<li><p><strong>fast</strong> (<em>bool</em>) – If True, typically means that no actual content is being verified,
but tests are limited to the presence of files.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.get" title="Permalink to this definition"></a></dt>
<dd><p>Get the actual content of files</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> (<em>list of str</em>) – paths to get</p></li>
<li><p><strong>remote</strong> (<em>str</em><em>, </em><em>optional</em>) – from which remote to fetch content</p></li>
<li><p><strong>options</strong> (<em>list of str</em><em>, </em><em>optional</em>) – commandline options for the git annex get command</p></li>
<li><p><strong>jobs</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – how many jobs to run in parallel (passed to git-annex call).
If not specified (None), then</p></li>
<li><p><strong>key</strong> (<em>bool</em><em>, </em><em>optional</em>) – If provided file value is actually a key</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>files</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.get_annexed_files">
<span class="sig-name descname"><span class="pre">get_annexed_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_content_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patterns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.get_annexed_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.get_annexed_files" title="Permalink to this definition"></a></dt>
<dd><p>Get a list of files in annex</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>with_content_only</strong> (<em>bool</em><em>, </em><em>optional</em>) – Only list files whose content is present.</p></li>
<li><p><strong>patterns</strong> (<em>list</em><em>, </em><em>optional</em>) – Globs to pass to annex’s <cite>–include=</cite>. Files that match any of
these will be returned (i.e., they’ll be separated by <cite>–or</cite>).</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>A list of POSIX file names</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.get_content_annexinfo">
<span class="sig-name descname"><span class="pre">get_content_annexinfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">init</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'git'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_availability</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.get_content_annexinfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.get_content_annexinfo" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>paths</strong> (<em>list</em><em> or </em><em>None</em>) – Specific paths to query info for. In <cite>None</cite>, info is reported for all
content.</p></li>
<li><p><strong>init</strong> (<em>'git'</em><em> or </em><em>dict-like</em><em> or </em><em>None</em>) – If set to ‘git’ annex content info will amend the output of
GitRepo.get_content_info(), otherwise the dict-like object
supplied will receive this information and the present keys will
limit the report of annex properties. Alternatively, if <cite>None</cite>
is given, no initialization is done, and no limit is in effect.</p></li>
<li><p><strong>ref</strong> (<em>gitref</em><em> or </em><em>None</em>) – If not None, annex content info for this Git reference will be
produced, otherwise for the content of the present worktree.</p></li>
<li><p><strong>eval_availability</strong> (<em>bool</em>) – If this flag is given, evaluate whether the content of any annex’ed
file is present in the local annex.</p></li>
<li><p><strong>**kwargs</strong> – Additional arguments for GitRepo.get_content_info(), if <cite>init</cite> is
set to ‘git’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>The keys/values match those reported by GitRepo.get_content_info().
In addition, the following properties are added to each value
dictionary:</p>
<dl class="simple">
<dt><cite>type</cite></dt><dd><p>Can be ‘file’, ‘symlink’, ‘dataset’, ‘directory’, where ‘file’
is also used for annex’ed files (corrects a ‘symlink’ report
made by <cite>get_content_info()</cite>.</p>
</dd>
<dt><cite>key</cite></dt><dd><p>Annex key of a file (if an annex’ed file)</p>
</dd>
<dt><cite>bytesize</cite></dt><dd><p>Size of an annexed file in bytes.</p>
</dd>
<dt><cite>has_content</cite></dt><dd><p>Bool whether a content object for this key exists in the local
annex (with <cite>eval_availability</cite>)</p>
</dd>
<dt><cite>objloc</cite></dt><dd><p>pathlib.Path of the content object in the local annex, if one
is available (with <cite>eval_availability</cite>)</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.get_contentlocation">
<span class="sig-name descname"><span class="pre">get_contentlocation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.get_contentlocation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.get_contentlocation" title="Permalink to this definition"></a></dt>
<dd><p>Get location of the key content</p>
<p>Normally under .git/annex objects in indirect mode and within file
tree in direct mode.</p>
<p>Unfortunately there is no (easy) way to discriminate situations
when given key is simply incorrect (not known to annex) or its content
not currently present – in both cases annex just silently exits with -1</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em>) – key</p></li>
<li><p><strong>batch</strong> (<em>bool</em><em>, </em><em>optional</em>) – initiate or continue with a batched run of annex contentlocation</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>path relative to the top directory of the repository. If no content
is present, empty string is returned</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.get_corresponding_branch">
<span class="sig-name descname"><span class="pre">get_corresponding_branch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">branch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.get_corresponding_branch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.get_corresponding_branch" title="Permalink to this definition"></a></dt>
<dd><p>Get the name of a potential corresponding branch.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>branch</strong> (<em>str</em><em>, </em><em>optional</em>) – Name of the branch to report a corresponding branch for;
defaults to active branch</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Name of the corresponding branch, or <cite>None</cite> if there is no
corresponding branch.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.get_description">
<span class="sig-name descname"><span class="pre">get_description</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">uuid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.get_description"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.get_description" title="Permalink to this definition"></a></dt>
<dd><p>Get annex repository description</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>uuid</strong> (<em>str</em><em>, </em><em>optional</em>) – For which remote (based on uuid) to report description for</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None returned if not found</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.get_file_annexinfo">
<span class="sig-name descname"><span class="pre">get_file_annexinfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_availability</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.get_file_annexinfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.get_file_annexinfo" title="Permalink to this definition"></a></dt>
<dd><p>Query annex properties for a single file</p>
<p>This is the companion to get_content_annexinfo() and offers
simplified usage for single-file queries (the result lookup
based on a path is not necessary.</p>
<p>All keyword arguments have identical names and semantics as
their get_content_annexinfo() counterparts. See their
documentation for more information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<em>Path</em><em> or </em><em>str</em>) – A single path to a file in the repository.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Keys and values match the values returned by get_content_annexinfo().
If a file has no annex properties (i.e., a file that is directly
checked into Git and is not annexed), the returned dictionary is
empty.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – When a given path is not matching a single file, but resolves to
    multiple files (e.g. a directory path)</p></li>
<li><p><strong>NoSuchPathError</strong> – When the given path does not match any file in a repository</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.get_file_backend">
<span class="sig-name descname"><span class="pre">get_file_backend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.get_file_backend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.get_file_backend" title="Permalink to this definition"></a></dt>
<dd><p>Get the backend currently used for file(s).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>files</strong> (<em>list of str</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>For each file in input list indicates the used backend by a str
like “SHA256E” or “MD5”.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.get_file_key">
<span class="sig-name descname"><span class="pre">get_file_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.get_file_key"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.get_file_key" title="Permalink to this definition"></a></dt>
<dd><p>DEPRECATED. Use get_content_annexinfo()</p>
<p>See the method body for how to use get_content_annexinfo() to
replace get_file_key().</p>
<p>For single-file queries it is recommended to consider
get_file_annexinfo()</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.get_file_size">
<span class="sig-name descname"><span class="pre">get_file_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.get_file_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.get_file_size" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.get_groupwanted">
<span class="sig-name descname"><span class="pre">get_groupwanted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.get_groupwanted"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.get_groupwanted" title="Permalink to this definition"></a></dt>
<dd><p>Get <cite>groupwanted</cite> expression for a group <cite>name</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – Name of the groupwanted group</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.get_key_backend">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_key_backend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.get_key_backend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.get_key_backend" title="Permalink to this definition"></a></dt>
<dd><p>Get the backend from a given key</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.get_metadata">
<span class="sig-name descname"><span class="pre">get_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestamps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.get_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.get_metadata" title="Permalink to this definition"></a></dt>
<dd><p>Query git-annex file metadata</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> (<em>str</em><em> or </em><em>iterable</em><em>(</em><em>str</em><em>)</em>) – One or more paths for which metadata is to be queried. If one
or more paths could be directories, <cite>batch=False</cite> must be given
to prevent git-annex given an error. Due to technical limitations,
such error will lead to a hanging process.</p></li>
<li><p><strong>timestamps</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, the output contains a ‘&lt;metadatakey&gt;-lastchanged’
key for every metadata item, reflecting the modification
time, as well as a ‘lastchanged’ key with the most recent
modification time of any metadata item.</p></li>
<li><p><strong>batch</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, a <cite>metadata –batch</cite> process will be used, and only
confirmed annex’ed files can be queried (else query will hang
indefinitely). If False, invokes without –batch, and gives all files
as arguments (this can be problematic with a large number of files).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>One tuple per file (could be more items than input arguments
when directories are given). First tuple item is the filename,
second item is a dictionary with metadata key/value pairs. Note that annex
metadata tags are stored under the key ‘tag’, which is a
regular metadata item that can be manipulated like any other.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>generator</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.get_preferred_content">
<span class="sig-name descname"><span class="pre">get_preferred_content</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">property</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.get_preferred_content"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.get_preferred_content" title="Permalink to this definition"></a></dt>
<dd><p>Get preferred content configuration of a repository or remote</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>property</strong> (<em>{'wanted'</em><em>, </em><em>'required'</em><em>, </em><em>'group'}</em>) – Type of property to query</p></li>
<li><p><strong>remote</strong> (<em>str</em><em>, </em><em>optional</em>) – If not specified (None), returns the property for the local
repository.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Whether the setting is returned, or <cite>None</cite> if there is none.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If an unknown property label is given.</p></li>
<li><p><strong>CommandError</strong> – If the annex call errors.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.get_remotes">
<span class="sig-name descname"><span class="pre">get_remotes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_urls_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_special_remotes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.get_remotes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.get_remotes" title="Permalink to this definition"></a></dt>
<dd><p>Get known (special-) remotes of the repository</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exclude_special_remotes</strong> (<em>bool</em><em>, </em><em>optional</em>) – if True, don’t return annex special remotes</p></li>
<li><p><strong>with_urls_only</strong> (<em>bool</em><em>, </em><em>optional</em>) – return only remotes which have urls</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>remotes</strong> – List of names of the remotes</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.get_size_from_key">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_size_from_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.get_size_from_key"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.get_size_from_key" title="Permalink to this definition"></a></dt>
<dd><p>A little helper to obtain size encoded in a key</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>size of the file or None if either no size is encoded in the key or
key was None itself</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int or None</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – if key is considered invalid (at least its size-related part)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.get_special_remotes">
<span class="sig-name descname"><span class="pre">get_special_remotes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.get_special_remotes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.get_special_remotes" title="Permalink to this definition"></a></dt>
<dd><p>Get info about all known (not just enabled) special remotes.</p>
<p>The present implementation is not able to report on special remotes
that have only been configured in a private annex repo
(annex.private=true).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>Keys are special remote UUIDs. Each value is a dictionary with
configuration information git-annex has for the remote. This should
include the ‘type’ and ‘name’ as well as any <cite>initremote</cite> parameters
that git-annex stores.</p>
<p>Note: This is a faithful translation of git-annex:remote.log with one
exception. For a special remote initialized with the –sameas flag,
git-annex stores the special remote name under the “sameas-name” key,
we copy this value under the “name” key so that callers don’t have to
check two places for the name. If you need to detect whether you’re
working with a sameas remote, the presence of either “sameas-name” or
“sameas-uuid” is a reliable indicator.</p>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.get_tracking_branch">
<span class="sig-name descname"><span class="pre">get_tracking_branch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">branch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">corresponding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.get_tracking_branch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.get_tracking_branch" title="Permalink to this definition"></a></dt>
<dd><p>Get the tracking branch for <cite>branch</cite> if there is any.</p>
<p>By default returns the tracking branch of the corresponding branch if
<cite>branch</cite> is a managed branch.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>branch</strong> (<em>str</em>) – local branch to look up. If none is given, active branch is used.</p></li>
<li><p><strong>remote_only</strong> (<em>bool</em>) – Don’t return a value if the upstream remote is set to “.” (meaning
this repository).</p></li>
<li><p><strong>corresponding</strong> (<em>bool</em>) – If True actually look up the corresponding branch of <cite>branch</cite> (also if
<cite>branch</cite> isn’t explicitly given)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(remote or None, refspec or None) of the tracking branch</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.get_urls">
<span class="sig-name descname"><span class="pre">get_urls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.get_urls"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.get_urls" title="Permalink to this definition"></a></dt>
<dd><p>Get URLs for a file/key</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<em>str</em>) – </p></li>
<li><p><strong>key</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether provided files are actually annex keys</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>A list of URLs</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.git_annex_version">
<span class="sig-name descname"><span class="pre">git_annex_version</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.git_annex_version" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.info">
<span class="sig-name descname"><span class="pre">info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fast</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.info" title="Permalink to this definition"></a></dt>
<dd><p>Provide annex info for file(s).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>files</strong> (<em>list of str</em>) – files to look for</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Info for each file</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.init_remote">
<span class="sig-name descname"><span class="pre">init_remote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.init_remote"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.init_remote" title="Permalink to this definition"></a></dt>
<dd><p>Creates a new special remote</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – name of the special remote</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.is_available">
<span class="sig-name descname"><span class="pre">is_available</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.is_available"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.is_available" title="Permalink to this definition"></a></dt>
<dd><p>Check if file or key is available (from a remote)</p>
<p>In case if key or remote is misspecified, it wouldn’t fail but just keep
returning False, although possibly also complaining out loud ;)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<em>str</em>) – Filename or a key</p></li>
<li><p><strong>remote</strong> (<em>str</em><em>, </em><em>optional</em>) – Remote which to check.  If None, possibly multiple remotes are checked
before positive result is reported</p></li>
<li><p><strong>key</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether provided files are actually annex keys</p></li>
<li><p><strong>batch</strong> (<em>bool</em><em>, </em><em>optional</em>) – Initiate or continue with a batched run of annex checkpresentkey</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>with True indicating that file/key is available from (the) remote</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.is_crippled_fs">
<span class="sig-name descname"><span class="pre">is_crippled_fs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.is_crippled_fs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.is_crippled_fs" title="Permalink to this definition"></a></dt>
<dd><p>Return True if git-annex considers current filesystem ‘crippled’.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>True if on crippled filesystem, False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.is_direct_mode">
<span class="sig-name descname"><span class="pre">is_direct_mode</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.is_direct_mode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.is_direct_mode" title="Permalink to this definition"></a></dt>
<dd><p>Return True if annex is in direct mode</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>True if in direct mode, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.is_initialized">
<span class="sig-name descname"><span class="pre">is_initialized</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.is_initialized"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.is_initialized" title="Permalink to this definition"></a></dt>
<dd><p>quick check whether this appears to be an annex-init’ed repo</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.is_managed_branch">
<span class="sig-name descname"><span class="pre">is_managed_branch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">branch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.is_managed_branch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.is_managed_branch" title="Permalink to this definition"></a></dt>
<dd><p>Whether <cite>branch</cite> is managed by git-annex.</p>
<p>ATM this returns True if on an adjusted branch of annex v6+ repository:
either ‘adjusted/my_branch(unlocked)’ or ‘adjusted/my_branch(fixed)’</p>
<p>Note: The term ‘managed branch’ is used to make clear it’s meant to be
more general than the v6+ ‘adjusted branch’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>branch</strong> (<em>str</em>) – name of the branch; default: active branch</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if on a managed branch, False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.is_remote_annex_ignored">
<span class="sig-name descname"><span class="pre">is_remote_annex_ignored</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">remote</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.is_remote_annex_ignored"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.is_remote_annex_ignored" title="Permalink to this definition"></a></dt>
<dd><p>Return True if remote is explicitly ignored</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.is_special_annex_remote">
<span class="sig-name descname"><span class="pre">is_special_annex_remote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">remote</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_if_known</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.is_special_annex_remote"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.is_special_annex_remote" title="Permalink to this definition"></a></dt>
<dd><p>Return whether remote is a special annex remote</p>
<p>Decides based on the presence of an annex- option and lack of a
configured URL for the remote.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.is_under_annex">
<span class="sig-name descname"><span class="pre">is_under_annex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_quick</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.is_under_annex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.is_under_annex" title="Permalink to this definition"></a></dt>
<dd><p>Check whether files are under annex control</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> (<em>list of str</em>) – file(s) to check for being under annex</p></li>
<li><p><strong>allow_quick</strong> (<em>bool</em><em>, </em><em>optional</em>) – This is no longer supported.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>For each input file states whether file is under annex</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.is_valid_annex">
<span class="sig-name descname"><span class="pre">is_valid_annex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">allow_noninitialized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_git</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.is_valid_annex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.is_valid_annex" title="Permalink to this definition"></a></dt>
<dd><p>Returns whether the underlying repository appears to be still valid</p>
<p>Note, that this almost identical to the classmethod is_valid_repo().
However, if we are testing an existing instance, we can save Path object
creations. Since this testing is done a lot, this is relevant. Creation
of the Path objects in is_valid_repo() takes nearly half the time of the
entire function.</p>
<p>Also note, that this method is bound to an instance but still
class-dependent, meaning that a subclass cannot simply overwrite it.
This is particularly important for the call from within __init__(),
which in turn is called by the subclasses’ __init__. Using an overwrite
would lead to the wrong thing being called.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.is_valid_repo">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_valid_repo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_noninitialized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.is_valid_repo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.is_valid_repo" title="Permalink to this definition"></a></dt>
<dd><p>Return True if given path points to an annex repository</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.localsync">
<span class="sig-name descname"><span class="pre">localsync</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">remote</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">managed_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.localsync"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.localsync" title="Permalink to this definition"></a></dt>
<dd><p>Consolidate the local git-annex branch and/or managed branches.</p>
<p>This method calls <cite>git annex sync</cite> to perform purely local operations
that:</p>
<ol class="arabic simple">
<li><p>Update the corresponding branch of any managed branch.</p></li>
<li><p>Synchronize the local ‘git-annex’ branch with respect to particular
or all remotes (as currently reflected in the local state of their
remote ‘git-annex’ branches).</p></li>
</ol>
<p>If a repository has git-annex’s ‘synced/…’ branches these will be
updated.  Otherwise, such branches that are created by <cite>git annex sync</cite>
are removed again after the sync is complete.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>remote</strong> (<em>str</em><em> or </em><em>list</em><em>, </em><em>optional</em>) – If given, specifies the name of one or more remotes to sync against.
If not given, all remotes are considered.</p></li>
<li><p><strong>managed_only</strong> (<em>bool</em><em>, </em><em>optional</em>) – Only perform a sync if a managed branch with a corresponding branch
is detected. By default, a sync is always performed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.merge_annex">
<span class="sig-name descname"><span class="pre">merge_annex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">remote</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.merge_annex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.merge_annex" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.migrate_backend">
<span class="sig-name descname"><span class="pre">migrate_backend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.migrate_backend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.migrate_backend" title="Permalink to this definition"></a></dt>
<dd><p>Changes the backend used for <cite>file</cite>.</p>
<p>The backend used for the key-value of <cite>files</cite>. Only files currently
present are migrated.
Note: There will be no notification if migrating fails due to the
absence of a file’s content!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> (<em>list</em>) – files to migrate.</p></li>
<li><p><strong>backend</strong> (<em>str</em>) – specify the backend to migrate to. If none is given, the
default backend of this instance will be used.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.precommit">
<span class="sig-name descname"><span class="pre">precommit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.precommit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.precommit" title="Permalink to this definition"></a></dt>
<dd><p>Perform pre-commit maintenance tasks, such as closing all batched annexes
since they might still need to flush their changes into index</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.remove">
<span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.remove"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.remove" title="Permalink to this definition"></a></dt>
<dd><p>Remove files from git/annex</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> – </p></li>
<li><p><strong>force</strong> (<em>bool</em><em>, </em><em>optional</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.repo_info">
<span class="sig-name descname"><span class="pre">repo_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fast</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge_annex_branches</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.repo_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.repo_info" title="Permalink to this definition"></a></dt>
<dd><p>Provide annex info for the entire repository.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fast</strong> (<em>bool</em><em>, </em><em>optional</em>) – Pass <cite>–fast</cite> to <cite>git annex info</cite>.</p></li>
<li><p><strong>merge_annex_branches</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to allow git-annex if needed to merge annex branches, e.g. to
make sure up to date descriptions for git annex remotes</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Info for the repository, with keys matching the ones returned by annex</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.repository_versions">
<span class="sig-name descname"><span class="pre">repository_versions</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.repository_versions" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.rm_url">
<span class="sig-name descname"><span class="pre">rm_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.rm_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.rm_url" title="Permalink to this definition"></a></dt>
<dd><p>Record that the file is no longer available at the url.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<em>str</em>) – </p></li>
<li><p><strong>url</strong> (<em>str</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.set_default_backend">
<span class="sig-name descname"><span class="pre">set_default_backend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">backend</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">persistent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">commit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.set_default_backend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.set_default_backend" title="Permalink to this definition"></a></dt>
<dd><p>Set default backend</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backend</strong> (<em>str</em>) – </p></li>
<li><p><strong>persistent</strong> (<em>bool</em><em>, </em><em>optional</em>) – If persistent, would add/commit to .gitattributes. If not – would
set within .git/config</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.set_groupwanted">
<span class="sig-name descname"><span class="pre">set_groupwanted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.set_groupwanted"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.set_groupwanted" title="Permalink to this definition"></a></dt>
<dd><p>Set <cite>expr</cite> for the <cite>name</cite> groupwanted</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.set_metadata">
<span class="sig-name descname"><span class="pre">set_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">init</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">purge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.set_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.set_metadata" title="Permalink to this definition"></a></dt>
<dd><p>Manipulate git-annex file-metadata</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> (<em>str</em><em> or </em><em>list</em><em>(</em><em>str</em><em>)</em>) – One or more paths for which metadata is to be manipulated.
The changes applied to each file item are uniform. However,
the result may not be uniform across files, depending on the
actual operation.</p></li>
<li><p><strong>reset</strong> (<em>dict</em><em>, </em><em>optional</em>) – Metadata items matching keys in the given dict are (re)set
to the respective values.</p></li>
<li><p><strong>add</strong> (<em>dict</em><em>, </em><em>optional</em>) – The values of matching keys in the given dict appended to
any possibly existing values. The metadata keys need not
necessarily exist before.</p></li>
<li><p><strong>init</strong> (<em>dict</em><em>, </em><em>optional</em>) – Metadata items for the keys in the given dict are set
to the respective values, if the key is not yet present
in a file’s metadata.</p></li>
<li><p><strong>remove</strong> (<em>dict</em><em>, </em><em>optional</em>) – Values in the given dict are removed from the metadata items
matching the respective key, if they exist in a file’s metadata.
Non-existing values, or keys do not lead to failure.</p></li>
<li><p><strong>purge</strong> (<em>list</em><em>, </em><em>optional</em>) – Any metadata item with a key matching an entry in the given
list is removed from the metadata.</p></li>
<li><p><strong>recursive</strong> (<em>bool</em><em>, </em><em>optional</em>) – If False, fail (with CommandError) when directory paths
are given as <cite>files</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>JSON obj per modified file</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.set_metadata_">
<span class="sig-name descname"><span class="pre">set_metadata_</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">init</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">purge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.set_metadata_"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.set_metadata_" title="Permalink to this definition"></a></dt>
<dd><p>Like set_metadata() but returns a generator</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.set_preferred_content">
<span class="sig-name descname"><span class="pre">set_preferred_content</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">property</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.set_preferred_content"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.set_preferred_content" title="Permalink to this definition"></a></dt>
<dd><p>Set preferred content configuration of a repository or remote</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>property</strong> (<em>{'wanted'</em><em>, </em><em>'required'</em><em>, </em><em>'group'}</em>) – Type of property to query</p></li>
<li><p><strong>expr</strong> (<em>str</em>) – Any expression or label supported by git-annex for the
given property.</p></li>
<li><p><strong>remote</strong> (<em>str</em><em>, </em><em>optional</em>) – If not specified (None), sets the property for the local
repository.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Raw git-annex output in response to the set command.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If an unknown property label is given.</p></li>
<li><p><strong>CommandError</strong> – If the annex call errors.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.set_remote_dead">
<span class="sig-name descname"><span class="pre">set_remote_dead</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.set_remote_dead"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.set_remote_dead" title="Permalink to this definition"></a></dt>
<dd><p>Announce to annex that remote is “dead”</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.set_remote_url">
<span class="sig-name descname"><span class="pre">set_remote_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">push</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.set_remote_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.set_remote_url" title="Permalink to this definition"></a></dt>
<dd><p>Set the URL a remote is pointing to</p>
<p>Sets the URL of the remote <cite>name</cite>. Requires the remote to already exist.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – name of the remote</p></li>
<li><p><strong>url</strong> (<em>str</em>) – </p></li>
<li><p><strong>push</strong> (<em>bool</em>) – if True, set the push URL, otherwise the fetch URL;
if True, additionally set annexurl to <cite>url</cite>, to make sure annex uses
it to talk to the remote, since access via fetch URL might be
restricted.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.supports_direct_mode">
<span class="sig-name descname"><span class="pre">supports_direct_mode</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.supports_direct_mode" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.supports_unlocked_pointers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">supports_unlocked_pointers</span></span><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.supports_unlocked_pointers" title="Permalink to this definition"></a></dt>
<dd><p>Return True if repository version supports unlocked pointers.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.sync">
<span class="sig-name descname"><span class="pre">sync</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">remotes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">push</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pull</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">commit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fast</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.sync"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.sync" title="Permalink to this definition"></a></dt>
<dd><p>This method is deprecated, use call_annex([‘sync’, …]) instead.</p>
<p>Synchronize local repository with remotes</p>
<p>Use  this  command  when you want to synchronize the local repository
with one or more of its remotes. You can specify the remotes (or
remote groups) to sync with by name; the default if none are specified
is to sync with all remotes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>remotes</strong> (<em>str</em><em>, </em><em>list</em><em>(</em><em>str</em><em>)</em><em>, </em><em>optional</em>) – Name of one or more remotes to be sync’ed.</p></li>
<li><p><strong>push</strong> (<em>bool</em>) – By default, git pushes to remotes.</p></li>
<li><p><strong>pull</strong> (<em>bool</em>) – By default, git pulls from remotes</p></li>
<li><p><strong>commit</strong> (<em>bool</em>) – A commit is done by default. Disable to avoid  committing local
changes.</p></li>
<li><p><strong>content</strong> (<em>bool</em>) – Normally, syncing does not transfer the contents of annexed
files.  This option causes the content of files in the work tree
to also be uploaded and downloaded as necessary.</p></li>
<li><p><strong>all</strong> (<em>bool</em>) – This option, when combined with <cite>content</cite>, makes all available
versions of all files be synced, when preferred content settings
allow</p></li>
<li><p><strong>fast</strong> (<em>bool</em>) – Only sync with the remotes with the lowest annex-cost value
configured</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.unannex">
<span class="sig-name descname"><span class="pre">unannex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.unannex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.unannex" title="Permalink to this definition"></a></dt>
<dd><p>undo accidental add command</p>
<p>Use this to undo an accidental git annex add command. Note that for
safety, the content of the file remains in the annex, until you use git
annex unused and git annex dropunused.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> (<em>list of str</em>) – </p></li>
<li><p><strong>options</strong> (<em>list of str</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>successfully unannexed files</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.unlock">
<span class="sig-name descname"><span class="pre">unlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.unlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.unlock" title="Permalink to this definition"></a></dt>
<dd><p>unlock files for modification</p>
<p>Note: This method is silent about errors in unlocking a file (e.g, the
file has not content). Use the higher-level interface.unlock to get
more informative reporting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>files</strong> (<em>list of str</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>successfully unlocked files</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of str</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.uuid">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">uuid</span></span><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.uuid" title="Permalink to this definition"></a></dt>
<dd><p>Annex UUID</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Returns a the annex UUID, if there is any, or <cite>None</cite> otherwise.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.AnnexRepo.whereis">
<span class="sig-name descname"><span class="pre">whereis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'uuids'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#AnnexRepo.whereis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.AnnexRepo.whereis" title="Permalink to this definition"></a></dt>
<dd><p>Lists repositories that have actual content of file(s).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> (<em>list of str</em>) – files to look for</p></li>
<li><p><strong>output</strong> (<em>{'descriptions'</em><em>, </em><em>'uuids'</em><em>, </em><em>'full'}</em><em>, </em><em>optional</em>) – If ‘descriptions’, a list of remotes descriptions returned is per
each file. If ‘full’, for each file a dictionary of all fields
is returned as returned by annex</p></li>
<li><p><strong>key</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether provided files are actually annex keys</p></li>
<li><p><strong>options</strong> (<em>list</em><em>, </em><em>optional</em>) – Options to pass into git-annex call</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>if output == ‘descriptions’, contains a list of descriptions of remotes
for each input file, describing the remote for each remote, which
was found by git-annex whereis, like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="sa">u</span><span class="s1">&#39;me@mycomputer:~/where/my/repo/is [origin]&#39;</span> <span class="ow">or</span>
<span class="sa">u</span><span class="s1">&#39;web&#39;</span> <span class="ow">or</span>
<span class="sa">u</span><span class="s1">&#39;me@mycomputer:~/some/other/clone&#39;</span>
</pre></div>
</div>
<p>if output == ‘uuids’, returns a list of uuids.
if output == ‘full’, returns a dictionary with filenames as keys
and values a detailed record, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;00000000-0000-0000-0000-000000000001&#39;</span><span class="p">:</span> <span class="p">{</span>
  <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;web&#39;</span><span class="p">,</span>
  <span class="s1">&#39;here&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
  <span class="s1">&#39;urls&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;http://127.0.0.1:43442/about.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;http://example.com/someurl&#39;</span><span class="p">]</span>
<span class="p">}}</span>
</pre></div>
</div>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of list of unicode  or dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="datalad.support.annexrepo.BatchedAnnex">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datalad.support.annexrepo.</span></span><span class="sig-name descname"><span class="pre">BatchedAnnex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">annex_cmd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">git_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annex_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_proc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#BatchedAnnex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.BatchedAnnex" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="datalad.cmd.html#datalad.cmd.BatchedCommand" title="datalad.cmd.BatchedCommand"><code class="xref py py-class docutils literal notranslate"><span class="pre">datalad.cmd.BatchedCommand</span></code></a></p>
<p>Container for an annex process which would allow for persistent communication</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="datalad.support.annexrepo.BatchedAnnexes">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datalad.support.annexrepo.</span></span><span class="sig-name descname"><span class="pre">BatchedAnnexes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">git_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#BatchedAnnexes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.BatchedAnnexes" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="datalad.cmd.html#datalad.cmd.SafeDelCloseMixin" title="datalad.cmd.SafeDelCloseMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">datalad.cmd.SafeDelCloseMixin</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>Class to contain the registry of active batch’ed instances of annex for
a repository</p>
<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.BatchedAnnexes.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#BatchedAnnexes.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.BatchedAnnexes.clear" title="Permalink to this definition"></a></dt>
<dd><p>Override just to make sure we don’t rely on __del__ to close all
the pipes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.BatchedAnnexes.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#BatchedAnnexes.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.BatchedAnnexes.close" title="Permalink to this definition"></a></dt>
<dd><p>Close communication to all the batched annexes</p>
<p>It does not remove them from the dictionary though</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.BatchedAnnexes.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">codename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annex_cmd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#BatchedAnnexes.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.BatchedAnnexes.get" title="Permalink to this definition"></a></dt>
<dd><p>Return the value for key if key is in the dictionary, else default.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="datalad.support.annexrepo.GeneratorAnnexJsonProtocol">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datalad.support.annexrepo.</span></span><span class="sig-name descname"><span class="pre">GeneratorAnnexJsonProtocol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">done_future</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_nbytes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#GeneratorAnnexJsonProtocol"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.GeneratorAnnexJsonProtocol" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">datalad.runner.protocol.GeneratorMixIn</span></code>, <a class="reference internal" href="#datalad.support.annexrepo.AnnexJsonProtocol" title="datalad.support.annexrepo.AnnexJsonProtocol"><code class="xref py py-class docutils literal notranslate"><span class="pre">datalad.support.annexrepo.AnnexJsonProtocol</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="datalad.support.annexrepo.GeneratorAnnexJsonProtocol.add_to_output">
<span class="sig-name descname"><span class="pre">add_to_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json_object</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#GeneratorAnnexJsonProtocol.add_to_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.GeneratorAnnexJsonProtocol.add_to_output" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.support.annexrepo.readline_json">
<span class="sig-prename descclassname"><span class="pre">datalad.support.annexrepo.</span></span><span class="sig-name descname"><span class="pre">readline_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stdout</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#readline_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.readline_json" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.support.annexrepo.readlines_until_ok_or_failed">
<span class="sig-prename descclassname"><span class="pre">datalad.support.annexrepo.</span></span><span class="sig-name descname"><span class="pre">readlines_until_ok_or_failed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stdout</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxlines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/support/annexrepo.html#readlines_until_ok_or_failed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.support.annexrepo.readlines_until_ok_or_failed" title="Permalink to this definition"></a></dt>
<dd><p>Read stdout until line ends with ok or failed</p>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="datalad.support.gitrepo.html" class="btn btn-neutral float-left" title="datalad.support.gitrepo" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="datalad.support.archives.html" class="btn btn-neutral float-right" title="datalad.support.archives" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2022, DataLad team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>