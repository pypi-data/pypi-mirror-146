<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>datalad remove &mdash; DataLad 0.15.3+529.gc81453444.dirty documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="datalad subdatasets" href="datalad-subdatasets.html" />
    <link rel="prev" title="datalad no-annex" href="datalad-no-annex.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> DataLad
            <img src="../../_static/datalad_logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.15
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Change log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../acknowledgements.html">Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../publications.html">Publications</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../background.html">Background and motivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../related.html">Delineation from related solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../basics.html">Basic principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../credentials.html">Credentials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../metadata.html">Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../customization.html">Customization and extension of functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../design/index.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../cmdline.html">Command line reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../cmdline.html#main-command">Main command</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmdline.html#core-commands">Core commands</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../cmdline.html#extended-set-of-functionality">Extended set of functionality</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../../cmdline.html#dataset-operations">Dataset operations</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="datalad-add-readme.html">datalad add-readme: Add information on DataLad dataset to a README</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad-addurls.html">datalad addurls: Update dataset content from a list of URLs</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad-copy-file.html">datalad copy-file: Copy file identity and availability from one dataset to another</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad-drop.html">datalad drop: Drop datasets or dataset components</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad-get.html">datalad get: Obtain any dataset content</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad-install.html">datalad install: Install a dataset from a (remote) source</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad-no-annex.html">datalad no-annex: Configure a dataset to never put file content into an annex</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">datalad remove: Unlink components from a dataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad-subdatasets.html">datalad subdatasets: Query and manipulate subdataset records of a dataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad-unlock.html">datalad unlock: Make dataset file content editable</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../cmdline.html#dataset-siblings-and-3rd-party-platform-support">Dataset siblings and 3rd-party platform support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cmdline.html#reproducible-execution">Reproducible execution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cmdline.html#metadata-handling">Metadata handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cmdline.html#helpers-and-support-utilities">Helpers and support utilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cmdline.html#deprecated-commands">Deprecated commands</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../modref.html">Python module reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../config.html">Configuration</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">DataLad</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../cmdline.html">Command line reference</a> &raquo;</li>
      <li>datalad remove</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="datalad-remove">
<span id="man-datalad-remove"></span><h1>datalad remove<a class="headerlink" href="#datalad-remove" title="Permalink to this headline"></a></h1>
<section id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">datalad</span> <span class="n">remove</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">d</span> <span class="n">DATASET</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">drop</span> <span class="p">{</span><span class="n">datasets</span><span class="o">|</span><span class="nb">all</span><span class="p">}]</span> <span class="p">[</span><span class="o">--</span><span class="n">reckless</span>
    <span class="p">{</span><span class="n">modification</span><span class="o">|</span><span class="n">availability</span><span class="o">|</span><span class="n">undead</span><span class="o">|</span><span class="n">kill</span><span class="p">}]</span> <span class="p">[</span><span class="o">-</span><span class="n">m</span> <span class="n">MESSAGE</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">J</span> <span class="n">NJOBS</span><span class="p">]</span>
    <span class="p">[</span><span class="o">--</span><span class="n">recursive</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">nocheck</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">nosave</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="k">if</span><span class="o">-</span><span class="n">dirty</span> <span class="n">IF_DIRTY</span><span class="p">]</span>
    <span class="p">[</span><span class="o">--</span><span class="n">version</span><span class="p">]</span> <span class="p">[</span><span class="n">PATH</span> <span class="o">...</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline"></a></h2>
<p>Remove components from datasets</p>
<p>Removing “unlinks” a dataset component, such as a file or subdataset, from
a dataset. Such a removal advances the state of a dataset, just like adding
new content. A remove operation can be undone, by restoring a previous
dataset state, but might require re-obtaining file content and subdatasets
from remote locations.</p>
<p>This command relies on the ‘drop’ command for safe operation. By default,
only file content from datasets which will be uninstalled as part of
a removal will be dropped. Otherwise file content is retained, such that
restoring a previous version also immediately restores file content access,
just as it is the case for files directly committed to Git. This default
behavior can be changed to always drop content prior removal, for cases
where a minimal storage footprint for local datasets installations is
desirable.</p>
<p>Removing a dataset component is always a recursive operation. Removing a
directory, removes all content underneath the directory too. If
subdatasets are located under a to-be-removed path, they will be
uninstalled entirely, and all their content dropped. If any subdataset
can not be uninstalled safely, the remove operation will fail and halt.</p>
<dl class="simple">
<dt>Changed in version 0.16</dt><dd><p>More in-depth and comprehensive safety-checks are now performed by
default.
The <code class="docutils literal notranslate"><span class="pre">--if-dirty</span></code> argument is ignored, will be removed in
a future release, and can be removed for a safe-by-default behavior. For
other cases consider the <code class="docutils literal notranslate"><span class="pre">--reckless</span></code> argument.
The <code class="docutils literal notranslate"><span class="pre">--save</span></code> argument is ignored and will be removed in a future
release, a dataset modification is now always saved. Consider save’s
<code class="docutils literal notranslate"><span class="pre">--amend</span></code> argument for post-remove fix-ups.
The <code class="docutils literal notranslate"><span class="pre">--recursive</span></code> argument is ignored, and will be removed
in a future release. Removal operations are always recursive, and the
parameter can be stripped from calls for a safe-by-default behavior.</p>
</dd>
<dt>Deprecated in version 0.16</dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">--check</span></code> argument will be removed in a future release.
It needs to be replaced with <code class="docutils literal notranslate"><span class="pre">--reckless</span></code>.</p>
</dd>
</dl>
<p><em>Examples</em></p>
<p>Permanently remove a subdataset (and all further subdatasets contained
in it) from a dataset:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">datalad</span> <span class="n">remove</span> <span class="o">-</span><span class="n">d</span> <span class="o">&lt;</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">dataset</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">subds</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Permanently remove a superdataset (with all subdatasets) from the
filesystem:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">datalad</span> <span class="n">remove</span> <span class="o">-</span><span class="n">d</span> <span class="o">&lt;</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">dataset</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>DANGER-ZONE: Fast wipe-out a dataset and all its subdataset, bypassing
all safety checks:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">datalad</span> <span class="n">remove</span> <span class="o">-</span><span class="n">d</span> <span class="o">&lt;</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">dataset</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">reckless</span> <span class="n">kill</span>
</pre></div>
</div>
</section>
<section id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline"></a></h2>
<section id="path">
<h3>PATH<a class="headerlink" href="#path" title="Permalink to this headline"></a></h3>
<p>path of a dataset or dataset component to be removed. Constraints: value must be a string</p>
</section>
<section id="h-help-help-np">
<h3><strong>-h</strong>, <strong>-\-help</strong>, <strong>-\-help-np</strong><a class="headerlink" href="#h-help-help-np" title="Permalink to this headline"></a></h3>
<p>show this help message. –help-np forcefully disables the use of a pager for displaying the help message</p>
</section>
<section id="d-dataset-dataset-dataset">
<h3><strong>-d</strong> DATASET, <strong>-\-dataset</strong> DATASET<a class="headerlink" href="#d-dataset-dataset-dataset" title="Permalink to this headline"></a></h3>
<p>specify the dataset to perform remove from. If no dataset is given, the current working directory is used as operation context. Constraints: Value must be a Dataset or a valid identifier of a Dataset (e.g. a path)</p>
</section>
<section id="drop-datasets-all">
<h3><strong>-\-drop</strong> {datasets|all}<a class="headerlink" href="#drop-datasets-all" title="Permalink to this headline"></a></h3>
<p>which dataset components to drop prior removal. This parameter is passed on to the underlying drop operation as its ‘what’ argument. Constraints: value must be one of (‘datasets’, ‘all’) [Default: ‘datasets’]</p>
</section>
<section id="reckless-modification-availability-undead-kill">
<h3><strong>-\-reckless</strong> {modification|availability|undead|kill}<a class="headerlink" href="#reckless-modification-availability-undead-kill" title="Permalink to this headline"></a></h3>
<p>disable individual or all data safety measures that would normally prevent potentially irreversible data-loss. With ‘modification’, unsaved modifications in a dataset will not be detected. This improves performance at the cost of permitting potential loss of unsaved or untracked dataset components. With ‘availability’, detection of dataset/branch-states that are only available in the local dataset, and detection of an insufficient number of file-content copies will be disabled. Especially the latter is a potentially expensive check which might involve numerous network transactions. With ‘undead’, detection of whether a to-be-removed local annex is still known to exist in the network of dataset-clones is disabled. This could cause zombie-records of invalid file availability. With ‘kill’, all safety-checks are disabled. Constraints: value must be one of (‘modification’, ‘availability’, ‘undead’, ‘kill’)</p>
</section>
<section id="m-message-message-message">
<h3><strong>-m</strong> MESSAGE, <strong>-\-message</strong> MESSAGE<a class="headerlink" href="#m-message-message-message" title="Permalink to this headline"></a></h3>
<p>a description of the state or the changes made to a dataset. Constraints: value must be a string</p>
</section>
<section id="j-njobs-jobs-njobs">
<h3><strong>-J</strong> NJOBS, <strong>-\-jobs</strong> NJOBS<a class="headerlink" href="#j-njobs-jobs-njobs" title="Permalink to this headline"></a></h3>
<p>how many parallel jobs (where possible) to use. “auto” corresponds to the number defined by ‘datalad.runtime.max-annex-jobs’ configuration item. Constraints: value must be convertible to type ‘int’, or value must be one of (‘auto’,)</p>
</section>
<section id="recursive-r">
<h3><strong>-\-recursive</strong>, <strong>-r</strong><a class="headerlink" href="#recursive-r" title="Permalink to this headline"></a></h3>
<p>DEPRECATED and IGNORED: removal is always a recursive operation.</p>
</section>
<section id="nocheck">
<h3><strong>-\-nocheck</strong><a class="headerlink" href="#nocheck" title="Permalink to this headline"></a></h3>
<p>DEPRECATED: use ‘–reckless availability’.</p>
</section>
<section id="nosave">
<h3><strong>-\-nosave</strong><a class="headerlink" href="#nosave" title="Permalink to this headline"></a></h3>
<p>DEPRECATED and IGNORED; use <cite>save –amend</cite> instead.</p>
</section>
<section id="if-dirty-if-dirty">
<h3><strong>-\-if-dirty</strong> <em>IF_DIRTY</em><a class="headerlink" href="#if-dirty-if-dirty" title="Permalink to this headline"></a></h3>
<p>DEPRECATED and IGNORED: use –reckless instead.</p>
</section>
<section id="version">
<h3><strong>-\-version</strong><a class="headerlink" href="#version" title="Permalink to this headline"></a></h3>
<p>show the module and its version which provides the command</p>
</section>
</section>
<section id="authors">
<h2>Authors<a class="headerlink" href="#authors" title="Permalink to this headline"></a></h2>
<p>datalad is developed by The DataLad Team and Contributors &lt;<a class="reference external" href="mailto:team&#37;&#52;&#48;datalad&#46;org">team<span>&#64;</span>datalad<span>&#46;</span>org</a>&gt;.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="datalad-no-annex.html" class="btn btn-neutral float-left" title="datalad no-annex" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="datalad-subdatasets.html" class="btn btn-neutral float-right" title="datalad subdatasets" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2022, DataLad team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>