<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>datalad.api.create &mdash; DataLad 0.15.3+529.gc81453444.dirty documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="datalad.api.create_sibling" href="datalad.api.create_sibling.html" />
    <link rel="prev" title="datalad.api.Dataset" href="datalad.api.Dataset.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> DataLad
            <img src="../_static/datalad_logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.15
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Change log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../acknowledgements.html">Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../publications.html">Publications</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../background.html">Background and motivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../related.html">Delineation from related solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basics.html">Basic principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credentials.html">Credentials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../metadata.html">Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../customization.html">Customization and extension of functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design/index.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../cmdline.html">Command line reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../modref.html">Python module reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../modref.html#high-level-user-interface">High-level user interface</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../modref.html#dataset-operations">Dataset operations</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="datalad.api.Dataset.html">datalad.api.Dataset</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">datalad.api.create</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.create_sibling.html">datalad.api.create_sibling</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.create_sibling_github.html">datalad.api.create_sibling_github</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.create_sibling_gitlab.html">datalad.api.create_sibling_gitlab</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.create_sibling_gogs.html">datalad.api.create_sibling_gogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.create_sibling_gitea.html">datalad.api.create_sibling_gitea</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.create_sibling_gin.html">datalad.api.create_sibling_gin</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.drop.html">datalad.api.drop</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.get.html">datalad.api.get</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.install.html">datalad.api.install</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.push.html">datalad.api.push</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.remove.html">datalad.api.remove</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.save.html">datalad.api.save</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.update.html">datalad.api.update</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.unlock.html">datalad.api.unlock</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../modref.html#metadata-handling">Metadata handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../modref.html#reproducible-execution">Reproducible execution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../modref.html#plumbing-commands">Plumbing commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../modref.html#miscellaneous-commands">Miscellaneous commands</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../modref.html#support-functionality">Support functionality</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modref.html#configuration-management">Configuration management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modref.html#test-infrastructure">Test infrastructure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modref.html#command-line-interface-infrastructure">Command line interface infrastructure</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../config.html">Configuration</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DataLad</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../modref.html">Python module reference</a> &raquo;</li>
      <li>datalad.api.create</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="datalad-api-create">
<h1>datalad.api.create<a class="headerlink" href="#datalad-api-create" title="Permalink to this headline">ÔÉÅ</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="datalad.api.create">
<span class="sig-prename descclassname"><span class="pre">datalad.api.</span></span><span class="sig-name descname"><span class="pre">create</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initopts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fake_dates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg_proc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#datalad.api.create" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Create a new dataset from scratch.</p>
<p>This command initializes a new dataset at a given location, or the
current directory. The new dataset can optionally be registered in an
existing superdataset (the new dataset‚Äôs path needs to be located
within the superdataset for that, and the superdataset needs to be given
explicitly via <cite>dataset</cite>). It is recommended
to provide a brief description to label the dataset‚Äôs nature <em>and</em>
location, e.g. ‚ÄúMichael‚Äôs music on black laptop‚Äù. This helps humans to
identify data locations in distributed scenarios.  By default an identifier
comprised of user and machine name, plus path will be generated.</p>
<p>This command only creates a new dataset, it does not add existing content
to it, even if the target directory already contains additional files or
directories.</p>
<p>Plain Git repositories can be created via <cite>annex=False</cite>.
However, the result will not be a full dataset, and, consequently,
not all features are supported (e.g. a description).</p>
<p>To create a local version of a remote dataset use the
<a class="reference internal" href="datalad.api.install.html#datalad.api.install" title="datalad.api.install"><code class="xref py py-func docutils literal notranslate"><span class="pre">install()</span></code></a> command instead.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Power-user info: This command uses <strong class="command">git init</strong> and
<strong class="command">git annex init</strong> to prepare the new dataset. Registering to a
superdataset is performed via a <strong class="command">git submodule add</strong> operation
in the discovered superdataset.</p>
</div>
<p class="rubric">Examples</p>
<p>Create a dataset ‚Äòmydataset‚Äô in the current directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">create</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s1">&#39;mydataset&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Apply the text2git procedure upon creation of a dataset:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">create</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s1">&#39;mydataset&#39;</span><span class="p">,</span> <span class="n">cfg_proc</span><span class="o">=</span><span class="s1">&#39;text2git&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Create a subdataset in the root of an existing dataset:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">create</span><span class="p">(</span><span class="n">dataset</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s1">&#39;mysubdataset&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Create a dataset in an existing, non-empty directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">create</span><span class="p">(</span><span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Create a plain Git repository:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">create</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s1">&#39;mydataset&#39;</span><span class="p">,</span> <span class="n">annex</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em><em> or </em><a class="reference internal" href="datalad.api.Dataset.html#datalad.api.Dataset" title="datalad.api.Dataset"><em>Dataset</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) ‚Äì path where the dataset shall be created, directories will be created
as necessary. If no location is provided, a dataset will be created
in the location specified by <cite>dataset</cite> (if given) or the current
working directory. Either way the command will error if the target
directory is not empty. Use <cite>force</cite> to create a dataset in a non-
empty directory. [Default: None]</p></li>
<li><p><strong>initopts</strong> ‚Äì options to pass to <strong class="command">git init</strong>. Options can be given as a
list of command line arguments or as a GitPython-style option
dictionary. Note that not all options will lead to viable results.
For example ‚Äò‚Äìbare‚Äô will not yield a repository where DataLad can
adjust files in its working tree. [Default: None]</p></li>
<li><p><strong>force</strong> (<em>bool</em><em>, </em><em>optional</em>) ‚Äì enforce creation of a dataset in a non-empty directory. [Default:
False]</p></li>
<li><p><strong>description</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) ‚Äì short description to use for a dataset location. Its primary purpose
is to help humans to identify a dataset copy (e.g., ‚Äúmike‚Äôs dataset
on lab server‚Äù). Note that when a dataset is published, this
information becomes available on the remote side. [Default: None]</p></li>
<li><p><strong>dataset</strong> (<a class="reference internal" href="datalad.api.Dataset.html#datalad.api.Dataset" title="datalad.api.Dataset"><em>Dataset</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) ‚Äì specify the dataset to perform the create operation on. If a dataset
is given along with <cite>path</cite>, a new subdataset will be created in it
at the <cite>path</cite> provided to the create command. If a dataset is given
but <cite>path</cite> is unspecified, a new dataset will be created at the
location specified by this option. [Default: None]</p></li>
<li><p><strong>annex</strong> (<em>bool</em><em>, </em><em>optional</em>) ‚Äì if disabled, a plain Git repository will be created without any
annex. [Default: True]</p></li>
<li><p><strong>fake_dates</strong> (<em>bool</em><em>, </em><em>optional</em>) ‚Äì Configure the repository to use fake dates. The date for a new
commit will be set to one second later than the latest commit in the
repository. This can be used to anonymize dates. [Default: False]</p></li>
<li><p><strong>cfg_proc</strong> ‚Äì Run cfg_PROC procedure(s) (can be specified multiple times) on the
created dataset. Use <cite>run_procedure(discover=True)</cite> to get a list of
available procedures, such as cfg_text2git. [Default: None]</p></li>
<li><p><strong>on_failure</strong> (<em>{'ignore'</em><em>, </em><em>'continue'</em><em>, </em><em>'stop'}</em><em>, </em><em>optional</em>) ‚Äì behavior to perform on failure: ‚Äòignore‚Äô any failure is reported,
but does not cause an exception; ‚Äòcontinue‚Äô if any failure occurs an
exception will be raised at the end, but processing other actions
will continue for as long as possible; ‚Äòstop‚Äô: processing will stop
on first failure and an exception is raised. A failure is any result
with status ‚Äòimpossible‚Äô or ‚Äòerror‚Äô. Raised exception is an
IncompleteResultsError that carries the result dictionaries of the
failures in its <cite>failed</cite> attribute. [Default: ‚Äòcontinue‚Äô]</p></li>
<li><p><strong>result_filter</strong> (<em>callable</em><em> or </em><em>None</em><em>, </em><em>optional</em>) ‚Äì if given, each to-be-returned status dictionary is passed to this
callable, and is only returned if the callable‚Äôs return value does
not evaluate to False or a ValueError exception is raised. If the
given callable supports <cite>**kwargs</cite> it will additionally be passed
the keyword arguments of the original API call. [Default:
constraint:(action:{create} and status:{ok, notneeded})]</p></li>
<li><p><strong>result_renderer</strong> ‚Äì select rendering mode command results. ‚Äòtailored‚Äô enables a command-
specific rendering style that is typically tailored to human
consumption, if there is one for a specific command, or otherwise
falls back on the the ‚Äògeneric‚Äô result renderer; ‚Äògeneric‚Äô renders
each result in one line  with key info like action, status, path,
and an optional message); ‚Äòjson‚Äô a complete JSON line serialization
of the full result record; ‚Äòjson_pp‚Äô like ‚Äòjson‚Äô, but pretty-printed
spanning multiple lines; ‚Äòdisabled‚Äô turns off result rendering
entirely; ‚Äò&lt;template&gt;‚Äô reports any value(s) of any result properties
in any format indicated by the template (e.g. ‚Äò{path}‚Äô, compare with
JSON output for all key-value choices). The template syntax follows
the Python ‚Äúformat() language‚Äù. It is possible to report individual
dictionary values, e.g. ‚Äò{metadata[name]}‚Äô. If a 2nd-level key
contains a colon, e.g. ‚Äòmusic:Genre‚Äô, ‚Äò:‚Äô must be substituted by ‚Äò#‚Äô
in the template, like so: ‚Äò{metadata[music#Genre]}‚Äô. [Default:
‚Äòtailored‚Äô]</p></li>
<li><p><strong>result_xfm</strong> (<em>{'datasets'</em><em>, </em><em>'successdatasets-or-none'</em><em>, </em><em>'paths'</em><em>, </em><em>'relpaths'</em><em>, </em><em>'metadata'}</em><em> or </em><em>callable</em><em> or </em><em>None</em><em>, </em><em>optional</em>) ‚Äì if given, each to-be-returned result status dictionary is passed to
this callable, and its return value becomes the result instead. This
is different from <cite>result_filter</cite>, as it can perform arbitrary
transformation of the result value. This is mostly useful for top-
level command invocations that need to provide the results in a
particular format. Instead of a callable, a label for a pre-crafted
result transformation can be given. [Default: ‚Äòdatasets‚Äô]</p></li>
<li><p><strong>return_type</strong> (<em>{'generator'</em><em>, </em><em>'list'</em><em>, </em><em>'item-or-list'}</em><em>, </em><em>optional</em>) ‚Äì return value behavior switch. If ‚Äòitem-or-list‚Äô a single value is
returned instead of a one-item return value list, or a list in case
of multiple return values. <cite>None</cite> is return in case of an empty
list. [Default: ‚Äòitem-or-list‚Äô]</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="datalad.api.Dataset.html" class="btn btn-neutral float-left" title="datalad.api.Dataset" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="datalad.api.create_sibling.html" class="btn btn-neutral float-right" title="datalad.api.create_sibling" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2022, DataLad team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>