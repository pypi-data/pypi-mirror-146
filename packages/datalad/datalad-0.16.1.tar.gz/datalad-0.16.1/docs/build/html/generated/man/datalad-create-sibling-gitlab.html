<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>datalad create-sibling-gitlab &mdash; DataLad 0.15.3+529.gc81453444.dirty documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="datalad create-sibling-gogs" href="datalad-create-sibling-gogs.html" />
    <link rel="prev" title="datalad create-sibling-github" href="datalad-create-sibling-github.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> DataLad
            <img src="../../_static/datalad_logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.15
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Change log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../acknowledgements.html">Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../publications.html">Publications</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../background.html">Background and motivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../related.html">Delineation from related solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../basics.html">Basic principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../credentials.html">Credentials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../metadata.html">Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../customization.html">Customization and extension of functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../design/index.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../cmdline.html">Command line reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../cmdline.html#main-command">Main command</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmdline.html#core-commands">Core commands</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../cmdline.html#extended-set-of-functionality">Extended set of functionality</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../cmdline.html#dataset-operations">Dataset operations</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../cmdline.html#dataset-siblings-and-3rd-party-platform-support">Dataset siblings and 3rd-party platform support</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="datalad-siblings.html">datalad siblings: Query and manipulate sibling configuration of a dataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad-create-sibling.html">datalad create-sibling: Create a sibling on an SSH-accessible machine</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad-create-sibling-github.html">datalad create-sibling-github: Create a sibling on GitHub</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">datalad create-sibling-gitlab: Create a sibling on GitLab</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad-create-sibling-gogs.html">datalad create-sibling-gogs: Create a sibling on GOGS</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad-create-sibling-gitea.html">datalad create-sibling-gitea: Create a sibling on Gitea</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad-create-sibling-gin.html">datalad create-sibling-gin: Create a sibling on GIN (with content hosting)</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad-create-sibling-ria.html">datalad create-sibling-ria: Create a sibling in a RIA store</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad-export-archive.html">datalad export-archive: Export dataset content as a TAR/ZIP archive</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad-export-archive-ora.html">datalad export-archive-ora: Export a local dataset annex for the ORA remote</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad-export-to-figshare.html">datalad export-to-figshare: Export dataset content as a ZIP archive to figshare</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad-update.html">datalad update: Obtain and incorporate updates from dataset siblings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../cmdline.html#reproducible-execution">Reproducible execution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cmdline.html#metadata-handling">Metadata handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cmdline.html#helpers-and-support-utilities">Helpers and support utilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cmdline.html#deprecated-commands">Deprecated commands</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../modref.html">Python module reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../config.html">Configuration</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">DataLad</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../cmdline.html">Command line reference</a> &raquo;</li>
      <li>datalad create-sibling-gitlab</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="datalad-create-sibling-gitlab">
<span id="man-datalad-create-sibling-gitlab"></span><h1>datalad create-sibling-gitlab<a class="headerlink" href="#datalad-create-sibling-gitlab" title="Permalink to this headline"></a></h1>
<section id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">datalad</span> <span class="n">create</span><span class="o">-</span><span class="n">sibling</span><span class="o">-</span><span class="n">gitlab</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">site</span> <span class="n">SITENAME</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">project</span> <span class="n">NAME</span><span class="o">/</span><span class="n">LOCATION</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">layout</span>
    <span class="p">{</span><span class="n">hierarchy</span><span class="o">|</span><span class="n">collection</span><span class="o">|</span><span class="n">flat</span><span class="p">}]</span> <span class="p">[</span><span class="o">--</span><span class="n">dataset</span> <span class="n">DATASET</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">r</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">R</span>
    <span class="n">LEVELS</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">s</span> <span class="n">NAME</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">existing</span> <span class="p">{</span><span class="n">skip</span><span class="o">|</span><span class="n">error</span><span class="o">|</span><span class="n">reconfigure</span><span class="p">}]</span>
    <span class="p">[</span><span class="o">--</span><span class="n">access</span> <span class="p">{</span><span class="n">http</span><span class="o">|</span><span class="n">ssh</span><span class="o">|</span><span class="n">ssh</span><span class="o">+</span><span class="n">http</span><span class="p">}]</span> <span class="p">[</span><span class="o">--</span><span class="n">publish</span><span class="o">-</span><span class="n">depends</span> <span class="n">SIBLINGNAME</span><span class="p">]</span>
    <span class="p">[</span><span class="o">--</span><span class="n">description</span> <span class="n">DESCRIPTION</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">dryrun</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">dry</span><span class="o">-</span><span class="n">run</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">version</span><span class="p">]</span>
    <span class="p">[</span><span class="n">PATH</span> <span class="o">...</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline"></a></h2>
<p>Create dataset sibling at a GitLab site</p>
<p>An existing GitLab project, or a project created via the GitLab web
interface can be configured as a sibling with the siblings
command. Alternatively, this command can create a GitLab project at any
location/path a given user has appropriate permissions for. This is
particularly helpful for recursive sibling creation for subdatasets. API
access and authentication are implemented via python-gitlab, and all its
features are supported. A particular GitLab site must be configured in a
named section of a python-gitlab.cfg file (see
<a class="reference external" href="https://python-gitlab.readthedocs.io/en/stable/cli.html#configuration">https://python-gitlab.readthedocs.io/en/stable/cli.html#configuration</a> for
details), such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">mygit</span><span class="p">]</span>
<span class="n">url</span> <span class="o">=</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">git</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span>
<span class="n">api_version</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">private_token</span> <span class="o">=</span> <span class="n">abcdefghijklmnopqrst</span>
</pre></div>
</div>
<p>Subsequently, this site is identified by its name (‘mygit’ in the example
above).</p>
<p>(Recursive) sibling creation for all, or a selected subset of subdatasets
is supported with three different project layouts (see –layout):</p>
<dl class="simple">
<dt>“hierarchy”</dt><dd><p>Each dataset is placed into its own group, and the actual GitLab
project for a dataset is put in a project named “_repo_” inside
this group. Using this layout, arbitrarily deep hierarchies of
nested datasets can be represented, while the hierarchical structure
is reflected in the project path. This is the default layout, if
no project path is specified.</p>
</dd>
<dt>“flat”</dt><dd><p>All datasets are placed in the same group. The name of a project
is its relative path within the root dataset, with all path separator
characters replaced by ‘–‘.</p>
</dd>
<dt>“collection”</dt><dd><p>This is a hybrid layout, where the root dataset is placed in a “_repo_”
project inside a group, and all nested subdatasets are represented
inside the group using a “flat” layout.</p>
</dd>
</dl>
<p>GitLab cannot host dataset content. However, in combination with
other data sources (and siblings), publishing a dataset to GitLab can
facilitate distribution and exchange, while still allowing any dataset
consumer to obtain actual data content from alternative sources.</p>
<p><em>Configuration</em></p>
<p>All configuration switches and options for GitLab sibling creation can
be provided arguments to the command. However, it is also possible to
specify a particular setup in a dataset’s configuration. This is
particularly important when managing large collections of datasets.
Configuration options are:</p>
<dl class="simple">
<dt>“datalad.gitlab-default-site”</dt><dd><p>Name of the default GitLab site (see –site)</p>
</dd>
<dt>“datalad.gitlab-SITENAME-siblingname”</dt><dd><p>Name of the sibling configured for the local dataset that points
to the GitLab instance SITENAME (see –name)</p>
</dd>
<dt>“datalad.gitlab-SITENAME-layout”</dt><dd><p>Project layout used at the GitLab instance SITENAME (see –layout)</p>
</dd>
<dt>“datalad.gitlab-SITENAME-access”</dt><dd><p>Access method used for the GitLab instance SITENAME (see –access)</p>
</dd>
<dt>“datalad.gitlab-SITENAME-project”</dt><dd><p>Project location/path used for a datasets at GitLab instance
SITENAME (see –project). Configuring this is useful for deriving
project paths for subdatasets, relative to superdataset.</p>
</dd>
</dl>
</section>
<section id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline"></a></h2>
<section id="path">
<h3>PATH<a class="headerlink" href="#path" title="Permalink to this headline"></a></h3>
<p>selectively create siblings for any datasets underneath a given path. By default only the root dataset is considered.</p>
</section>
<section id="h-help-help-np">
<h3><strong>-h</strong>, <strong>-\-help</strong>, <strong>-\-help-np</strong><a class="headerlink" href="#h-help-help-np" title="Permalink to this headline"></a></h3>
<p>show this help message. –help-np forcefully disables the use of a pager for displaying the help message</p>
</section>
<section id="site-sitename">
<h3><strong>-\-site</strong> SITENAME<a class="headerlink" href="#site-sitename" title="Permalink to this headline"></a></h3>
<p>name of the GitLab site to create a sibling at. Must match an existing python- gitlab configuration section with location and authentication settings (see <a class="reference external" href="https://python-gitlab.readthedocs.io/en/stable/cli-usage.html#configuration">https://python-gitlab.readthedocs.io/en/stable/cli-usage.html#configuration</a>). By default the dataset configuration is consulted. Constraints: value must be NONE, or value must be a string</p>
</section>
<section id="project-name-location">
<h3><strong>-\-project</strong> NAME/LOCATION<a class="headerlink" href="#project-name-location" title="Permalink to this headline"></a></h3>
<p>project name/location at the GitLab site. If a subdataset of the reference dataset is processed, its project path is automatically determined by the LAYOUT configuration, by default. Constraints: value must be NONE, or value must be a string</p>
</section>
<section id="layout-hierarchy-collection-flat">
<h3><strong>-\-layout</strong> {hierarchy|collection|flat}<a class="headerlink" href="#layout-hierarchy-collection-flat" title="Permalink to this headline"></a></h3>
<p>layout of projects at the GitLab site, if a collection, or a hierarchy of datasets and subdatasets is to be created. By default the dataset configuration is consulted. Constraints: value must be one of (‘hierarchy’, ‘collection’, ‘flat’)</p>
</section>
<section id="dataset-dataset-d-dataset">
<h3><strong>-\-dataset</strong> <em>DATASET</em>, <strong>-d</strong> <em>DATASET</em><a class="headerlink" href="#dataset-dataset-d-dataset" title="Permalink to this headline"></a></h3>
<p>reference or root dataset. If no path constraints are given, a sibling for this dataset will be created. In this and all other cases, the reference dataset is also consulted for the GitLab configuration, and desired project layout. If no dataset is given, an attempt is made to identify the dataset based on the current working directory. Constraints: Value must be a Dataset or a valid identifier of a Dataset (e.g. a path)</p>
</section>
<section id="r-recursive">
<h3><strong>-r</strong>, <strong>-\-recursive</strong><a class="headerlink" href="#r-recursive" title="Permalink to this headline"></a></h3>
<p>if set, recurse into potential subdatasets.</p>
</section>
<section id="r-levels-recursion-limit-levels">
<h3><strong>-R</strong> LEVELS, <strong>-\-recursion-limit</strong> LEVELS<a class="headerlink" href="#r-levels-recursion-limit-levels" title="Permalink to this headline"></a></h3>
<p>limit recursion into subdatasets to the given number of levels. Constraints: value must be convertible to type ‘int’</p>
</section>
<section id="s-name-name-name">
<h3><strong>-s</strong> NAME, <strong>-\-name</strong> NAME<a class="headerlink" href="#s-name-name-name" title="Permalink to this headline"></a></h3>
<p>name to represent the GitLab sibling remote in the local dataset installation. If not specified a name is looked up in the dataset configuration, or defaults to the SITE name. Constraints: value must be a string</p>
</section>
<section id="existing-skip-error-reconfigure">
<h3><strong>-\-existing</strong> {skip|error|reconfigure}<a class="headerlink" href="#existing-skip-error-reconfigure" title="Permalink to this headline"></a></h3>
<p>desired behavior when already existing or configured siblings are discovered. ‘skip’: ignore; ‘error’: fail, if access URLs differ; ‘reconfigure’: use the existing repository and reconfigure the local dataset to use it as a sibling. Constraints: value must be one of (‘skip’, ‘error’, ‘reconfigure’) [Default: ‘error’]</p>
</section>
<section id="access-http-ssh-ssh-http">
<h3><strong>-\-access</strong> {http|ssh|ssh+http}<a class="headerlink" href="#access-http-ssh-ssh-http" title="Permalink to this headline"></a></h3>
<p>access method used for data transfer to and from the sibling. ‘ssh’: read and write access used the SSH protocol; ‘http’: read and write access use HTTP requests; ‘ssh+http’: read access is done via HTTP and write access performed with SSH. Dataset configuration is consulted for a default, ‘http’ is used otherwise. Constraints: value must be one of (‘http’, ‘ssh’, ‘ssh+http’)</p>
</section>
<section id="publish-depends-siblingname">
<h3><strong>-\-publish-depends</strong> SIBLINGNAME<a class="headerlink" href="#publish-depends-siblingname" title="Permalink to this headline"></a></h3>
<p>add a dependency such that the given existing sibling is always published prior to the new sibling. This equals setting a configuration item ‘remote.SIBLINGNAME.datalad-publish-depends’. This option can be given more than once to configure multiple dependencies. Constraints: value must be a string</p>
</section>
<section id="description-description">
<h3><strong>-\-description</strong> <em>DESCRIPTION</em><a class="headerlink" href="#description-description" title="Permalink to this headline"></a></h3>
<p>brief description for the GitLab project (displayed on the site). Constraints: value must be a string</p>
</section>
<section id="dryrun">
<h3><strong>-\-dryrun</strong><a class="headerlink" href="#dryrun" title="Permalink to this headline"></a></h3>
<p>Deprecated. Use the renamed <code class="docutils literal notranslate"><span class="pre">--dry-run</span></code> parameter.</p>
</section>
<section id="dry-run">
<h3><strong>-\-dry-run</strong><a class="headerlink" href="#dry-run" title="Permalink to this headline"></a></h3>
<p>if set, no repository will be created, only tests for name collisions will be performed, and would-be repository names are reported for all relevant datasets.</p>
</section>
<section id="version">
<h3><strong>-\-version</strong><a class="headerlink" href="#version" title="Permalink to this headline"></a></h3>
<p>show the module and its version which provides the command</p>
</section>
</section>
<section id="authors">
<h2>Authors<a class="headerlink" href="#authors" title="Permalink to this headline"></a></h2>
<p>datalad is developed by The DataLad Team and Contributors &lt;<a class="reference external" href="mailto:team&#37;&#52;&#48;datalad&#46;org">team<span>&#64;</span>datalad<span>&#46;</span>org</a>&gt;.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="datalad-create-sibling-github.html" class="btn btn-neutral float-left" title="datalad create-sibling-github" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="datalad-create-sibling-gogs.html" class="btn btn-neutral float-right" title="datalad create-sibling-gogs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2022, DataLad team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>