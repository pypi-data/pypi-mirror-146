<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>datalad.customremotes.base &mdash; DataLad 0.15.3+529.gc81453444.dirty documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="datalad.customremotes.archives" href="datalad.customremotes.archives.html" />
    <link rel="prev" title="datalad.support.archives" href="datalad.support.archives.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> DataLad
            <img src="../_static/datalad_logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.15
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Change log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../acknowledgements.html">Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../publications.html">Publications</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../background.html">Background and motivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../related.html">Delineation from related solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basics.html">Basic principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credentials.html">Credentials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../metadata.html">Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../customization.html">Customization and extension of functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design/index.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../cmdline.html">Command line reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../modref.html">Python module reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../modref.html#high-level-user-interface">High-level user interface</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../modref.html#support-functionality">Support functionality</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="datalad.cmd.html">datalad.cmd</a></li>
<li class="toctree-l3"><a class="reference internal" href="datalad.consts.html">datalad.consts</a></li>
<li class="toctree-l3"><a class="reference internal" href="datalad.log.html">datalad.log</a></li>
<li class="toctree-l3"><a class="reference internal" href="datalad.utils.html">datalad.utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="datalad.version.html">datalad.version</a></li>
<li class="toctree-l3"><a class="reference internal" href="datalad.support.gitrepo.html">datalad.support.gitrepo</a></li>
<li class="toctree-l3"><a class="reference internal" href="datalad.support.annexrepo.html">datalad.support.annexrepo</a></li>
<li class="toctree-l3"><a class="reference internal" href="datalad.support.archives.html">datalad.support.archives</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">datalad.customremotes.base</a></li>
<li class="toctree-l3"><a class="reference internal" href="datalad.customremotes.archives.html">datalad.customremotes.archives</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../modref.html#configuration-management">Configuration management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modref.html#test-infrastructure">Test infrastructure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modref.html#command-line-interface-infrastructure">Command line interface infrastructure</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../config.html">Configuration</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DataLad</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../modref.html">Python module reference</a> &raquo;</li>
      <li>datalad.customremotes.base</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-datalad.customremotes.base">
<span id="datalad-customremotes-base"></span><h1>datalad.customremotes.base<a class="headerlink" href="#module-datalad.customremotes.base" title="Permalink to this headline"></a></h1>
<p>Base classes to custom git-annex remotes (e.g. extraction from archives)</p>
<dl class="py class">
<dt class="sig sig-object py" id="datalad.customremotes.base.AnnexCustomRemote">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datalad.customremotes.base.</span></span><span class="sig-name descname"><span class="pre">AnnexCustomRemote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">annex</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/customremotes/base.html#AnnexCustomRemote"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.customremotes.base.AnnexCustomRemote" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">datalad.customremotes.SpecialRemote</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="datalad.customremotes.base.AnnexCustomRemote.AVAILABILITY">
<span class="sig-name descname"><span class="pre">AVAILABILITY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'LOCAL'</span></em><a class="headerlink" href="#datalad.customremotes.base.AnnexCustomRemote.AVAILABILITY" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="datalad.customremotes.base.AnnexCustomRemote.COST">
<span class="sig-name descname"><span class="pre">COST</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">100</span></em><a class="headerlink" href="#datalad.customremotes.base.AnnexCustomRemote.COST" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.customremotes.base.AnnexCustomRemote.gen_URLS">
<span class="sig-name descname"><span class="pre">gen_URLS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/customremotes/base.html#AnnexCustomRemote.gen_URLS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.customremotes.base.AnnexCustomRemote.gen_URLS" title="Permalink to this definition"></a></dt>
<dd><p>Yield URL(s) associated with a key, and keep stats on protocols.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.customremotes.base.AnnexCustomRemote.getavailability">
<span class="sig-name descname"><span class="pre">getavailability</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/customremotes/base.html#AnnexCustomRemote.getavailability"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.customremotes.base.AnnexCustomRemote.getavailability" title="Permalink to this definition"></a></dt>
<dd><p>Asks the remote if it is locally or globally available. (Ie stored in the cloud vs on a local disk.)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Allowed values are “global” or “local”.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.customremotes.base.AnnexCustomRemote.getcost">
<span class="sig-name descname"><span class="pre">getcost</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/customremotes/base.html#AnnexCustomRemote.getcost"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.customremotes.base.AnnexCustomRemote.getcost" title="Permalink to this definition"></a></dt>
<dd><p>Requests the remote to return a use cost. Higher costs are more expensive.</p>
<p>cheapRemoteCost = 100
nearlyCheapRemoteCost = 110
semiExpensiveRemoteCost = 175
expensiveRemoteCost = 200
veryExpensiveRemoteCost = 1000
(taken from Config/Cost.hs)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Indicates the cost of the remote.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.customremotes.base.AnnexCustomRemote.initremote">
<span class="sig-name descname"><span class="pre">initremote</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/customremotes/base.html#AnnexCustomRemote.initremote"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.customremotes.base.AnnexCustomRemote.initremote" title="Permalink to this definition"></a></dt>
<dd><p>Gets called when <cite>git annex initremote</cite> or <cite>git annex enableremote</cite> are run.
This is where any one-time setup tasks can be done, for example creating the remote folder.
Note: This may be run repeatedly over time, as a remote is initialized in different repositories,
or as the configuration of a remote is changed. So any one-time setup tasks should be done idempotently.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>RemoteError</strong> – If the remote could not be initialized.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.customremotes.base.AnnexCustomRemote.prepare">
<span class="sig-name descname"><span class="pre">prepare</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/customremotes/base.html#AnnexCustomRemote.prepare"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.customremotes.base.AnnexCustomRemote.prepare" title="Permalink to this definition"></a></dt>
<dd><p>Tells the remote that it’s time to prepare itself to be used.
Gets called whenever git annex is about to access any of the below
methods, so it shouldn’t be too expensive. Otherwise it will
slow down operations like <cite>git annex whereis</cite> or <cite>git annex info</cite>.</p>
<p>Internet connection <em>can</em> be established here, though it’s
recommended to defer this until it’s actually needed.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>RemoteError</strong> – If the remote could not be prepared.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.customremotes.base.AnnexCustomRemote.remove">
<span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/customremotes/base.html#AnnexCustomRemote.remove"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.customremotes.base.AnnexCustomRemote.remove" title="Permalink to this definition"></a></dt>
<dd><p>Requests the remote to remove a key’s contents.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>RemoteError</strong> – If the key couldn’t be deleted from the remote.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.customremotes.base.AnnexCustomRemote.transfer_store">
<span class="sig-name descname"><span class="pre">transfer_store</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/customremotes/base.html#AnnexCustomRemote.transfer_store"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.customremotes.base.AnnexCustomRemote.transfer_store" title="Permalink to this definition"></a></dt>
<dd><p>Store the file in <cite>local_file</cite> to a unique location derived from <cite>key</cite>.</p>
<p>It’s important that, while a Key is being stored, checkpresent(key)
not indicate it’s present until all the data has been transferred.
While the transfer is running, the remote can repeatedly call
annex.progress(size) to indicate the number of bytes already stored.
This will influence the progress shown to the user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em>) – The Key to be stored in the remote. In most cases, this is going to be the
remote file name. It should be at least be unambigiously derived from it.</p></li>
<li><p><strong>local_file</strong> (<em>str</em>) – Path to the file to upload.
Note that in some cases, local_file may contain whitespace.
Note that local_file should not influence the filename used on the remote.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>RemoteError</strong> – If the file could not be stored to the remote.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datalad.customremotes.base.AnnexCustomRemote.whereis">
<span class="sig-name descname"><span class="pre">whereis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/customremotes/base.html#AnnexCustomRemote.whereis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.customremotes.base.AnnexCustomRemote.whereis" title="Permalink to this definition"></a></dt>
<dd><p>Asks the remote to provide additional information about ways to access the
content of a key stored in it, such as eg, public urls. This will be displayed
to the user by eg, git annex whereis.
Note that users expect git annex whereis to run fast, without eg, network access.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Information about the location of the key, eg. public urls.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.customremotes.base.ensure_datalad_remote">
<span class="sig-prename descclassname"><span class="pre">datalad.customremotes.base.</span></span><span class="sig-name descname"><span class="pre">ensure_datalad_remote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encryption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autoenable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/customremotes/base.html#ensure_datalad_remote"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.customremotes.base.ensure_datalad_remote" title="Permalink to this definition"></a></dt>
<dd><p>Initialize and enable datalad special remote if it isn’t already.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>repo</strong> (<a class="reference internal" href="datalad.support.annexrepo.html#datalad.support.annexrepo.AnnexRepo" title="datalad.support.annexrepo.AnnexRepo"><em>AnnexRepo</em></a>) – </p></li>
<li><p><strong>remote</strong> (<em>str</em><em>, </em><em>optional</em>) – Special remote name. This should be one of the values in
datalad.consts.DATALAD_SPECIAL_REMOTES_UUIDS and defaults to
datalad.consts.DATALAD_SPECIAL_REMOTE.</p></li>
<li><p><strong>encryption</strong> (<em>optional</em>) – Passed to <cite>init_datalad_remote</cite>.</p></li>
<li><p><strong>autoenable</strong> (<em>optional</em>) – Passed to <cite>init_datalad_remote</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.customremotes.base.generate_uuids">
<span class="sig-prename descclassname"><span class="pre">datalad.customremotes.base.</span></span><span class="sig-name descname"><span class="pre">generate_uuids</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/customremotes/base.html#generate_uuids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.customremotes.base.generate_uuids" title="Permalink to this definition"></a></dt>
<dd><p>Generate UUIDs for our remotes. Even though quick, for
consistency pre-generated and recorded in consts.py</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datalad.customremotes.base.init_datalad_remote">
<span class="sig-prename descclassname"><span class="pre">datalad.customremotes.base.</span></span><span class="sig-name descname"><span class="pre">init_datalad_remote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encryption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autoenable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datalad/customremotes/base.html#init_datalad_remote"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datalad.customremotes.base.init_datalad_remote" title="Permalink to this definition"></a></dt>
<dd><p>Initialize datalad special remote</p>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="datalad.support.archives.html" class="btn btn-neutral float-left" title="datalad.support.archives" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="datalad.customremotes.archives.html" class="btn btn-neutral float-right" title="datalad.customremotes.archives" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2022, DataLad team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>