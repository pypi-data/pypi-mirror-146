(function(){"use strict";var e={39:function(e,a,t){t(1129),t(8594),t(6133);var s=t(9242),n=t(3396);const r={class:"section is-medium"},o={class:"container"};function i(e,a,t,s,i,l){const u=(0,n.up)("Navbar"),c=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(u),(0,n._)("section",r,[(0,n._)("div",o,[(0,n.Wm)(c)])])],64)}const l=e=>((0,n.dD)("data-v-fea818de"),e=e(),(0,n.Cn)(),e),u={role:"navigation","aria-label":"main navigation",class:"navbar is-fixed-top"},c=l((()=>(0,n._)("div",{class:"navbar-brand"},[(0,n._)("a",{class:"navbar-item"},[(0,n._)("h1",{class:"title"},"ARQ Dashboard")])],-1))),d={class:"navbar-menu"},p=l((()=>(0,n._)("div",{class:"navbar-start"},null,-1))),g={class:"navbar-end"},m=(0,n.Uk)("Stats"),v=(0,n.Uk)("Jobs"),b=(0,n.Uk)("Setting"),_=l((()=>(0,n._)("a",{class:"navbar-item"},[(0,n._)("a",{href:"/redoc",target:"_blank",class:"navbar-item"},"API")],-1))),f=l((()=>(0,n._)("a",{class:"navbar-item"},[(0,n._)("a",{href:"https://github.com/ninoseki/arq-dashboard",target:"_blank",class:"navbar-item"},"GitHub")],-1)));function w(e,a,t,s,r,o){const i=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("nav",u,[c,(0,n._)("div",d,[p,(0,n._)("div",g,[(0,n.Wm)(i,{class:"navbar-item",to:{name:"stats"}},{default:(0,n.w5)((()=>[m])),_:1}),(0,n.Wm)(i,{class:"navbar-item",to:{name:"jobs"}},{default:(0,n.w5)((()=>[v])),_:1}),(0,n.Wm)(i,{class:"navbar-item",to:{name:"setting"}},{default:(0,n.w5)((()=>[b])),_:1}),_,f])])])}var h=(0,n.aZ)({name:"NavbarItem"}),y=t(89);const k=(0,y.Z)(h,[["render",w],["__scopeId","data-v-fea818de"]]);var P=k,j=(0,n.aZ)({name:"App",components:{Navbar:P}});const q=(0,y.Z)(j,[["render",i]]);var S=q,D=t(302);function N(e,a,t,s,r,o){const i=(0,n.up)("Jobs");return(0,n.wg)(),(0,n.j4)(i)}var Z=t(6367);const T={class:"box mb-6"},z=(0,n._)("hr",null,null,-1),J={class:"columns"},C={class:"column"},A={class:"field is-grouped is-grouped-centered"},H={class:"control"},I=(0,n._)("span",{class:"icon is-small"},[(0,n._)("i",{class:"fas fa-search"})],-1),W=(0,n._)("span",null,"Search",-1),F=[I,W],x={key:0},U=(0,n._)("hr",null,null,-1);function O(e,a,t,s,r,o){const i=(0,n.up)("Form"),l=(0,n.up)("Loading"),u=(0,n.up)("ErrorMessage"),c=(0,n.up)("Jobs");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",T,[(0,n.Wm)(i,{ref:"form",page:e.page},null,8,["page"]),z,(0,n._)("div",J,[(0,n._)("div",C,[(0,n._)("div",A,[(0,n._)("p",H,[(0,n._)("a",{class:"button is-light",onClick:a[0]||(a[0]=(...a)=>e.search&&e.search(...a))},F)])])])])]),e.getJobsTask.performCount>0?((0,n.wg)(),(0,n.iD)("div",x,[U,e.getJobsTask.isRunning?((0,n.wg)(),(0,n.j4)(l,{key:0})):(0,n.kq)("",!0),e.getJobsTask.isError?((0,n.wg)(),(0,n.j4)(u,{key:1,error:e.getJobsTask.last?.error},null,8,["error"])):(0,n.kq)("",!0),e.getJobsTask.last?.value?((0,n.wg)(),(0,n.j4)(c,{key:2,jobs:e.getJobsTask.last.value,onRefreshPage:e.refreshPage,onUpdatePage:e.updatePage},null,8,["jobs","onRefreshPage","onUpdatePage"])):(0,n.kq)("",!0)])):(0,n.kq)("",!0)],64)}var R=t(4870),V=t(8228),Q=t(6265),Y=t.n(Q),M=t(3365);const L=(0,M.r8)((()=>(0,Z._aR)("arq-dashboard-locale-storage",{queue:"arq:queue"}))),K=L();let E=Y().create({headers:{accept:"application/json","arq-queue-name":K.value.queue}});function G(){E=Y().create({headers:{accept:"application/json","arq-queue-name":K.value.queue}})}const B={async getStats(){const e=await E.get("/api/stats/");return e.data},async getJob(e){const a=await E.get(`/api/jobs/${e}`);return a.data},async getJobs(e){const a=await E.get("/api/jobs/",{params:e});return a.data},async getFunctionNames(){const e=await E.get("/api/functions/");return e.data},async getQueueNames(){const e=await E.get("/api/queues/");return e.data}};var $=t(7139);const X=e=>((0,n.dD)("data-v-c33886b2"),e=e(),(0,n.Cn)(),e),ee=X((()=>(0,n._)("div",{class:"notification is-danger is-light"},[(0,n._)("p",null,"Something went wrong...")],-1))),ae={key:0,class:"wrapper"},te={key:1};function se(e,a,t,s,r,o){const i=(0,n.up)("VueJsonPretty");return(0,n.wg)(),(0,n.iD)(n.HY,null,[ee,e.error.response.data?((0,n.wg)(),(0,n.iD)("div",ae,[(0,n.Wm)(i,{data:e.error.response.data},null,8,["data"])])):((0,n.wg)(),(0,n.iD)("p",te,(0,$.zw)(e.error),1))],64)}var ne=t(5316),re=t.n(ne),oe=(0,n.aZ)({name:"ErrorMessageItem",components:{VueJsonPretty:re()},props:{error:{type:Object,required:!0}}});const ie=(0,y.Z)(oe,[["render",se],["__scopeId","data-v-c33886b2"]]);var le=ie;function ue(e,a,t,s,r,o){const i=(0,n.up)("Form");return(0,n.wg)(),(0,n.j4)(i,{ref:"form",page:e.page,functionNames:e.getFunctionNamesTask.last?.value||[],queueNames:e.getQueueNamesTask.last?.value||[]},null,8,["page","functionNames","queueNames"])}const ce={class:"columns"},de={class:"column"},pe={class:"field is-horizontal"},ge=(0,n._)("div",{class:"field-label is-normal"},[(0,n._)("label",{class:"label"},"Function")],-1),me={class:"field-body"},ve={class:"field"},be={class:"control"},_e={class:"select"},fe=(0,n._)("option",null,null,-1),we={class:"column"},he={class:"field is-horizontal"},ye=(0,n._)("div",{class:"field-label is-normal"},[(0,n._)("label",{class:"label"},"Status")],-1),ke={class:"field-body"},Pe={class:"field"},je={class:"control"},qe={class:"select"},Se=(0,n._)("option",null,null,-1),De={class:"columns"},Ne={class:"column"},Ze={class:"field is-horizontal"},Te=(0,n._)("div",{class:"field-label is-normal"},[(0,n._)("label",{class:"label"},"Start time")],-1),ze={class:"field-body"},Je={class:"field"},Ce={class:"control"},Ae={class:"column"},He={class:"field is-horizontal"},Ie=(0,n._)("div",{class:"field-label is-normal"},[(0,n._)("label",{class:"label"},"Finish time")],-1),We={class:"field-body"},Fe={class:"field"},xe={class:"control"},Ue={class:"columns"},Oe={class:"column"},Re={class:"field is-horizontal"},Ve=(0,n._)("div",{class:"field-label is-normal"},[(0,n._)("label",{class:"label"},"Success")],-1),Qe={class:"field-body"},Ye={class:"field"},Me={class:"control"},Le={class:"radio"},Ke=(0,n.Uk)(" True "),Ee={class:"radio"},Ge=(0,n.Uk)(" False "),Be={class:"radio"},$e=(0,n.Uk)(" Both "),Xe=(0,n._)("div",{class:"column"},null,-1);function ea(e,a,t,r,o,i){const l=(0,n.up)("Datepicker");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",ce,[(0,n._)("div",de,[(0,n._)("div",pe,[ge,(0,n._)("div",me,[(0,n._)("div",ve,[(0,n._)("div",be,[(0,n._)("div",_e,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":a[0]||(a[0]=a=>e.functionName=a)},[fe,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.functionNames,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e.name},(0,$.zw)(e.name),1)))),128))],512),[[s.bM,e.functionName]])])])])])])]),(0,n._)("div",we,[(0,n._)("div",he,[ye,(0,n._)("div",ke,[(0,n._)("div",Pe,[(0,n._)("div",je,[(0,n._)("div",qe,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":a[1]||(a[1]=a=>e.status=a)},[Se,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.statuses,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e},(0,$.zw)(e),1)))),128))],512),[[s.bM,e.status]])])])])])])])]),(0,n._)("div",De,[(0,n._)("div",Ne,[(0,n._)("div",Ze,[Te,(0,n._)("div",ze,[(0,n._)("div",Je,[(0,n._)("p",Ce,[(0,n.Wm)(l,{modelValue:e.startTime,"onUpdate:modelValue":a[2]||(a[2]=a=>e.startTime=a)},null,8,["modelValue"])])])])])]),(0,n._)("div",Ae,[(0,n._)("div",He,[Ie,(0,n._)("div",We,[(0,n._)("div",Fe,[(0,n._)("p",xe,[(0,n.Wm)(l,{modelValue:e.finishTime,"onUpdate:modelValue":a[3]||(a[3]=a=>e.finishTime=a)},null,8,["modelValue"])])])])])])]),(0,n._)("div",Ue,[(0,n._)("div",Oe,[(0,n._)("div",Re,[Ve,(0,n._)("div",Qe,[(0,n._)("div",Ye,[(0,n._)("div",Me,[(0,n._)("label",Le,[(0,n.wy)((0,n._)("input",{type:"radio","onUpdate:modelValue":a[4]||(a[4]=a=>e.success=a),value:!0},null,512),[[s.G2,e.success]]),Ke]),(0,n._)("label",Ee,[(0,n.wy)((0,n._)("input",{type:"radio","onUpdate:modelValue":a[5]||(a[5]=a=>e.success=a),value:!1},null,512),[[s.G2,e.success]]),Ge]),(0,n._)("label",Be,[(0,n.wy)((0,n._)("input",{type:"radio","onUpdate:modelValue":a[6]||(a[6]=a=>e.success=a),value:void 0},null,512),[[s.G2,e.success]]),$e])])])])])]),Xe])],64)}var aa=t(1897),ta=t(618),sa=(0,n.aZ)({name:"FormItem",props:{page:{type:Number,required:!0},functionNames:{type:Array,required:!0},queueNames:{type:Array,required:!0}},components:{Datepicker:ta.Z},setup(e){const a=(0,R.iH)(void 0),t=(0,R.iH)(void 0),s=(0,R.iH)(void 0),r=(0,R.iH)(void 0),o=(0,R.iH)(void 0),i=(0,aa.K)("function"),l=(0,aa.K)("status"),u=["deferred","queued","in_progress","complete","not_found"],c=e=>{if(void 0!==e&&""!==e)return e},d=()=>{const n={page:e.page,success:a.value,status:c(o.value),startTime:c(t.value),finishTime:c(s.value),functionName:c(r.value)};return n},p=()=>{i.value&&(r.value=i.value.toString()),l.value&&(o.value=l.value.toString())};return(0,n.bv)((()=>{p()})),{getSearchParams:d,success:a,status:o,startTime:t,finishTime:s,functionName:r,statuses:u}}});const na=(0,y.Z)(sa,[["render",ea]]);var ra=na,oa=(0,n.aZ)({name:"FormWrapper",components:{Form:ra},props:{page:{type:Number,required:!0}},setup(){const e=(0,R.iH)(),a=()=>e.value?.getSearchParams(),t=(0,V.KP)((async()=>await B.getFunctionNames())),s=(0,V.KP)((async()=>await B.getQueueNames()));return(0,n.bv)((async()=>{await t.perform(),await s.perform()})),{getFunctionNamesTask:t,getQueueNamesTask:s,getSearchParams:a,form:e}}});const ia=(0,y.Z)(oa,[["render",ue]]);var la=ia;const ua={key:0},ca=(0,n._)("article",{class:"message is-info"},[(0,n._)("div",{class:"message-body"},"There is no job to display")],-1),da=[ca],pa={key:1},ga={class:"table-container"},ma={class:"table is-bordered is-fullwidth"},va=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"Job ID"),(0,n._)("th",null,"Queue"),(0,n._)("th",null,"Function"),(0,n._)("th",null,"Status"),(0,n._)("th",null,"Success"),(0,n._)("th",null,"Enqueued time"),(0,n._)("th",null,"Start time"),(0,n._)("th",null,"Finish time")])],-1);function ba(e,a,t,s,r,o){const i=(0,n.up)("router-link"),l=(0,n.up)("Status"),u=(0,n.up)("Success"),c=(0,n.up)("ReadableDatetime"),d=(0,n.up)("Pagination"),p=(0,n.up)("CachedAt");return 0===e.jobs.jobs.length?((0,n.wg)(),(0,n.iD)("div",ua,da)):((0,n.wg)(),(0,n.iD)("div",pa,[(0,n._)("div",ga,[(0,n._)("table",ma,[va,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.jobs.jobs,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e.jobId},[(0,n._)("td",null,[(0,n.Wm)(i,{to:{name:"job",params:{id:e.jobId}}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,$.zw)(e.jobId),1)])),_:2},1032,["to"])]),(0,n._)("td",null,(0,$.zw)(e.queueName),1),(0,n._)("td",null,(0,$.zw)(e.function),1),(0,n._)("td",null,[(0,n.Wm)(l,{status:e.status},null,8,["status"])]),(0,n._)("td",null,[(0,n.Wm)(u,{success:e.success,status:e.status},null,8,["success","status"])]),(0,n._)("td",null,[(0,n.Wm)(c,{dt:e.enqueueTime||void 0},null,8,["dt"])]),(0,n._)("td",null,[(0,n.Wm)(c,{dt:e.startTime||void 0},null,8,["dt"])]),(0,n._)("td",null,[(0,n.Wm)(c,{dt:e.finishTime||void 0},null,8,["dt"])])])))),128))])])]),(0,n.Wm)(d,{total:e.jobs.total,currentPage:e.jobs.currentPage,pageSize:e.jobs.pageSize,onUpdatePage:e.updatePage},null,8,["total","currentPage","pageSize","onUpdatePage"]),(0,n._)("p",null,"("+(0,$.zw)(e.jobs.total)+" jobs in total)",1),(0,n.Wm)(p,{cachedAt:e.jobs.cachedAt},null,8,["cachedAt"])]))}const _a={class:"has-text-grey"};function fa(e,a,t,s,r,o){return(0,n.wg)(),(0,n.iD)("p",_a," Cached at: "+(0,$.zw)(e.getLocalDatetime(e.cachedAt))+" ("+(0,$.zw)(e.getHumanizedRelativeTime(e.cachedAt))+") ",1)}var wa=t(5743),ha=t.n(wa),ya=t(893),ka=t.n(ya),Pa=t(9311),ja=t.n(Pa),qa=t(922),Sa=t.n(qa);function Da(e){return ha()(e).local().format("YYYY-MM-DD HH:mm:ss")}function Na(e){return ha()(e).local().fromNow()}ha().extend(ka()),ha().extend(ja()),ha().extend(Sa());var Za=(0,n.aZ)({name:"CachedAtItem",props:{cachedAt:{type:String,required:!0}},setup(){return{getHumanizedRelativeTime:Na,getLocalDatetime:Da}}});const Ta=(0,y.Z)(Za,[["render",fa]]);var za=Ta;function Ja(e,a,t,s,r,o){return(0,n.wg)(),(0,n.iD)("span",{class:(0,$.C_)(["tag is-medium",e.className])},(0,$.zw)(e.status),3)}var Ca=(0,n.aZ)({name:"StatusItem",props:{status:{type:String,required:!0}},setup(e){const a=new Map([["deferred","is-info"],["queued",""],["in_progress","is-link"],["complete","is-success"],["not_found","is-warning"]]),t=(0,n.Fl)((()=>a.get(e.status)||""));return{className:t}}});const Aa=(0,y.Z)(Ca,[["render",Ja]]);var Ha=Aa;function Ia(e,a,t,s,r,o){return(0,n.wg)(),(0,n.iD)("span",{class:(0,$.C_)(["tag is-medium is-light",e.className])},(0,$.zw)(e.success),3)}var Wa=(0,n.aZ)({name:"SuccessItem",props:{success:{type:Boolean,required:!0},status:{type:String,required:!0}},setup(e){const a=(0,n.Fl)((()=>"complete"===e.status?e.success?"is-success":"is-danger":""));return{className:a}}});const Fa=(0,y.Z)(Wa,[["render",Ia]]);var xa=Fa;const Ua={class:"pagination",role:"navigation","aria-label":"pagination"},Oa={key:0,class:"pagination-list"},Ra={key:1,class:"pagination-list"},Va={key:0},Qa={key:1},Ya=(0,n._)("span",{class:"pagination-ellipsis"},"…",-1),Ma=[Ya],La={key:2},Ka={key:3},Ea={key:4},Ga=(0,n._)("span",{class:"pagination-ellipsis"},"…",-1),Ba=[Ga],$a={key:5};function Xa(e,a,t,s,r,o){return(0,n.wg)(),(0,n.iD)("nav",Ua,[e.hasOnlyOnePage?((0,n.wg)(),(0,n.iD)("ul",Oa,[(0,n._)("li",null,[(0,n._)("a",{class:"pagination-link mt-2 is-current",onClick:a[0]||(a[0]=a=>e.updatePage(1))},"1")])])):((0,n.wg)(),(0,n.iD)("ul",Ra,[e.hasPreviousPage&&e.isPreviousPageNotFirst?((0,n.wg)(),(0,n.iD)("li",Va,[(0,n._)("a",{class:"pagination-link mt-2",onClick:a[1]||(a[1]=a=>e.updatePage(1))}," 1")])):(0,n.kq)("",!0),e.hasPreviousPage&&e.isPreviousPageNotFirst?((0,n.wg)(),(0,n.iD)("li",Qa,Ma)):(0,n.kq)("",!0),e.hasPreviousPage?((0,n.wg)(),(0,n.iD)("li",La,[(0,n._)("a",{class:"pagination-link mt-2",onClick:a[2]||(a[2]=a=>e.updatePage(e.currentPage-1))},(0,$.zw)(e.currentPage-1),1)])):(0,n.kq)("",!0),(0,n._)("li",null,[(0,n._)("a",{class:"pagination-link mt-2 is-current",onClick:a[3]||(a[3]=a=>e.updatePage(e.currentPage))},(0,$.zw)(e.currentPage),1)]),e.hasNextPage?((0,n.wg)(),(0,n.iD)("li",Ka,[(0,n._)("a",{class:"pagination-link mt-2",onClick:a[4]||(a[4]=a=>e.updatePage(e.currentPage+1))},(0,$.zw)(e.currentPage+1),1)])):(0,n.kq)("",!0),e.hasNextPage&&e.isNextPageNotLast?((0,n.wg)(),(0,n.iD)("li",Ea,Ba)):(0,n.kq)("",!0),e.hasNextPage&&e.isNextPageNotLast?((0,n.wg)(),(0,n.iD)("li",$a,[(0,n._)("a",{class:"pagination-link mt-2",onClick:a[5]||(a[5]=a=>e.updatePage(e.totalPageCount))},(0,$.zw)(e.totalPageCount),1)])):(0,n.kq)("",!0)]))])}var et=(0,n.aZ)({name:"PaginationItem",props:{currentPage:{type:Number,required:!0},pageSize:{type:Number,required:!0},total:{type:Number,required:!0}},emits:["update-page"],setup(e,a){const t=(0,D.yj)(),s=(0,D.tv)(),r={route:t,router:s},o=(0,n.Fl)((()=>Math.ceil(e.total/e.pageSize))),i=(0,n.Fl)((()=>1===o.value)),l=(0,n.Fl)((()=>e.currentPage>1)),u=(0,n.Fl)((()=>e.currentPage-1!==1)),c=(0,n.Fl)((()=>e.currentPage<o.value)),d=(0,n.Fl)((()=>e.currentPage+1!==o.value)),p=e=>{const t=(0,aa.K)("page",e.toString(),r);t.value=e.toString(),a.emit("update-page",e)};return(0,n.bv)((()=>{const a=(0,aa.K)("page",null,r);a.value&&parseInt(a.value)!==e.currentPage&&p(parseInt(a.value))})),{updatePage:p,hasNextPage:c,hasOnlyOnePage:i,hasPreviousPage:l,isNextPageNotLast:d,isPreviousPageNotFirst:u,totalPageCount:o}}});const at=(0,y.Z)(et,[["render",Xa]]);var tt=at;const st={key:0},nt=(0,n._)("p",null,"-",-1),rt=[nt],ot={key:1};function it(e,a,t,s,r,o){return void 0===e.dt?((0,n.wg)(),(0,n.iD)("div",st,rt)):((0,n.wg)(),(0,n.iD)("div",ot,[(0,n._)("p",null,(0,$.zw)(e.getLocalDatetime(e.dt)),1),(0,n._)("p",null,"("+(0,$.zw)(e.getHumanizedRelativeTime(e.dt))+")",1)]))}var lt=(0,n.aZ)({name:"ReadableDatetimeItem",props:{dt:{type:String,required:!1}},setup(){return{getHumanizedRelativeTime:Na,getLocalDatetime:Da}}});const ut=(0,y.Z)(lt,[["render",it]]);var ct=ut,dt=(0,n.aZ)({name:"JobsItem",components:{Pagination:tt,ReadableDatetime:ct,Status:Ha,Success:xa,CachedAt:za},props:{jobs:{type:Object,required:!0}},emits:["update-page","refresh-page"],setup(e,a){const t=e=>{a.emit("update-page",e)},s=()=>{a.emit("refresh-page")};return{updatePage:t,refreshPage:s,getHumanizedRelativeTime:Na,getLocalDatetime:Da}}});const pt=(0,y.Z)(dt,[["render",ba]]);var gt=pt;const mt={class:"has-text-centered"},vt=(0,n._)("div",{class:"fa-3x"},[(0,n._)("i",{class:"fas fa-spinner fa-spin"})],-1),bt=[vt];function _t(e,a,t,s,r,o){return(0,n.wg)(),(0,n.iD)("div",mt,bt)}var ft=(0,n.aZ)({name:"LoadingItem"});const wt=(0,y.Z)(ft,[["render",_t]]);var ht=wt,yt=(0,n.aZ)({name:"JobsWrapper",components:{Loading:ht,ErrorMessage:le,Form:la,Jobs:gt},setup(){const e=(0,R.iH)(1),a=(0,R.iH)(),t=(0,V.KP)((async(e,a)=>await B.getJobs(a))),s=async()=>{const e=a.value?.getSearchParams();return await t.perform(e)},r=a=>{e.value=a},o=()=>{e.value=1},i=async()=>{o(),await s()},l=async()=>{o(),(0,n.Y3)((async()=>await s()))};return(0,n.bv)((async()=>{await s()})),(0,n.YP)(e,(async()=>{(0,n.Y3)((async()=>await s()))})),{getJobsTask:t,page:e,form:a,search:l,refreshPage:i,updatePage:r}}});const kt=(0,y.Z)(yt,[["render",O]]);var Pt=kt,jt=(0,n.aZ)({name:"JobsView",components:{Jobs:Pt},setup(){(0,n.bv)((()=>{(0,Z.ZQf)("Jobs - ARQ Dashboard")}))}});const qt=(0,y.Z)(jt,[["render",N]]);var St=qt;function Dt(e,a,t,s,r,o){const i=(0,n.up)("Job");return(0,n.wg)(),(0,n.j4)(i,{jobId:e.jobId},null,8,["jobId"])}function Nt(e,a,t,s,r,o){const i=(0,n.up)("Loading"),l=(0,n.up)("ErrorMessage"),u=(0,n.up)("JobComponent");return(0,n.wg)(),(0,n.iD)(n.HY,null,[e.getJobTask.isRunning?((0,n.wg)(),(0,n.j4)(i,{key:0})):(0,n.kq)("",!0),e.getJobTask.isError?((0,n.wg)(),(0,n.j4)(l,{key:1,error:e.getJobTask.last?.error},null,8,["error"])):(0,n.kq)("",!0),e.getJobTask.last?.value?((0,n.wg)(),(0,n.j4)(u,{key:2,job:e.getJobTask.last.value},null,8,["job"])):(0,n.kq)("",!0)],64)}const Zt={class:"is-size-2 mb-4"},Tt={class:"wrapper"};function zt(e,a,t,s,r,o){const i=(0,n.up)("VueJsonPretty"),l=(0,n.up)("CachedAt");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("h2",Zt,(0,$.zw)(e.job.jobId),1),(0,n._)("div",Tt,[(0,n.Wm)(i,{data:e.job},null,8,["data"])]),(0,n.Wm)(l,{cachedAt:e.job.cachedAt},null,8,["cachedAt"])],64)}var Jt=(0,n.aZ)({name:"JobItem",components:{VueJsonPretty:re(),CachedAt:za},props:{job:{type:Object,required:!0}}});const Ct=(0,y.Z)(Jt,[["render",zt],["__scopeId","data-v-7f3af65e"]]);var At=Ct,Ht=(0,n.aZ)({name:"JobWrapper",components:{Loading:ht,ErrorMessage:le,JobComponent:At},props:{jobId:{type:String,required:!0}},setup(e){const a=(0,V.KP)((async(e,a)=>await B.getJob(a)));return(0,n.bv)((async()=>{await a.perform(e.jobId)})),{getJobTask:a}}});const It=(0,y.Z)(Ht,[["render",Nt]]);var Wt=It,Ft=(0,n.aZ)({name:"ArtifactView",components:{Job:Wt},props:{id:{type:String,required:!0}},setup(e){const a=(0,R.iH)(e.id),t=()=>{(0,Z.ZQf)(`Job:${a.value} - ARQ Dashboard`)};return(0,n.bv)((()=>{t()})),(0,n.m0)((()=>{a.value=e.id,t()})),{jobId:a}}});const xt=(0,y.Z)(Ft,[["render",Dt]]);var Ut=xt;function Ot(e,a,t,s,r,o){const i=(0,n.up)("Setting");return(0,n.wg)(),(0,n.j4)(i)}function Rt(e,a,t,s,r,o){const i=(0,n.up)("Setting");return(0,n.wg)(),(0,n.j4)(i,{queueNames:e.getQueueNamesTask.last?.value||[]},null,8,["queueNames"])}const Vt={class:"box"},Qt={class:"field"},Yt=(0,n._)("label",{class:"label"},"ARQ queue name",-1),Mt={class:"control"},Lt={class:"select"};function Kt(e,a,t,r,o,i){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",Vt,[(0,n._)("div",Qt,[Yt,(0,n._)("div",Mt,[(0,n._)("div",Lt,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":a[0]||(a[0]=a=>e.queue=a),onChange:a[1]||(a[1]=(...a)=>e.updateSetting&&e.updateSetting(...a))},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.queueNames,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e.name},(0,$.zw)(e.name),1)))),128))],544),[[s.bM,e.queue]])])])])])])}var Et=(0,n.aZ)({name:"SettingItem",props:{queueNames:{type:Array,required:!0}},setup(){const e=L(),a=(0,R.iH)(e.value.queue),t=()=>{e.value.queue=a.value,G()};return{queue:a,updateSetting:t}}});const Gt=(0,y.Z)(Et,[["render",Kt]]);var Bt=Gt,$t=(0,n.aZ)({name:"SettingWrapper",components:{Setting:Bt},setup(){const e=(0,V.KP)((async()=>await B.getQueueNames()));return(0,n.bv)((async()=>{await e.perform()})),{getQueueNamesTask:e}}});const Xt=(0,y.Z)($t,[["render",Rt]]);var es=Xt,as=(0,n.aZ)({name:"SettingView",components:{Setting:es},setup(){(0,n.bv)((()=>{(0,Z.ZQf)("Setting - ARQ Dashboard")}))}});const ts=(0,y.Z)(as,[["render",Ot]]);var ss=ts;function ns(e,a,t,s,r,o){const i=(0,n.up)("Stats");return(0,n.wg)(),(0,n.j4)(i)}const rs={key:1},os={class:"columns"},is={class:"column"},ls={class:"field is-grouped is-grouped-centered"},us={class:"control"},cs=(0,n._)("span",{class:"icon is-small"},[(0,n._)("i",{class:"fas fa-sync"})],-1),ds=(0,n._)("span",null,"Update",-1),ps=[cs,ds];function gs(e,a,t,s,r,o){const i=(0,n.up)("Loading"),l=(0,n.up)("StatsComponent"),u=(0,n.up)("CachedAt"),c=(0,n.up)("ErrorMessage");return(0,n.wg)(),(0,n.iD)(n.HY,null,[e.getStatsTask.isRunning?((0,n.wg)(),(0,n.j4)(i,{key:0})):(0,n.kq)("",!0),e.getStatsTask.last?.value?((0,n.wg)(),(0,n.iD)("div",rs,[(0,n.Wm)(l,{stats:e.getStatsTask.last.value},null,8,["stats"]),(0,n._)("div",os,[(0,n._)("div",is,[(0,n._)("div",ls,[(0,n._)("p",us,[(0,n._)("a",{class:"button is-light",onClick:a[0]||(a[0]=(...a)=>e.update&&e.update(...a))},ps)])]),(0,n.Wm)(u,{cachedAt:e.getStatsTask.last.value.cachedAt},null,8,["cachedAt"])])])])):(0,n.kq)("",!0),e.getStatsTask.isError?((0,n.wg)(),(0,n.j4)(c,{key:2,error:e.getStatsTask.last?.error},null,8,["error"])):(0,n.kq)("",!0)],64)}const ms={class:"is-size-2 mb-4"},vs={class:"columns"},bs={class:"column"},_s={class:"message"},fs=(0,n._)("div",{class:"message-header"},[(0,n._)("p",null,"Queued jobs")],-1),ws={class:"message-body has-text-centered"},hs={class:"column"},ys={class:"message is-info"},ks=(0,n._)("div",{class:"message-header"},[(0,n._)("p",null,"Deferred jobs")],-1),Ps={class:"message-body has-text-centered"},js={class:"column"},qs={class:"message is-link"},Ss=(0,n._)("div",{class:"message-header"},[(0,n._)("p",null,"In progress jobs")],-1),Ds={class:"message-body has-text-centered"},Ns={class:"column"},Zs={class:"message is-success"},Ts=(0,n._)("div",{class:"message-header"},[(0,n._)("p",null,"Complete jobs")],-1),zs={class:"message-body has-text-centered"};function Js(e,a,t,s,r,o){const i=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("h2",ms,(0,$.zw)(e.state.queue),1),(0,n._)("div",vs,[(0,n._)("div",bs,[(0,n._)("article",_s,[fs,(0,n._)("div",ws,[(0,n.Wm)(i,{to:{name:"jobs",query:{status:"queued"}}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,$.zw)(e.stats.queuedJobs),1)])),_:1})])])]),(0,n._)("div",hs,[(0,n._)("article",ys,[ks,(0,n._)("div",Ps,[(0,n.Wm)(i,{to:{name:"jobs",query:{status:"deferred"}}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,$.zw)(e.stats.deferredJobs),1)])),_:1})])])]),(0,n._)("div",js,[(0,n._)("article",qs,[Ss,(0,n._)("div",Ds,[(0,n.Wm)(i,{to:{name:"jobs",query:{status:"in_progress"}}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,$.zw)(e.stats.inProgressJobs),1)])),_:1})])])]),(0,n._)("div",Ns,[(0,n._)("article",Zs,[Ts,(0,n._)("div",zs,[(0,n.Wm)(i,{to:{name:"jobs",query:{status:"complete"}}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,$.zw)(e.stats.completeJobs),1)])),_:1})])])])])],64)}var Cs=(0,n.aZ)({name:"StatsItem",props:{stats:{type:Object,required:!0}},setup(){const e=L();return{state:e}}});const As=(0,y.Z)(Cs,[["render",Js]]);var Hs=As,Is=(0,n.aZ)({name:"StatsWrapper",components:{Loading:ht,ErrorMessage:le,StatsComponent:Hs,CachedAt:za},setup(){const e=(0,V.KP)((async()=>await B.getStats())),a=async()=>{await e.perform()};return(0,n.bv)((async()=>{await a()})),{getStatsTask:e,update:a,getHumanizedRelativeTime:Na,getLocalDatetime:Da}}});const Ws=(0,y.Z)(Is,[["render",gs]]);var Fs=Ws,xs=(0,n.aZ)({name:"StatsView",components:{Stats:Fs},setup(){(0,n.bv)((()=>{(0,Z.ZQf)("Stats - ARQ Dashboard")}))}});const Us=(0,y.Z)(xs,[["render",ns]]);var Os=Us;const Rs=[{path:"/",name:"stats",component:Os},{path:"/jobs/:id",name:"job",component:Ut,props:!0},{path:"/jobs/",name:"jobs",component:St},{path:"/setting/",name:"setting",component:ss}],Vs=(0,D.p7)({history:(0,D.r5)("/"),routes:Rs});var Qs=Vs;(0,s.ri)(S).use(Qs).mount("#app")}},a={};function t(s){var n=a[s];if(void 0!==n)return n.exports;var r=a[s]={exports:{}};return e[s].call(r.exports,r,r.exports,t),r.exports}t.m=e,function(){var e=[];t.O=function(a,s,n,r){if(!s){var o=1/0;for(c=0;c<e.length;c++){s=e[c][0],n=e[c][1],r=e[c][2];for(var i=!0,l=0;l<s.length;l++)(!1&r||o>=r)&&Object.keys(t.O).every((function(e){return t.O[e](s[l])}))?s.splice(l--,1):(i=!1,r<o&&(o=r));if(i){e.splice(c--,1);var u=n();void 0!==u&&(a=u)}}return a}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[s,n,r]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var s in a)t.o(a,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};t.O.j=function(a){return 0===e[a]};var a=function(a,s){var n,r,o=s[0],i=s[1],l=s[2],u=0;if(o.some((function(a){return 0!==e[a]}))){for(n in i)t.o(i,n)&&(t.m[n]=i[n]);if(l)var c=l(t)}for(a&&a(s);u<o.length;u++)r=o[u],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(c)},s=self["webpackChunkarq_dashboard_frontend"]=self["webpackChunkarq_dashboard_frontend"]||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))}();var s=t.O(void 0,[998],(function(){return t(39)}));s=t.O(s)})();
//# sourceMappingURL=app.ec3a003e.js.map