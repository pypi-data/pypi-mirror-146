Metadata-Version: 2.1
Name: qchecker
Version: 0.0.0a3
Summary: A simple library for finding statement-level substructures in Abstract Syntax Trees
Home-page: https://github.com/James-Ansley/qchecker
Author: James Finnie-Ansley
License: MIT License
Platform: UNKNOWN
Classifier: Development Status :: 1 - Planning
Classifier: Topic :: Utilities
Classifier: Intended Audience :: Developers
Classifier: Programming Language :: Python :: 3
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Requires-Python: >=3.10
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: tomli (~=2.0.1)
Requires-Dist: pylint (~=2.12.2)
Requires-Dist: flake8 (~=4.0.1)
Requires-Dist: flake8-json (~=21.7.0)
Requires-Dist: libcst (~=0.4.1)
Provides-Extra: testing
Requires-Dist: pytest (>=6.0) ; extra == 'testing'
Requires-Dist: pytest-cov (>=2.0) ; extra == 'testing'

# qChecker

A simple library for finding statement-level substructures
(e.g. micro-anti-patterns/smells) in Abstract Syntax Trees

## Install

    pip install qchecker

## Usage

> qChecker is still in alpha and significant API changes are likely

Currently, subclasses of `qchecker.Substructure` define structure names,
descriptions, and an `iter_matches` class method which iterates
over `qchecker.TextRange`s that match the pattern defined by the
Substructure's `technical_description`.

For example:

```python
import ast

from qchecker import IfElseReturnBool

code = """
class Foo:
    def __init__(self, x):
        self.x = x
    
    def bar(self):
        if self.x < 10:
            return True
        else:
            return False
""".strip()

module = ast.parse(code)
matches = IfElseReturnBool.iter_matches(module)
print(IfElseReturnBool.technical_description)
print(*matches, sep="\n")
```

would print the `technical_description` of the `IfElseReturnBool` Substructure
followed by a `TextRange` with the start and end line numbers and column offsets
of the structure in the `code` string.

```
If(..)[Return bool] Else[Return !bool]
TextRange(6,8->9,24)
```

A `SUBSTRUCTURES` list provides the list of all subclasses of `Substructure`.


