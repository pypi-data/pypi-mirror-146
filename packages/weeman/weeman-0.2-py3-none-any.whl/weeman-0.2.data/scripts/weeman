#!/bin/bash

name=weeman
author=Evait-Security
url=https://github.com/evait-security/weeman
script="python2 weeman.py"
version=0.2
req=no
requirements=no

Help()
{
   echo
   echo "Usage:- "
   echo
   echo "Syntax: $name [-h|i|a|r|v]"
   echo
   echo "options:"
   echo " -i  :   Install $name"
   echo " -h  :   Print this Help."
   echo " -v  :   Print version and exit."
   echo " -a  :   About Us"
   echo " -r  :   Delete $name"
   echo
   echo
}
save()
{
         clear
echo
figlet '     Bhai4You' | lolcat
sleep 1
echo -e "\t\e[31m\e[1m[✓]\e[0m\e[1m $name already installed !!"
echo
}

about()
{
         clear
echo
figlet '     Bhai4You' | lolcat
echo
echo -e "\t\e[33m\e[1m[^^]\e[0m\e[1m Name  \t\e[91m\e[1m:  \e[92m\e[1m$name"
sleep 1
echo -e "\t\e[33m\e[1m[^^] \e[0m\e[1mAuthor  \t\e[91m\e[1m:  \e[92m\e[1m$author"
sleep 1
echo -e "\t\e[33m\e[1m[^^] \e[0m\e[1mPIP Author\e[91m\e[1m :  \e[92m\e[1mParixit Sutariya"
sleep 1
echo -e "\t\e[33m\e[1m[^^] \e[0m\e[1mGithub  \t\e[91m\e[1m:  \e[92m\e[1mgithub.com/Bhai4You"
sleep 1
echo -e "\t\e[33m\e[1m[^^] \e[0m\e[1mBlog    \t\e[91m\e[1m:  \e[92m\e[1mbhai4you.blogspot.com"
sleep 1
echo -e "\t\e[33m\e[1m[^^] \e[0m\e[1mDate  \t\e[91m\e[1m:  \e[92m\e[1m10-04-2022"
sleep 1
echo
}

version()
{
clear
echo
figlet '     Bhai4You' | lolcat
sleep 1
echo -e "\t\t\e[31m\e[1m[✓]\e[0m\e[1m Version : $version"
echo
}

install()
{
cd $HOME
if [[ -e "$name" ]]; then
clear
cd $HOME
cd $name
$script
echo
else
clear
cd $HOME
printf "\e[32m\e[1m[✓] \e[0m\e[1mFinding valid sources...(\e[32m\e[1m1\e[0m\e[1m/2)"
pkg install python2 -y &> /dev/null
pkg install figlet -y &> /dev/null
pkg install lolcat -y &> /dev/null
clear
echo
figlet '     Bhai4You' | lolcat
sleep 1
printf "\e[32m\e[1m[✓] \e[0m\e[1mFinding valid sources...(\e[32m\e[1m2\e[0m\e[1m/2)"
pip install git -y &> /dev/null
echo
printf "\e[1;92m[\e[0m^^\e[1;92m] Downloading...\n"
sleep 1
echo
git clone $url &> /dev/null
cd $name
if [ $req = "yes" ]
then
$requirements
else
$script
fi
fi
}

delete()
{
cd $HOME
rm -rvf $name &> /dev/null
}

while getopts ":hiarvs" option; do
   case $option in
      h) # display Help
         Help
         exit;;
      i)
         install
         exit;;
      a)
          about
         exit;;
      s)
          save
         exit;;
      v)
          version
         exit;;
     r)
          delete
         exit;;
     \?) # Invalid option
         echo "Error: Type '-h' for Help !"
         exit;;
   esac
done
ECHO="true"
if [ $ECHO = "true" ]
then
        install
fi
