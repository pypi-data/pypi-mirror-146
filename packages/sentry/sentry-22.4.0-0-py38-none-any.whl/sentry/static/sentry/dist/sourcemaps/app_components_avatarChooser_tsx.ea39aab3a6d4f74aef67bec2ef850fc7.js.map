{"version":3,"file":"chunks/app_components_avatarChooser_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/components/well.tsx","webpack:///./app/components/avatarCropper.tsx","webpack:///./app/components/avatarChooser.tsx"],"sourcesContent":["import * as React from 'react';\nimport styled from '@emotion/styled';\n\ninterface WellProps extends React.HTMLAttributes<HTMLDivElement> {\n  children: React.ReactNode;\n  centered?: boolean;\n  hasImage?: boolean;\n  theme?: any;\n}\n\nconst Well = styled('div')<WellProps>`\n  border: 1px solid ${p => p.theme.border};\n  box-shadow: none;\n  background: ${p => p.theme.backgroundSecondary};\n  padding: ${p => (p.hasImage ? '80px 30px' : '15px 20px')};\n  margin-bottom: 20px;\n  border-radius: 3px;\n  ${p => p.centered && 'text-align: center'};\n`;\n\nexport default Well;\n","import * as React from 'react';\nimport styled from '@emotion/styled';\n\nimport {addErrorMessage} from 'sentry/actionCreators/indicator';\nimport Well from 'sentry/components/well';\nimport {AVATAR_URL_MAP} from 'sentry/constants';\nimport {t, tct} from 'sentry/locale';\nimport {AvatarUser} from 'sentry/types';\n\nconst resizerPositions = {\n  nw: ['top', 'left'],\n  ne: ['top', 'right'],\n  se: ['bottom', 'right'],\n  sw: ['bottom', 'left'],\n};\n\ntype Position = keyof typeof resizerPositions;\n\ntype Model = Pick<AvatarUser, 'avatar'>;\n\ntype Props = {\n  model: Model;\n  type:\n    | 'user'\n    | 'team'\n    | 'organization'\n    | 'project'\n    | 'sentryAppColor'\n    | 'sentryAppSimple'\n    | 'docIntegration';\n  updateDataUrlState: (opts: {dataUrl?: string; savedDataUrl?: string | null}) => void;\n  savedDataUrl?: string;\n};\n\ntype State = {\n  file: File | null;\n  mousePosition: {pageX: number; pageY: number};\n  objectURL: string | null;\n  resizeDimensions: {left: number; size: number; top: number};\n  resizeDirection: Position | null;\n};\n\nclass AvatarCropper extends React.Component<Props, State> {\n  state: State = {\n    file: null,\n    objectURL: null,\n    mousePosition: {pageX: 0, pageY: 0},\n    resizeDimensions: {top: 0, left: 0, size: 0},\n    resizeDirection: null,\n  };\n\n  componentWillUnmount() {\n    this.revokeObjectUrl();\n  }\n\n  file = React.createRef<HTMLInputElement>();\n  canvas = React.createRef<HTMLCanvasElement>();\n  image = React.createRef<HTMLImageElement>();\n  cropContainer = React.createRef<HTMLDivElement>();\n\n  // These values must be synced with the avatar endpoint in backend.\n  MIN_DIMENSION = 256;\n  MAX_DIMENSION = 1024;\n  ALLOWED_MIMETYPES = 'image/gif,image/jpeg,image/png';\n\n  onSelectFile = (ev: React.ChangeEvent<HTMLInputElement>) => {\n    const file = ev.target.files && ev.target.files[0];\n\n    // No file selected (e.g. user clicked \"cancel\")\n    if (!file) {\n      return;\n    }\n\n    if (!/^image\\//.test(file.type)) {\n      addErrorMessage(t('That is not a supported file type.'));\n      return;\n    }\n\n    this.revokeObjectUrl();\n\n    const {updateDataUrlState} = this.props;\n    const objectURL = window.URL.createObjectURL(file);\n    this.setState({file, objectURL}, () => updateDataUrlState({savedDataUrl: null}));\n  };\n\n  revokeObjectUrl = () =>\n    this.state.objectURL && window.URL.revokeObjectURL(this.state.objectURL);\n\n  onImageLoad = () => {\n    const error = this.validateImage();\n    if (error) {\n      this.revokeObjectUrl();\n      this.setState({objectURL: null});\n      addErrorMessage(error);\n      return;\n    }\n\n    const image = this.image.current;\n    if (!image) {\n      return;\n    }\n\n    const dimension = Math.min(image.clientHeight, image.clientWidth);\n    const state = {resizeDimensions: {size: dimension, top: 0, left: 0}};\n\n    this.setState(state, this.drawToCanvas);\n  };\n\n  updateDimensions = (ev: MouseEvent) => {\n    const cropContainer = this.cropContainer.current;\n    if (!cropContainer) {\n      return;\n    }\n\n    const {mousePosition, resizeDimensions} = this.state;\n\n    let pageY = ev.pageY;\n    let pageX = ev.pageX;\n    let top = resizeDimensions.top + (pageY - mousePosition.pageY);\n    let left = resizeDimensions.left + (pageX - mousePosition.pageX);\n\n    if (top < 0) {\n      top = 0;\n      pageY = mousePosition.pageY;\n    } else if (top + resizeDimensions.size > cropContainer.clientHeight) {\n      top = cropContainer.clientHeight - resizeDimensions.size;\n      pageY = mousePosition.pageY;\n    }\n\n    if (left < 0) {\n      left = 0;\n      pageX = mousePosition.pageX;\n    } else if (left + resizeDimensions.size > cropContainer.clientWidth) {\n      left = cropContainer.clientWidth - resizeDimensions.size;\n      pageX = mousePosition.pageX;\n    }\n\n    this.setState(state => ({\n      resizeDimensions: {...state.resizeDimensions, top, left},\n      mousePosition: {pageX, pageY},\n    }));\n  };\n\n  onMouseDown = (ev: React.MouseEvent<HTMLDivElement>) => {\n    ev.preventDefault();\n    this.setState({mousePosition: {pageY: ev.pageY, pageX: ev.pageX}});\n\n    document.addEventListener('mousemove', this.updateDimensions);\n    document.addEventListener('mouseup', this.onMouseUp);\n  };\n\n  onMouseUp = (ev: MouseEvent) => {\n    ev.preventDefault();\n    document.removeEventListener('mousemove', this.updateDimensions);\n    document.removeEventListener('mouseup', this.onMouseUp);\n    this.drawToCanvas();\n  };\n\n  startResize = (direction: Position, ev: React.MouseEvent<HTMLDivElement>) => {\n    ev.stopPropagation();\n    ev.preventDefault();\n    document.addEventListener('mousemove', this.updateSize);\n    document.addEventListener('mouseup', this.stopResize);\n\n    this.setState({\n      resizeDirection: direction,\n      mousePosition: {pageY: ev.pageY, pageX: ev.pageX},\n    });\n  };\n\n  stopResize = (ev: MouseEvent) => {\n    ev.stopPropagation();\n    ev.preventDefault();\n    document.removeEventListener('mousemove', this.updateSize);\n    document.removeEventListener('mouseup', this.stopResize);\n\n    this.setState({resizeDirection: null});\n    this.drawToCanvas();\n  };\n\n  updateSize = (ev: MouseEvent) => {\n    const cropContainer = this.cropContainer.current;\n    if (!cropContainer) {\n      return;\n    }\n\n    const {mousePosition} = this.state;\n\n    const yDiff = ev.pageY - mousePosition.pageY;\n    const xDiff = ev.pageX - mousePosition.pageX;\n\n    this.setState({\n      resizeDimensions: this.getNewDimensions(cropContainer, yDiff, xDiff),\n      mousePosition: {pageX: ev.pageX, pageY: ev.pageY},\n    });\n  };\n\n  // Normalize diff across dimensions so that negative diffs are always making\n  // the cropper smaller and positive ones are making the cropper larger\n  getDiffNW = (yDiff: number, xDiff: number) =>\n    (yDiff - yDiff * 2 + (xDiff - xDiff * 2)) / 2;\n\n  getDiffNE = (yDiff: number, xDiff: number) => (yDiff - yDiff * 2 + xDiff) / 2;\n\n  getDiffSW = (yDiff: number, xDiff: number) => (yDiff + (xDiff - xDiff * 2)) / 2;\n\n  getDiffSE = (yDiff: number, xDiff: number) => (yDiff + xDiff) / 2;\n\n  getNewDimensions = (container: HTMLDivElement, yDiff: number, xDiff: number) => {\n    const {resizeDimensions: oldDimensions, resizeDirection} = this.state;\n\n    const diff = this['getDiff' + resizeDirection!.toUpperCase()](yDiff, xDiff);\n\n    let height = container.clientHeight - oldDimensions.top;\n    let width = container.clientWidth - oldDimensions.left;\n\n    // Depending on the direction, we update different dimensions:\n    // nw: size, top, left\n    // ne: size, top\n    // sw: size, left\n    // se: size\n    const editingTop = resizeDirection === 'nw' || resizeDirection === 'ne';\n    const editingLeft = resizeDirection === 'nw' || resizeDirection === 'sw';\n\n    const newDimensions = {\n      top: 0,\n      left: 0,\n      size: oldDimensions.size + diff,\n    };\n\n    if (editingTop) {\n      newDimensions.top = oldDimensions.top - diff;\n      height = container.clientHeight - newDimensions.top;\n    }\n\n    if (editingLeft) {\n      newDimensions.left = oldDimensions.left - diff;\n      width = container.clientWidth - newDimensions.left;\n    }\n\n    if (newDimensions.top < 0) {\n      newDimensions.size = newDimensions.size + newDimensions.top;\n      if (editingLeft) {\n        newDimensions.left = newDimensions.left - newDimensions.top;\n      }\n      newDimensions.top = 0;\n    }\n\n    if (newDimensions.left < 0) {\n      newDimensions.size = newDimensions.size + newDimensions.left;\n      if (editingTop) {\n        newDimensions.top = newDimensions.top - newDimensions.left;\n      }\n      newDimensions.left = 0;\n    }\n\n    const maxSize = Math.min(width, height);\n    if (newDimensions.size > maxSize) {\n      if (editingTop) {\n        newDimensions.top = newDimensions.top + newDimensions.size - maxSize;\n      }\n      if (editingLeft) {\n        newDimensions.left = newDimensions.left + newDimensions.size - maxSize;\n      }\n      newDimensions.size = maxSize;\n    } else if (newDimensions.size < this.MIN_DIMENSION) {\n      if (editingTop) {\n        newDimensions.top = newDimensions.top + newDimensions.size - this.MIN_DIMENSION;\n      }\n      if (editingLeft) {\n        newDimensions.left = newDimensions.left + newDimensions.size - this.MIN_DIMENSION;\n      }\n      newDimensions.size = this.MIN_DIMENSION;\n    }\n\n    return {...oldDimensions, ...newDimensions};\n  };\n\n  validateImage() {\n    const img = this.image.current;\n\n    if (!img) {\n      return null;\n    }\n\n    if (img.naturalWidth < this.MIN_DIMENSION || img.naturalHeight < this.MIN_DIMENSION) {\n      return tct('Please upload an image larger than [size]px by [size]px.', {\n        size: this.MIN_DIMENSION - 1,\n      });\n    }\n\n    if (img.naturalWidth > this.MAX_DIMENSION || img.naturalHeight > this.MAX_DIMENSION) {\n      return tct('Please upload an image smaller than [size]px by [size]px.', {\n        size: this.MAX_DIMENSION,\n      });\n    }\n\n    return null;\n  }\n\n  drawToCanvas() {\n    const canvas = this.canvas.current;\n    if (!canvas) {\n      return;\n    }\n\n    const image = this.image.current;\n    if (!image) {\n      return;\n    }\n\n    const {left, top, size} = this.state.resizeDimensions;\n    // Calculate difference between natural dimensions and rendered dimensions\n    const ratio =\n      (image.naturalHeight / image.clientHeight +\n        image.naturalWidth / image.clientWidth) /\n      2;\n    canvas.width = size * ratio;\n    canvas.height = size * ratio;\n\n    canvas\n      .getContext('2d')!\n      .drawImage(\n        image,\n        left * ratio,\n        top * ratio,\n        size * ratio,\n        size * ratio,\n        0,\n        0,\n        size * ratio,\n        size * ratio\n      );\n\n    this.props.updateDataUrlState({dataUrl: canvas.toDataURL()});\n  }\n\n  get imageSrc() {\n    const {savedDataUrl, model, type} = this.props;\n    const uuid = model.avatar?.avatarUuid;\n    const photoUrl = uuid && `/${AVATAR_URL_MAP[type] || 'avatar'}/${uuid}/`;\n\n    return savedDataUrl || this.state.objectURL || photoUrl;\n  }\n\n  uploadClick = (ev: React.MouseEvent<HTMLAnchorElement>) => {\n    ev.preventDefault();\n    this.file.current && this.file.current.click();\n  };\n\n  renderImageCrop() {\n    const src = this.imageSrc;\n    if (!src) {\n      return null;\n    }\n\n    const {resizeDimensions, resizeDirection} = this.state;\n    const style = {\n      top: resizeDimensions.top,\n      left: resizeDimensions.left,\n      width: resizeDimensions.size,\n      height: resizeDimensions.size,\n    };\n\n    return (\n      <ImageCropper resizeDirection={resizeDirection}>\n        <CropContainer ref={this.cropContainer}>\n          <img\n            ref={this.image}\n            src={src}\n            onLoad={this.onImageLoad}\n            onDragStart={e => e.preventDefault()}\n          />\n          <Cropper style={style} onMouseDown={this.onMouseDown}>\n            {Object.keys(resizerPositions).map(pos => (\n              <Resizer\n                key={pos}\n                position={pos as Position}\n                onMouseDown={this.startResize.bind(this, pos)}\n              />\n            ))}\n          </Cropper>\n        </CropContainer>\n      </ImageCropper>\n    );\n  }\n\n  render() {\n    const src = this.imageSrc;\n\n    const upload = <a onClick={this.uploadClick} />;\n    const uploader = (\n      <Well hasImage centered>\n        <p>{tct('[upload:Upload an image] to get started.', {upload})}</p>\n      </Well>\n    );\n\n    return (\n      <React.Fragment>\n        {!src && uploader}\n        {src && <HiddenCanvas ref={this.canvas} />}\n        {this.renderImageCrop()}\n        <div className=\"form-group\">\n          {src && <a onClick={this.uploadClick}>{t('Change Photo')}</a>}\n          <UploadInput\n            ref={this.file}\n            type=\"file\"\n            accept={this.ALLOWED_MIMETYPES}\n            onChange={this.onSelectFile}\n          />\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default AvatarCropper;\n\nconst UploadInput = styled('input')`\n  position: absolute;\n  opacity: 0;\n`;\n\nconst ImageCropper = styled('div')<{resizeDirection: Position | null}>`\n  cursor: ${p => (p.resizeDirection ? `${p.resizeDirection}-resize` : 'default')};\n  text-align: center;\n  margin-bottom: 20px;\n  background-size: 20px 20px;\n  background-position: 0 0, 0 10px, 10px -10px, -10px 0px;\n  background-color: ${p => p.theme.background};\n  background-image: linear-gradient(\n      45deg,\n      ${p => p.theme.backgroundSecondary} 25%,\n      rgba(0, 0, 0, 0) 25%\n    ),\n    linear-gradient(-45deg, ${p => p.theme.backgroundSecondary} 25%, rgba(0, 0, 0, 0) 25%),\n    linear-gradient(45deg, rgba(0, 0, 0, 0) 75%, ${p => p.theme.backgroundSecondary} 75%),\n    linear-gradient(-45deg, rgba(0, 0, 0, 0) 75%, ${p => p.theme.backgroundSecondary} 75%);\n`;\n\nconst CropContainer = styled('div')`\n  display: inline-block;\n  position: relative;\n  max-width: 100%;\n`;\n\nconst Cropper = styled('div')`\n  position: absolute;\n  border: 2px dashed ${p => p.theme.gray300};\n`;\n\nconst Resizer = styled('div')<{position: Position}>`\n  border-radius: 5px;\n  width: 10px;\n  height: 10px;\n  position: absolute;\n  background-color: ${p => p.theme.gray300};\n  cursor: ${p => `${p.position}-resize`};\n  ${p => resizerPositions[p.position].map(pos => `${pos}: -5px;`)}\n`;\n\nconst HiddenCanvas = styled('canvas')`\n  display: none;\n`;\n","import * as React from 'react';\nimport styled from '@emotion/styled';\n\nimport {addErrorMessage, addSuccessMessage} from 'sentry/actionCreators/indicator';\nimport {Client} from 'sentry/api';\nimport Avatar from 'sentry/components/avatar';\nimport AvatarCropper from 'sentry/components/avatarCropper';\nimport Button from 'sentry/components/button';\nimport RadioGroup from 'sentry/components/forms/controls/radioGroup';\nimport ExternalLink from 'sentry/components/links/externalLink';\nimport LoadingError from 'sentry/components/loadingError';\nimport LoadingIndicator from 'sentry/components/loadingIndicator';\nimport {Panel, PanelBody, PanelHeader} from 'sentry/components/panels';\nimport Well from 'sentry/components/well';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {AvatarUser, Organization, SentryApp, Team} from 'sentry/types';\nimport withApi from 'sentry/utils/withApi';\n\nexport type Model = Pick<AvatarUser, 'avatar'>;\ntype AvatarType = Required<Model>['avatar']['avatarType'];\ntype AvatarChooserType =\n  | 'user'\n  | 'team'\n  | 'organization'\n  | 'sentryAppColor'\n  | 'sentryAppSimple'\n  | 'docIntegration';\ntype DefaultChoice = {\n  allowDefault?: boolean;\n  choiceText?: string;\n  preview?: React.ReactNode;\n};\n\ntype DefaultProps = {\n  onSave: (model: Model) => void;\n  allowGravatar?: boolean;\n  allowLetter?: boolean;\n  allowUpload?: boolean;\n  defaultChoice?: DefaultChoice;\n  type?: AvatarChooserType;\n};\n\ntype Props = {\n  api: Client;\n  endpoint: string;\n  model: Model;\n  disabled?: boolean;\n  help?: React.ReactNode;\n  isUser?: boolean;\n  savedDataUrl?: string;\n  title?: string;\n} & DefaultProps;\n\ntype State = {\n  hasError: boolean;\n  model: Model;\n  dataUrl?: string | null;\n  savedDataUrl?: string | null;\n};\n\nclass AvatarChooser extends React.Component<Props, State> {\n  static defaultProps: DefaultProps = {\n    allowGravatar: true,\n    allowLetter: true,\n    allowUpload: true,\n    type: 'user',\n    onSave: () => {},\n    defaultChoice: {\n      allowDefault: false,\n    },\n  };\n\n  state: State = {\n    model: this.props.model,\n    savedDataUrl: null,\n    dataUrl: null,\n    hasError: false,\n  };\n\n  UNSAFE_componentWillReceiveProps(nextProps: Props) {\n    // Update local state if defined in props\n    if (typeof nextProps.model !== 'undefined') {\n      this.setState({model: nextProps.model});\n    }\n  }\n\n  updateState(model: Model) {\n    this.setState({model});\n  }\n\n  getModelFromResponse(resp: any): Model {\n    const {type} = this.props;\n    const isSentryApp = type?.startsWith('sentryApp');\n    // SentryApp endpoint returns all avatars, we need to return only the edited one\n    if (!isSentryApp) {\n      return resp;\n    }\n    const isColor = type === 'sentryAppColor';\n    return {avatar: resp?.avatars?.find(({color}) => color === isColor) ?? undefined};\n  }\n\n  handleError(msg: string) {\n    addErrorMessage(msg);\n  }\n\n  handleSuccess(model: Model) {\n    const {onSave} = this.props;\n    this.setState({model});\n    onSave(model);\n    addSuccessMessage(t('Successfully saved avatar preferences'));\n  }\n\n  handleSaveSettings = (ev: React.MouseEvent) => {\n    const {endpoint, api, type} = this.props;\n    const {model, dataUrl} = this.state;\n\n    ev.preventDefault();\n    const avatarType = model?.avatar?.avatarType;\n    const avatarPhoto = dataUrl?.split(',')[1];\n\n    const data: {\n      avatar_photo?: string;\n      avatar_type?: string;\n      color?: boolean;\n    } = {avatar_type: avatarType};\n\n    // If an image has been uploaded, then another option is selected, we should not submit the uploaded image\n    if (avatarType === 'upload') {\n      data.avatar_photo = avatarPhoto;\n    }\n\n    if (type?.startsWith('sentryApp')) {\n      data.color = type === 'sentryAppColor';\n    }\n\n    api.request(endpoint, {\n      method: 'PUT',\n      data,\n      success: resp => {\n        this.setState({savedDataUrl: this.state.dataUrl});\n        this.handleSuccess(this.getModelFromResponse(resp));\n      },\n      error: resp => {\n        const avatarPhotoErrors = resp?.responseJSON?.avatar_photo || [];\n        avatarPhotoErrors.length\n          ? avatarPhotoErrors.map(this.handleError)\n          : this.handleError.bind(this, t('There was an error saving your preferences.'));\n      },\n    });\n  };\n\n  handleChange = (id: AvatarType) =>\n    this.updateState({\n      ...this.state.model,\n      avatar: {avatarUuid: this.state.model.avatar?.avatarUuid ?? '', avatarType: id},\n    });\n\n  render() {\n    const {\n      allowGravatar,\n      allowUpload,\n      allowLetter,\n      savedDataUrl,\n      type,\n      isUser,\n      disabled,\n      title,\n      help,\n      defaultChoice,\n    } = this.props;\n    const {hasError, model} = this.state;\n\n    if (hasError) {\n      return <LoadingError />;\n    }\n    if (!model) {\n      return <LoadingIndicator />;\n    }\n    const {allowDefault, preview, choiceText: defaultChoiceText} = defaultChoice || {};\n\n    const avatarType = model.avatar?.avatarType ?? 'letter_avatar';\n    const isLetter = avatarType === 'letter_avatar';\n    const isDefault = Boolean(preview && avatarType === 'default');\n\n    const isTeam = type === 'team';\n    const isOrganization = type === 'organization';\n    const isSentryApp = type?.startsWith('sentryApp');\n\n    const choices: [AvatarType, string][] = [];\n\n    if (allowDefault && preview) {\n      choices.push(['default', defaultChoiceText ?? t('Use default avatar')]);\n    }\n    if (allowLetter) {\n      choices.push(['letter_avatar', t('Use initials')]);\n    }\n    if (allowUpload) {\n      choices.push(['upload', t('Upload an image')]);\n    }\n    if (allowGravatar) {\n      choices.push(['gravatar', t('Use Gravatar')]);\n    }\n    return (\n      <Panel>\n        <PanelHeader>{title || t('Avatar')}</PanelHeader>\n        <PanelBody>\n          <AvatarForm>\n            <AvatarGroup inline={isLetter || isDefault}>\n              <RadioGroup\n                style={{flex: 1}}\n                choices={choices}\n                value={avatarType}\n                label={t('Avatar Type')}\n                onChange={this.handleChange}\n                disabled={disabled}\n              />\n              {isLetter && (\n                <Avatar\n                  gravatar={false}\n                  style={{width: 90, height: 90}}\n                  user={isUser ? (model as AvatarUser) : undefined}\n                  organization={isOrganization ? (model as Organization) : undefined}\n                  team={isTeam ? (model as Team) : undefined}\n                  sentryApp={isSentryApp ? (model as SentryApp) : undefined}\n                />\n              )}\n              {isDefault && preview}\n            </AvatarGroup>\n            <AvatarUploadSection>\n              {allowGravatar && avatarType === 'gravatar' && (\n                <Well>\n                  {t('Gravatars are managed through ')}\n                  <ExternalLink href=\"http://gravatar.com\">Gravatar.com</ExternalLink>\n                </Well>\n              )}\n              {model.avatar && avatarType === 'upload' && (\n                <AvatarCropper\n                  {...this.props}\n                  type={type!}\n                  model={model}\n                  savedDataUrl={savedDataUrl}\n                  updateDataUrlState={dataState => this.setState(dataState)}\n                />\n              )}\n              <AvatarSubmit className=\"form-actions\">\n                {help && <AvatarHelp>{help}</AvatarHelp>}\n                <Button\n                  type=\"button\"\n                  priority=\"primary\"\n                  onClick={this.handleSaveSettings}\n                  disabled={disabled}\n                >\n                  {t('Save Avatar')}\n                </Button>\n              </AvatarSubmit>\n            </AvatarUploadSection>\n          </AvatarForm>\n        </PanelBody>\n      </Panel>\n    );\n  }\n}\n\nconst AvatarHelp = styled('p')`\n  margin-right: auto;\n  color: ${p => p.theme.gray300};\n  font-size: 14px;\n  width: 50%;\n`;\n\nconst AvatarGroup = styled('div')<{inline: boolean}>`\n  display: flex;\n  flex-direction: ${p => (p.inline ? 'row' : 'column')};\n`;\n\nconst AvatarForm = styled('div')`\n  line-height: ${space(3)};\n  padding: ${space(1.5)} ${space(2)};\n  margin: ${space(1.5)} ${space(1)} ${space(0.5)};\n`;\n\nconst AvatarSubmit = styled('fieldset')`\n  display: flex;\n  align-items: center;\n  margin-top: ${space(4)};\n  padding-top: ${space(1.5)};\n`;\n\nconst AvatarUploadSection = styled('div')`\n  margin-top: ${space(1.5)};\n`;\n\nexport default withApi(AvatarChooser);\n"],"names":["p","theme","border","backgroundSecondary","hasImage","centered","resizerPositions","nw","ne","se","sw","AvatarCropper","React","file","objectURL","mousePosition","pageX","pageY","resizeDimensions","top","left","size","resizeDirection","ev","target","files","test","type","addErrorMessage","t","this","revokeObjectUrl","updateDataUrlState","props","window","URL","createObjectURL","setState","savedDataUrl","state","revokeObjectURL","error","validateImage","image","current","Math","min","clientHeight","clientWidth","drawToCanvas","cropContainer","preventDefault","document","addEventListener","updateDimensions","onMouseUp","removeEventListener","direction","stopPropagation","updateSize","stopResize","yDiff","xDiff","getNewDimensions","container","oldDimensions","diff","toUpperCase","height","width","editingTop","editingLeft","newDimensions","maxSize","MIN_DIMENSION","click","componentWillUnmount","img","naturalWidth","naturalHeight","tct","MAX_DIMENSION","canvas","ratio","getContext","drawImage","dataUrl","toDataURL","imageSrc","model","uuid","avatar","avatarUuid","photoUrl","AVATAR_URL_MAP","renderImageCrop","src","style","ImageCropper","CropContainer","ref","onLoad","onImageLoad","onDragStart","e","Cropper","onMouseDown","Object","keys","map","pos","Resizer","position","startResize","bind","render","upload","onClick","uploadClick","uploader","HiddenCanvas","className","UploadInput","accept","ALLOWED_MIMETYPES","onChange","onSelectFile","background","gray300","AvatarChooser","hasError","endpoint","api","avatarType","avatarPhoto","split","data","avatar_type","avatar_photo","startsWith","color","request","method","success","resp","handleSuccess","getModelFromResponse","avatarPhotoErrors","responseJSON","length","handleError","id","updateState","UNSAFE_componentWillReceiveProps","nextProps","isColor","avatars","find","undefined","msg","onSave","addSuccessMessage","allowGravatar","allowUpload","allowLetter","isUser","disabled","title","help","defaultChoice","allowDefault","preview","choiceText","defaultChoiceText","isLetter","isDefault","Boolean","isTeam","isOrganization","isSentryApp","choices","push","AvatarForm","AvatarGroup","inline","flex","value","label","handleChange","gravatar","user","organization","team","sentryApp","AvatarUploadSection","href","dataState","AvatarSubmit","AvatarHelp","priority","handleSaveSettings","space","withApi"],"sourceRoot":""}