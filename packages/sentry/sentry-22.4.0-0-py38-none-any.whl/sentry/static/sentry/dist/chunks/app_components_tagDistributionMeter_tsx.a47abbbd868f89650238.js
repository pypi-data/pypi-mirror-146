"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_tagDistributionMeter_tsx"],{"./app/components/tagDistributionMeter.tsx":(e,t,r)=>{r.d(t,{Z:()=>g});var n=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=r("../node_modules/react/index.js"),a=r("../node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js"),i=r("./app/components/links/link.tsx"),l=r("./app/components/tooltip.tsx"),d=r("./app/components/version.tsx"),c=r("./app/locale.tsx"),h=r("./app/styles/overflowEllipsis.tsx"),p=r("./app/styles/space.tsx"),m=r("./app/utils.tsx"),u=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class g extends s.Component{renderTitle(){const{segments:e,totalValues:t,title:r,isLoading:n,hasError:o,showReleasePackage:s}=this.props;if(!Array.isArray(e)||e.length<=0)return(0,u.tZ)(k,{children:(0,u.tZ)(x,{children:r})});const a=e[0],i=(0,m.aQ)(a.count,t),l=Math.floor(i);return(0,u.BX)(k,{children:[(0,u.tZ)(x,{children:r}),(0,u.BX)(v,{children:["release"===r?(0,u.tZ)(w,{children:(0,u.tZ)(d.Z,{version:a.name,anchor:!1,tooltipRawVersion:!0,withPackage:s,truncate:!0})}):(0,u.tZ)(w,{children:a.name||(0,c.t)("n/a")}),n||o?null:(0,u.BX)(y,{children:[l,"%"]})]})]})}renderSegments(){const{segments:e,onTagClick:t,title:r,isLoading:n,hasError:o,totalValues:a,renderLoading:i,renderError:h,renderEmpty:p,showReleasePackage:g}=this.props;return n?i():o?(0,u.tZ)(b,{children:h()}):0===a?(0,u.tZ)(b,{children:p()}):(0,u.tZ)(b,{children:e.map(((e,n)=>{const o=(0,m.aQ)(e.count,a),i=Math.floor(o),h=(0,u.BX)(s.Fragment,{children:[(0,u.tZ)("div",{className:"truncate",children:"release"===r?(0,u.tZ)(d.Z,{version:e.name,anchor:!1,withPackage:g}):e.name||(0,c.t)("n/a")}),i,"%"]}),p={index:n,to:e.url,onClick:()=>{null==t||t(r,e)}};return(0,u.tZ)("div",{"data-test-id":`tag-${r}-segment-${e.value}`,style:{width:o+"%"},children:(0,u.tZ)(l.ZP,{title:h,containerDisplayMode:"block",children:e.isOther?(0,u.tZ)(E,{}):(0,u.tZ)(z,{"aria-label":(0,c.t)("Add the %s segment tag to the search query",e.value),...p})})},e.value)}))})}render(){const{segments:e,totalValues:t}=this.props,r=e.reduce(((e,t)=>e+t.count),0);return r<t&&e.push({isOther:!0,name:(0,c.t)("Other"),value:"other",count:t-r,url:""}),(0,u.BX)(f,{children:[this.renderTitle(),this.renderSegments()]})}}g.displayName="TagDistributionMeter",(0,n.Z)(g,"defaultProps",{isLoading:!1,hasError:!1,renderLoading:()=>null,renderEmpty:()=>(0,u.tZ)("p",{children:(0,c.t)("No recent data.")}),renderError:()=>null,showReleasePackage:!1});const Z=["#3A3387","#5F40A3","#8C4FBD","#B961D3","#DE76E4","#EF91E8","#F7B2EC","#FCD8F4","#FEEBF9"],f=(0,o.Z)("div",{target:"efzk5f18"})("margin-bottom:",(0,p.Z)(1),";"),b=(0,o.Z)("div",{target:"efzk5f17"})({name:"7d3a08",styles:"display:flex;overflow:hidden;border-radius:2px"}),k=(0,o.Z)("div",{target:"efzk5f16"})("display:flex;font-size:",(e=>e.theme.fontSizeSmall),";justify-content:space-between;margin-bottom:",(0,p.Z)(.25),";line-height:1.1;"),x=(0,o.Z)("div",{target:"efzk5f15"})("color:",(e=>e.theme.textColor),";font-weight:bold;",h.Z,";"),v=(0,o.Z)("div",{target:"efzk5f14"})("display:flex;color:",(e=>e.theme.gray300),";text-align:right;"),w=(0,o.Z)("div",{target:"efzk5f13"})(h.Z,";max-width:150px;"),y=(0,o.Z)("div",{target:"efzk5f12"})("font-weight:bold;font-variant-numeric:tabular-nums;padding-left:",(0,p.Z)(.5),";color:",(e=>e.theme.textColor),";"),E=(0,o.Z)("span",{target:"efzk5f11"})("display:block;width:100%;height:16px;color:inherit;outline:none;background-color:",Z[Z.length-1],";"),z=(0,o.Z)(i.Z,{shouldForwardProp:a.Z,target:"efzk5f10"})("display:block;width:100%;height:16px;color:inherit;outline:none;background-color:",(e=>Z[e.index]),";")}}]);
//# sourceMappingURL=../sourcemaps/app_components_tagDistributionMeter_tsx.d4cf6d1f5ed49259f5aa0207dbf7f6a5.js.map