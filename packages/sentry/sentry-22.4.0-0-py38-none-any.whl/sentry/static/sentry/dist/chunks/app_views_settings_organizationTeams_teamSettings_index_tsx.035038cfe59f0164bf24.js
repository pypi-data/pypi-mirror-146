"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_organizationTeams_teamSettings_index_tsx"],{"./app/data/forms/teamSettingsFields.tsx":(e,t,s)=>{s.r(t),s.d(t,{route:()=>n,default:()=>r});var a=s("./app/locale.tsx"),o=s("./app/utils/slugify.tsx");const n="/settings/:orgId/teams/:teamId/settings/",r=[{title:"Team Settings",fields:[{name:"slug",type:"string",required:!0,label:(0,a.t)("Name"),placeholder:"e.g. api-team",help:(0,a.t)("A unique ID used to identify the team"),disabled:e=>{let{access:t}=e;return!t.has("team:write")},transformInput:o.Z,saveOnBlur:!1,saveMessageAlertType:"info",saveMessage:(0,a.t)("You will be redirected to the new team slug after saving")}]}]},"./app/utils/slugify.tsx":(e,t,s)=>{function a(e){return"string"==typeof e?e.toLowerCase().replace(" ","-"):""}s.d(t,{Z:()=>a}),s("../node_modules/core-js/modules/es.string.replace.js")},"./app/views/asyncView.tsx":(e,t,s)=>{s.d(t,{Z:()=>r}),s("../node_modules/react/index.js");var a=s("./app/components/asyncComponent.tsx"),o=s("./app/components/sentryDocumentTitle.tsx"),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class r extends a.Z{getTitle(){return""}render(){return(0,n.tZ)(o.Z,{title:this.getTitle(),children:this.renderComponent()})}}r.displayName="AsyncView"},"./app/views/settings/organizationTeams/teamSettings/index.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var a=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/core-js/modules/es.string.replace.js"),s("../node_modules/react/index.js")),n=s("../node_modules/react-router/es/index.js"),r=s("./app/actionCreators/indicator.tsx"),i=s("./app/actionCreators/teams.tsx"),d=s("./app/components/button.tsx"),m=s("./app/components/confirm.tsx"),p=s("./app/components/forms/field/index.tsx"),l=s("./app/components/forms/form.tsx"),c=s("./app/components/forms/jsonForm.tsx"),u=s("./app/components/panels/index.tsx"),g=s("./app/data/forms/teamSettingsFields.tsx"),h=s("./app/icons/index.tsx"),x=s("./app/locale.tsx"),f=s("./app/utils/withOrganization.tsx"),Z=s("./app/views/asyncView.tsx"),w=s("./app/components/forms/model.tsx");class b extends w.Z{constructor(e,t){super(),(0,a.Z)(this,"orgId",void 0),(0,a.Z)(this,"teamId",void 0),this.orgId=e,this.teamId=t}doApiRequest(e){let{data:t}=e;return new Promise(((e,s)=>(0,i.fs)(this.api,{orgId:this.orgId,teamId:this.teamId,data:t},{success:e,error:s})))}}const v=b;var y=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class T extends Z.Z{constructor(){super(...arguments),(0,a.Z)(this,"model",new v(this.props.params.orgId,this.props.params.teamId)),(0,a.Z)(this,"handleSubmitSuccess",((e,t,s)=>{(0,i.z_)(e.slug,e),"slug"===s&&((0,r.S9)((0,x.t)("Team name changed")),n.browserHistory.replace(`/settings/${this.props.params.orgId}/teams/${t.getValue(s)}/settings/`),this.setState({loading:!0}))})),(0,a.Z)(this,"handleRemoveTeam",(async()=>{await(0,i.tT)(this.api,this.props.params),n.browserHistory.replace(`/settings/${this.props.params.orgId}/teams/`)}))}getTitle(){return"Team Settings"}getEndpoints(){return[]}renderBody(){const{organization:e,team:t}=this.props,s=new Set(e.access);return(0,y.BX)(o.Fragment,{children:[(0,y.tZ)(l.Z,{model:this.model,apiMethod:"PUT",saveOnBlur:!0,allowUndo:!0,onSubmitSuccess:this.handleSubmitSuccess,onSubmitError:()=>(0,r.Iw)((0,x.t)("Unable to save change")),initialData:{name:t.name,slug:t.slug},children:(0,y.tZ)(c.Z,{access:s,forms:g.default})}),(0,y.BX)(u.s_,{children:[(0,y.tZ)(u.V9,{children:(0,x.t)("Remove Team")}),(0,y.tZ)(p.Z,{help:(0,x.t)("This may affect team members' access to projects and associated alert delivery."),children:(0,y.tZ)("div",{children:(0,y.tZ)(m.Z,{disabled:!s.has("team:admin"),onConfirm:this.handleRemoveTeam,priority:"danger",message:(0,x._N)("Are you sure you want to remove the team [team]?",{team:`#${t.slug}`}),children:(0,y.tZ)(d.ZP,{icon:(0,y.tZ)(h.Fz,{}),priority:"danger",disabled:!s.has("team:admin"),children:(0,x.t)("Remove Team")})})})})]})]})}}const j=(0,f.Z)(T)}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_organizationTeams_teamSettings_index_tsx.7d8a8d36f1b3c07a48a06831ba4bbbf0.js.map