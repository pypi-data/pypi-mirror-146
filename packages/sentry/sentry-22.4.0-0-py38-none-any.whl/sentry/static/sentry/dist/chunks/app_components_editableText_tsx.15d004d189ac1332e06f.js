"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_editableText_tsx"],{"./app/components/editableText.tsx":(e,t,n)=>{n.d(t,{Z:()=>f});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),i=n("./app/actionCreators/indicator.tsx"),r=n("./app/components/forms/controls/input.tsx"),a=n("./app/components/textOverflow.tsx"),d=n("./app/icons/iconEdit.tsx"),c=n("./app/styles/space.tsx"),u=n("./app/utils.tsx");const l=function(e){const[t,n]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{function t(t){let{key:s}=t;s===e&&n(!0)}function s(t){let{key:s}=t;s===e&&n(!1)}return window.addEventListener("keydown",t),window.addEventListener("keyup",s),()=>{window.removeEventListener("keydown",t),window.removeEventListener("keyup",s)}}),[e]),t};var p=n("./app/utils/useOnClickOutside.tsx"),m=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function b(e){let{value:t,onChange:n,name:s,errorMessage:r,successMessage:a,maxLength:c,isDisabled:b=!1,autoSelect:f=!1,"aria-label":Z}=e;const[E,y]=(0,o.useState)(!1),[C,L]=(0,o.useState)(t),j=!C.trim(),_=(0,o.useRef)(null),z=(0,o.useRef)(null),D=(0,o.useRef)(null),O=l("Enter"),S=l("Escape");function T(){t!==C&&L(t),E&&y(!1)}(0,p.Z)(_,(()=>{E&&(j?M("error"):(C!==t&&(n(C),M("success")),y(!1)))}));const R=(0,o.useCallback)((()=>{if(O){if(j)return void M("error");C!==t&&(n(C),M("success")),y(!1)}}),[O,C,n]),B=(0,o.useCallback)((()=>{S&&T()}),[S]);function M(e){"error"!==e?a&&(0,i.S9)(a):r&&(0,i.Iw)(r)}return(0,o.useEffect)((()=>{T()}),[b,t]),(0,o.useEffect)((()=>{if(E){const e=D.current;(0,u.ri)(e)&&e.focus()}}),[E]),(0,o.useEffect)((()=>{E&&(R(),B())}),[R,B,E]),(0,m.tZ)(k,{isDisabled:b,isEditing:E,children:E?(0,m.BX)(w,{ref:_,isEmpty:j,"data-test-id":"editable-text-input",children:[(0,m.tZ)(v,{"aria-label":Z,name:s,ref:D,value:C,onChange:function(e){L(e.target.value)},onFocus:e=>f&&e.target.select(),maxLength:c}),(0,m.tZ)(x,{children:C})]}):(0,m.BX)(g,{onClick:b?void 0:function(){y(!0)},ref:z,isDisabled:b,"data-test-id":"editable-text-label",children:[(0,m.tZ)(h,{children:C}),!b&&(0,m.tZ)(d.y,{})]})})}b.displayName="EditableText";const f=b,g=(0,s.Z)("div",{target:"e1nzw5k75"})("display:grid;grid-auto-flow:column;align-items:center;gap:",(0,c.Z)(1),";cursor:",(e=>e.isDisabled?"default":"pointer"),";"),h=(0,s.Z)(a.Z,{target:"e1nzw5k74"})("border-top:1px solid transparent;border-bottom:1px dotted ",(e=>e.theme.gray200),";"),w=(0,s.Z)("div",{target:"e1nzw5k73"})("display:inline-block;background:",(e=>e.theme.gray100),";border-radius:",(e=>e.theme.borderRadius),";margin:-",(0,c.Z)(.5)," -",(0,c.Z)(1),";max-width:calc(100% + ",(0,c.Z)(2),");"),v=(0,s.Z)(r.Z,{target:"e1nzw5k72"})("border:none!important;background:transparent;height:auto;min-height:34px;padding:",(0,c.Z)(.5)," ",(0,c.Z)(1),";&,&:focus,&:active,&:hover{box-shadow:none;}"),x=(0,s.Z)("div",{target:"e1nzw5k71"})("height:0;opacity:0;white-space:pre;padding:0 ",(0,c.Z)(1),";"),k=(0,s.Z)("div",{target:"e1nzw5k70"})("display:flex;",(e=>e.isDisabled&&`\n      ${h} {\n        border-bottom-color: transparent;\n      }\n    `),";")},"./app/utils/useOnClickOutside.tsx":(e,t,n)=>{n.d(t,{Z:()=>o});var s=n("../node_modules/react/index.js");const o=function(e,t){(0,s.useEffect)((()=>{const n=n=>{const s=null==e?void 0:e.current;s&&!s.contains(n.target)&&t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])}}}]);
//# sourceMappingURL=../sourcemaps/app_components_editableText_tsx.81cbb9418da010aa4be42ed1098d14ce.js.map