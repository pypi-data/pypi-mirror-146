"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_modals_dashboardWidgetLibraryModal_index_tsx"],{"./app/components/circleIndicator.tsx":(e,t,i)=>{i.d(t,{Z:()=>o});const s=e=>e.color?`background: ${e.color};`:`background: ${e.enabled?e.theme.success:e.theme.error};`,a=e=>`\n  height: ${e.size}px;\n  width: ${e.size}px;\n`,r=(0,i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js").Z)("div",{target:"e13rus8i0"})("display:inline-block;position:relative;border-radius:50%;",a,";",s,";");r.defaultProps={enabled:!0,size:14};const o=r},"./app/components/featureBadge.tsx":(e,t,i)=>{i.d(t,{Z:()=>v});var s=i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=i("../node_modules/react/index.js"),r=i("../node_modules/@emotion/react/dist/emotion-element-a8309070.browser.esm.js"),o=i("../node_modules/@sentry/minimal/esm/index.js"),n=i("./app/components/circleIndicator.tsx"),d=i("./app/styles/space.tsx"),l=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const c=e=>{var t,i;return e.priority&&null!==(t=null!==(i=e.theme.alert[e.priority])&&void 0!==i?i:e.theme.badge[e.priority])&&void 0!==t?t:null},p=(0,s.Z)((e=>{let{children:t,icon:i,inline:s,priority:r,size:o,border:n,...d}=e;return(0,l.BX)("div",{...d,children:[i&&(0,l.tZ)(u,{children:a.isValidElement(i)&&a.cloneElement(i,{size:"xs"})}),t]})}),{target:"ewer3pn1"})("display:inline-flex;box-sizing:border-box;padding:",(e=>"small"===e.size?"0.1em 0.4em 0.2em":"0.35em 0.8em 0.4em"),";font-size:",(e=>e.theme.fontSizeExtraSmall),";line-height:1;color:",(e=>e.priority?e.theme.background:e.theme.textColor),";text-align:center;white-space:nowrap;vertical-align:middle;align-items:center;border-radius:",(e=>"small"===e.size?"0.25em":"2em"),";text-transform:lowercase;font-weight:",(e=>"small"===e.size?"bold":"normal"),";background:",(e=>{var t,i;return null!==(t=null===(i=c(e))||void 0===i?void 0:i.background)&&void 0!==t?t:e.theme.gray100}),";",(e=>(e=>{var t,i;return e.border?`border: 1px solid ${null!==(t=null===(i=c(e))||void 0===i?void 0:i.border)&&void 0!==t?t:e.theme.border};`:""})(e)),";",(e=>(e=>e.inline?`margin-left: ${"small"===e.size?"0.25em":"0.5em"};`:"")(e)),";"),u=(0,s.Z)("span",{target:"ewer3pn0"})("margin-right:",(0,d.Z)(.5),";"),m=p;var g=i("./app/components/tooltip.tsx"),b=i("./app/locale.tsx");const y={alpha:(0,b.t)("This feature is internal and available for QA purposes"),beta:(0,b.t)("This feature is available for early adopters and may change"),new:(0,b.t)("This feature is new! Try it out and let us know what you think")},h={alpha:(0,b.t)("alpha"),beta:(0,b.t)("beta"),new:(0,b.t)("new")};function x(e){let{type:t,variant:i="badge",title:s,noTooltip:d,expiresAt:c,...p}=e;const u=(0,r.u)();return c&&c.valueOf()<Date.now()?(Math.random()<.01&&(0,o.$e)((e=>{e.setTag("title",s),e.setTag("type",t),e.setLevel("warning"),(0,o.Tb)(new Error("Expired Feature Badge"))})),null):(0,l.tZ)("div",{...p,children:(0,l.tZ)(g.ZP,{title:null!=s?s:y[t],disabled:d,position:"right",children:(0,l.BX)(a.Fragment,{children:["badge"===i&&(0,l.tZ)(w,{priority:t,children:h[t]}),"indicator"===i&&(0,l.tZ)(n.Z,{color:u.badge[t].indicatorColor,size:8})]})})})}x.displayName="BaseFeatureBadge";const w=(0,s.Z)(m,{target:"e1g6bd531"})("padding:3px ",(0,d.Z)(.75),";"),v=(0,s.Z)(x,{target:"e1g6bd530"})("display:inline-flex;align-items:center;margin-left:",(0,d.Z)(.75),";position:relative;top:-1px;")},"./app/components/modals/dashboardWidgetLibraryModal/index.tsx":(e,t,i)=>{i.r(t),i.d(t,{default:()=>T,modalCss:()=>Z});var s=i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=(i("../node_modules/core-js/modules/web.dom-collections.iterator.js"),i("../node_modules/react/index.js")),r=i("./app/components/tooltip.tsx"),o=i("./app/locale.tsx"),n=i("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),d=i("./app/views/dashboardsV2/layoutUtils.tsx"),l=i("./app/views/dashboardsV2/types.tsx"),c=i("./app/components/button.tsx"),p=i("./app/components/buttonBar.tsx"),u=i("./app/components/alert.tsx"),m=i("./app/styles/space.tsx"),g=i("./app/views/dashboardsV2/widgetLibrary/data.tsx"),b=i("./app/views/dashboardsV2/widgetLibrary/widgetCard.tsx"),y=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function h(e){let{selectedWidgets:t,errored:i,setSelectedWidgets:s,setErrored:r}=e;return(0,y.BX)(a.Fragment,{children:[i&&!t.length?(0,y.tZ)(u.Z,{type:"error",children:(0,o.t)("Please select at least one Widget from our Library. Alternatively, you can build a custom widget from scratch.")}):null,(0,y.tZ)(x,{children:g.c.map(((e,i)=>(0,y.tZ)(b.Z,{"data-test-id":`widget-library-card-${i}`,widget:e,selectedWidgets:t,setSelectedWidgets:s,setErrored:r},e.title)))})]})}h.displayName="DashboardWidgetLibraryTab";const x=(0,s.Z)("div",{target:"e15svj9l0"})("display:grid;grid-template-columns:repeat(2, minmax(100px, 1fr));grid-template-rows:repeat(2, max-content);row-gap:",(0,m.Z)(1.5),";column-gap:",(0,m.Z)(2),";@media (max-width: 700px){grid-template-columns:auto;}"),w=h;var v=i("./app/components/modals/dashboardWidgetLibraryModal/tabsButtonBar.tsx");function f(e){let{Header:t,Body:i,Footer:s,dashboard:u,organization:m,customWidget:g,initialSelectedWidgets:b,closeModal:h,onAddWidget:x}=e;const[f,Z]=(0,a.useState)(b||[]),[T,W]=(0,a.useState)(!1),B=u.widgets.length+f.length>l.ZU;return(0,y.BX)(a.Fragment,{children:[(0,y.tZ)(t,{closeButton:!0,children:(0,y.tZ)("h4",{children:(0,o.t)("Add Widget(s)")})}),(0,y.BX)(i,{children:[(0,y.tZ)(v.$,{activeTab:v.M.Library,organization:m,dashboard:u,selectedWidgets:f,customWidget:g,onAddWidget:x}),(0,y.tZ)(w,{selectedWidgets:f,errored:T,setSelectedWidgets:Z,setErrored:W})]}),(0,y.tZ)(s,{children:(0,y.BX)(p.ZP,{gap:1,children:[(0,y.tZ)(c.ZP,{external:!0,href:"https://docs.sentry.io/product/dashboards/widget-library/",children:(0,o.t)("Read the docs")}),(0,y.tZ)(r.ZP,{title:(0,o._N)("Exceeds max widgets ([maxWidgets]) per dashboard. Plese unselect [unselectWidgets] widget(s).",{maxWidgets:l.ZU,unselectWidgets:u.widgets.length+f.length-l.ZU}),disabled:!B,children:(0,y.tZ)(_,{"data-test-id":"confirm-widgets",priority:"primary",disabled:B,type:"button",onClick:()=>{f.length?((0,n.Z)("dashboards_views.widget_library.add",{organization:m,num_widgets:f.length}),f.forEach((e=>{(0,n.Z)("dashboards_views.widget_library.add_widget",{organization:m,title:e.title})})),x([...u.widgets,...f.map(d.TE)]),h()):W(!0)},children:f.length?(0,o._N)("Add ([numWidgets])",{numWidgets:f.length}):(0,o.t)("Add")})})]})})]})}f.displayName="DashboardWidgetLibraryModal";const Z={name:"l07bt5",styles:"width:100%;max-width:700px;margin:70px auto"},_=(0,s.Z)(c.ZP,{target:"e1g50rat0"})({name:"g740v2",styles:"min-width:90px"}),T=f},"./app/components/modals/dashboardWidgetLibraryModal/tabsButtonBar.tsx":(e,t,i)=>{i.d(t,{M:()=>y,$:()=>h});var s=i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=i("./app/actionCreators/modal.tsx"),r=i("./app/components/featureBadge.tsx"),o=i("./app/locale.tsx"),n=i("./app/styles/space.tsx"),d=i("./app/utils.tsx"),l=i("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),c=i("./app/views/dashboardsV2/types.tsx"),p=i("./app/components/button.tsx"),u=i("./app/components/buttonBar.tsx");const m="dashboard-widget-library-visits";function g(){const e=localStorage.getItem(m);return null===e||(parseInt(e,10)||0)<5}var b=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");let y;function h(e){let{activeTab:t,organization:i,dashboard:s,selectedWidgets:n,customWidget:p,onAddWidget:u}=e;return(0,b.BX)(x,{active:t,children:[(0,b.tZ)(v,{barId:y.Custom,onClick:()=>{t!==y.Custom&&((0,l.Z)("dashboards_views.widget_library.switch_tab",{organization:i,to:y.Custom}),(0,a.openAddDashboardWidgetModal)({organization:i,dashboard:s,selectedWidgets:n,widget:p,source:c.EN.LIBRARY,onAddLibraryWidget:u}))},children:(0,o.t)("Custom Widget")}),(0,b.BX)(w,{barId:y.Library,"data-test-id":"library-tab",onClick:()=>{t!==y.Library&&((0,l.Z)("dashboards_views.widget_library.switch_tab",{organization:i,to:y.Library}),function(){const e=localStorage.getItem(m);localStorage.setItem(m,null===e?"1":`${(parseInt(e,10)||0)+1}`)}(),(0,d.ri)(u)&&(0,a.openDashboardWidgetLibraryModal)({organization:i,dashboard:s,customWidget:p,initialSelectedWidgets:n,onAddWidget:u}))},children:[(0,o.t)("Widget Library"),g()&&(0,b.tZ)(r.Z,{type:"new"})]})]})}!function(e){e.Library="library",e.Custom="custom"}(y||(y={})),h.displayName="TabsButtonBar";const x=(0,s.Z)(u.ZP,{target:"ea8om9w2"})("display:inline-flex;margin-bottom:",(0,n.Z)(2),";"),w=(0,s.Z)(p.ZP,{target:"ea8om9w1"})({name:"ygoyvl",styles:"border-top-left-radius:0;border-bottom-left-radius:0"}),v=(0,s.Z)(p.ZP,{target:"ea8om9w0"})({name:"1ga8o78",styles:"border-top-right-radius:0;border-bottom-right-radius:0;line-height:17px"})},"./app/views/dashboardsV2/widgetLibrary/data.tsx":(e,t,i)=>{i.d(t,{c:()=>r});var s=i("./app/locale.tsx"),a=i("./app/views/dashboardsV2/types.tsx");const r=[{id:void 0,title:(0,s.t)("Duration Distribution"),description:(0,s.t)("Compare transaction durations across different percentiles."),displayType:a.FO.LINE,widgetType:a.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"event.type:transaction",fields:["p50(transaction.duration)","p75(transaction.duration)","p95(transaction.duration)"],aggregates:["p50(transaction.duration)","p75(transaction.duration)","p95(transaction.duration)"],columns:[],orderby:""}]},{id:void 0,title:(0,s.t)("High Throughput Transactions"),description:(0,s.t)("Top 5 transactions with the largest volume."),displayType:a.FO.TOP_N,widgetType:a.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"event.type:transaction",fields:["transaction","count()"],aggregates:["count()"],columns:["transaction"],orderby:"-count"}]},{id:void 0,title:(0,s.t)("LCP by Country"),description:(0,s.t)("Density map showing page load times by country."),displayType:a.FO.WORLD_MAP,widgetType:a.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"has:geo.country_code",fields:["p75(measurements.lcp)"],aggregates:["p75(measurements.lcp)"],columns:[],orderby:""}]},{id:void 0,title:(0,s.t)("Miserable Users"),description:(0,s.t)("Unique users who have experienced slow load times."),displayType:a.FO.BIG_NUMBER,widgetType:a.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"",fields:["count_miserable(user,300)"],aggregates:["count_miserable(user,300)"],columns:[],orderby:""}]},{id:void 0,title:(0,s.t)("Slow vs. Fast Transactions"),description:(0,s.t)("Percentage breakdown of transaction durations over and under 300ms."),displayType:a.FO.BAR,widgetType:a.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"event.type:transaction",fields:["equation|(count_if(transaction.duration,greater,300) / count()) * 100","equation|(count_if(transaction.duration,lessOrEquals,300) / count()) * 100"],aggregates:["equation|(count_if(transaction.duration,greater,300) / count()) * 100","equation|(count_if(transaction.duration,lessOrEquals,300) / count()) * 100"],columns:[],orderby:""}]},{id:void 0,title:(0,s.t)("Issues For Review"),description:(0,s.t)("Most recently seen unresolved issues for review."),displayType:a.FO.TABLE,widgetType:a.l9.ISSUE,interval:"5m",queries:[{name:"",conditions:"is:unresolved is:for_review",fields:["issue","assignee","events","title"],aggregates:[],columns:["issue","assignee","events","title"],orderby:"date"}]},{id:void 0,title:(0,s.t)("Top Unhandled Error Types"),description:(0,s.t)("Most frequently encountered unhandled errors."),displayType:a.FO.TOP_N,widgetType:a.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"error.unhandled:true",fields:["error.type","count()"],aggregates:["count()"],columns:["error.type"],orderby:"-count"}]},{id:void 0,title:(0,s.t)("Users Affected by Errors"),description:(0,s.t)("Footprint of unique users affected by errors."),displayType:a.FO.LINE,widgetType:a.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"event.type:error",fields:["count_unique(user)","count()"],aggregates:["count_unique(user)","count()"],columns:[],orderby:""}]}]},"./app/views/dashboardsV2/widgetLibrary/widgetCard.tsx":(e,t,i)=>{i.d(t,{T:()=>u,Z:()=>x});var s=i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=(i("../node_modules/core-js/modules/web.dom-collections.iterator.js"),i("../node_modules/react/index.js")),r=i("./app/components/panels/index.tsx"),o=i("./app/icons/index.tsx"),n=i("./app/icons/iconGraphArea.tsx"),d=i("./app/icons/iconGraphBar.tsx"),l=i("./app/styles/space.tsx"),c=i("./app/views/dashboardsV2/types.tsx"),p=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function u(e){switch(e){case c.FO.TABLE:return o.dc;case c.FO.WORLD_MAP:return o.vc;case c.FO.BIG_NUMBER:return o.A8;case c.FO.BAR:return d.U;case c.FO.TOP_N:return o.CC;case c.FO.AREA:return n.g;case c.FO.LINE:default:return o.TX}}function m(e){let{selectedWidgets:t,widget:i,setSelectedWidgets:s,"data-test-id":o}=e;const[n,d]=(0,a.useState)(t.includes(i)),l=u(i.displayType);return(0,p.tZ)(h,{"data-test-id":o,selected:n,onClick:()=>{if(n){const e=t.filter((e=>i!==e));s(e)}else{const e=t.slice().concat(i);s(e)}d(!n)},children:(0,p.BX)(r.N,{children:[(0,p.BX)(b,{children:[(0,p.tZ)(l,{size:"xs"}),(0,p.tZ)(g,{children:i.title})]}),(0,p.tZ)(y,{children:i.description})]})})}m.displayName="WidgetLibraryCard";const g=(0,s.Z)("div",{target:"e11j9f793"})("padding-left:",(0,l.Z)(1),";font-size:16px;line-height:140%;color:",(e=>e.theme.gray500),";"),b=(0,s.Z)("div",{target:"e11j9f792"})("padding:",(0,l.Z)(1.5)," ",(0,l.Z)(2),";padding-bottom:",(0,l.Z)(.5),";display:flex;align-items:center;"),y=(0,s.Z)("div",{target:"e11j9f791"})("padding:0 ",(0,l.Z)(1)," ",(0,l.Z)(1.5)," 36px;font-size:14px;line-height:21px;color:",(e=>e.theme.gray300),";"),h=(0,s.Z)(r.s_,{target:"e11j9f790"})("border:",(e=>e.selected?`2px solid ${e.theme.active}`:`1px solid ${e.theme.border}`),";margin:",(e=>e.selected?"-1px":0),";box-sizing:border-box;box-shadow:0px 2px 1px rgba(0, 0, 0, 0.08);cursor:pointer;"),x=m}}]);
//# sourceMappingURL=../sourcemaps/app_components_modals_dashboardWidgetLibraryModal_index_tsx.885e8e249e95c0bf38f27907b22095e1.js.map