"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_events_searchBar_tsx-app_views_eventsV2_table_queryField_tsx"],{"./app/components/events/searchBar.tsx":(e,t,n)=>{n.d(t,{Z:()=>C}),n("../node_modules/core-js/modules/es.string.replace.js");var i=n("../node_modules/react/index.js"),s=n("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),r=n("../node_modules/lodash/assign.js"),o=n.n(r),a=n("../node_modules/lodash/flatten.js"),l=n.n(a),d=n("../node_modules/lodash/memoize.js"),u=n.n(d),p=n("../node_modules/lodash/omit.js"),c=n.n(p),h=n("./app/actionCreators/tags.tsx"),m=n("./app/components/smartSearchBar/index.tsx"),f=n("./app/constants/index.tsx"),g=n("./app/types/index.tsx"),v=n("./app/utils.tsx"),b=n("./app/utils/discover/fields.tsx"),x=n("./app/utils/measurements/measurements.tsx"),y=n("./app/utils/useApi.tsx"),w=n("./app/utils/withTags.tsx"),k=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const Z=new RegExp(`^${f.c$}|\\${f.ir}`,"g");function S(e){const{maxSearchItems:t,organization:n,tags:r,omitTags:a,fields:d,projectIds:p,includeSessionTagsValues:f,maxMenuHeight:w}=e,S=(0,y.Z)();(0,i.useEffect)((()=>{var e,t;null===(e=(t=C.cache).clear)||void 0===e||e.call(t)}),[p]);const C=u()(((e,t,i)=>{const s=null==p?void 0:p.map(String);return(0,b.h1)(e.key)||(0,b.Xr)(e.key)?Promise.resolve([]):(0,h.Fo)(S,n.slug,e.key,t,s,i,!0,f).then((e=>l()(e.filter((e=>{let{name:t}=e;return(0,v.ri)(t)})).map((e=>{let{name:t}=e;return t})))),(()=>{throw new Error("Unable to fetch event field values")}))}),((e,t)=>{let{key:n}=e;return`${n}-${t}`})),j=e=>{const t=d?Object.fromEntries(d.filter((e=>!Object.keys(b.wZ).includes(e.field)&&!(0,b.GO)(e.field))).map((e=>[e.field,{key:e.field,name:e.field}]))):{},i=n.features.includes("performance-view")?Object.assign({},e,b.wZ,t):c()(b.wZ,b.J8),s=o()({},r,i,b.jg);return s.has={key:"has",name:"Has property",values:Object.keys(s),predefined:!0},c()(s,null!=a?a:[])};return(0,k.tZ)(x.Z,{children:n=>{let{measurements:i}=n;return(0,k.tZ)(s.ms,{children:n=>{let{css:s}=n;return(0,k.tZ)(m.Z,{hasRecentSearches:!0,savedSearchType:g.L4.EVENT,onGetTagValues:C,supportedTags:j(i),prepareQuery:e=>e.replace(Z,""),maxSearchItems:t,excludeEnvironment:!0,dropdownClassName:s`
                max-height: ${null!=w?w:300}px;
                overflow-y: auto;
              `,...e})}})}})}S.displayName="SearchBar";const C=(0,w.Z)(S)},"./app/utils/measurements/measurements.tsx":(e,t,n)=>{n.d(t,{Z:()=>u}),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=n("../node_modules/react/index.js"),s=n("./app/utils/performance/vitals/constants.tsx"),r=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function o(e){return Object.fromEntries(Object.entries(e).map((e=>{let[t,n]=e;return[t,{name:n.name,key:t}]})))}const a=o(s.TT),l=o(s.r9);function d(e){let{children:t}=e;const n={...l,...a};return(0,r.tZ)(i.Fragment,{children:t({measurements:n})})}d.displayName="Measurements";const u=d},"./app/utils/withTags.tsx":(e,t,n)=>{n.d(t,{Z:()=>l});var i=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),r=n("./app/stores/tagStore.tsx"),o=n("./app/utils/getDisplayName.tsx"),a=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=function(e){class t extends s.Component{constructor(){super(...arguments),(0,i.Z)(this,"state",{tags:r.Z.getAllTags()}),(0,i.Z)(this,"unsubscribe",r.Z.listen((e=>this.setState({tags:e})),void 0))}componentWillUnmount(){this.unsubscribe()}render(){const{tags:t,...n}=this.props;return(0,a.tZ)(e,{tags:null!=t?t:this.state.tags,...n})}}return t.displayName="WithTags",(0,i.Z)(t,"displayName",`withTags(${(0,o.Z)(e)})`),t}},"./app/views/eventsV2/table/queryField.tsx":(e,t,n)=>{n.d(t,{q:()=>A});var i=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.string.replace.js"),n("../node_modules/react/index.js")),o=n("../node_modules/react-select/dist/chunk-80640036.browser.esm.js"),a=n("../node_modules/lodash/cloneDeep.js"),l=n.n(a),d=n("./app/components/forms/controls/input.tsx"),u=n("./app/components/forms/selectControl.tsx"),p=n("./app/components/tag.tsx"),c=n("./app/components/tooltip.tsx"),h=n("./app/icons/index.tsx"),m=n("./app/locale.tsx"),f=n("./app/styles/animations.tsx"),g=n("./app/styles/space.tsx"),v=n("./app/utils/discover/fields.tsx"),b=(n("../node_modules/core-js/modules/es.string.match-all.js"),n("../node_modules/lodash/isEqual.js")),x=n.n(b),y=n("./app/styles/overflowEllipsis.tsx"),w=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class k extends r.PureComponent{constructor(){super(...arguments),(0,i.Z)(this,"state",{query:this.props.value,partialTerm:null,rawOptions:this.props.options,dropdownVisible:!1,dropdownOptionGroups:O(this.props.options,null),activeSelection:-1}),(0,i.Z)(this,"input",(0,r.createRef)()),(0,i.Z)(this,"blur",(()=>{var e;null===(e=this.input.current)||void 0===e||e.blur()})),(0,i.Z)(this,"focus",(e=>{var t,n;null===(t=this.input.current)||void 0===t||t.focus(),null===(n=this.input.current)||void 0===n||n.setSelectionRange(e,e)})),(0,i.Z)(this,"handleChange",(e=>{const t=e.target.value.replace("\n","");this.setState({query:t},this.updateAutocompleteOptions)})),(0,i.Z)(this,"handleClick",(()=>{this.updateAutocompleteOptions()})),(0,i.Z)(this,"handleFocus",(()=>{this.setState({dropdownVisible:!0})})),(0,i.Z)(this,"handleBlur",(()=>{this.props.onUpdate(this.state.query),this.setState({dropdownVisible:!1})})),(0,i.Z)(this,"handleKeyDown",(e=>{const{key:t}=e,{options:n}=this.props,{activeSelection:i,partialTerm:s}=this.state,r=i>=0;if("ArrowDown"===t||"ArrowUp"===t){e.preventDefault();const o=O(n,s),a=o.map((e=>e.options)).flat();if(0===a.length)return;let l;return l=r?"ArrowUp"===t?(i-1+a.length)%a.length:(i+1)%a.length:"ArrowUp"===t?a.length-1:0,a[l].active=!0,void this.setState({activeSelection:l,dropdownOptionGroups:o})}if(!r||"Tab"!==t&&"Enter"!==t)"Enter"!==t||this.blur();else{e.preventDefault();const t=this.getSelection(i);t&&this.handleSelect(t)}})),(0,i.Z)(this,"handleKeyUp",(e=>{if("Escape"!==e.key)return;e.preventDefault();const{activeSelection:t}=this.state;t>=0||this.blur()})),(0,i.Z)(this,"handleSelect",(e=>{const{prefix:t,suffix:n}=this.splitQuery();this.setState({query:`${t}${e.value} ${n}`,activeSelection:-1},(()=>{this.focus(t.length+e.value.length+1),this.updateAutocompleteOptions()}))}))}static getDerivedStateFromProps(e,t){return x()(t.rawOptions,e.options)?{...t}:{...t,rawOptions:e.options,dropdownOptionGroups:O(e.options,t.partialTerm),activeSelection:-1}}getCursorPosition(){var e,t;return null!==(e=null===(t=this.input.current)||void 0===t?void 0:t.selectionStart)&&void 0!==e?e:-1}splitQuery(){const{query:e}=this.state,t=this.getCursorPosition(),n=[...e.substring(0,t).matchAll(/\s|^/g)],i=n[n.length-1],s=""===i[0]?0:(i.index||0)+1,r=e.slice(t).search(/\s|$/),o=t+(-1===r?0:r);return{startOfTerm:s,endOfTerm:o,prefix:e.substring(0,s),term:e.substring(s,o),suffix:e.substring(o)}}getSelection(e){const{dropdownOptionGroups:t}=this.state;for(const n of t){if(!(e>=n.options.length))return n.options[e];e-=n.options.length}return null}updateAutocompleteOptions(){const{options:e}=this.props,{term:t}=this.splitQuery(),n=t||null;this.setState({dropdownOptionGroups:O(e,n),partialTerm:n})}render(){const{onUpdate:e,options:t,as:n,...i}=this.props,{dropdownVisible:s,dropdownOptionGroups:r}=this.state;return(0,w.BX)(Z,{isOpen:s,children:[(0,w.tZ)(S,{...i,ref:this.input,autoComplete:"off",className:"form-control",value:this.state.query,onClick:this.handleClick,onChange:this.handleChange,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,spellCheck:!1}),(0,w.tZ)(C,{isOpen:s,optionGroups:r,handleSelect:this.handleSelect})]})}}k.displayName="ArithmeticInput",(0,i.Z)(k,"defaultProps",{options:[]});const Z=(0,s.Z)("div",{target:"e18r1b6w8"})("border:1px solid ",(e=>e.theme.border),";box-shadow:inset ",(e=>e.theme.dropShadowLight),";background:",(e=>e.theme.background),";position:relative;border-radius:",(e=>e.isOpen?`${e.theme.borderRadius} ${e.theme.borderRadius} 0 0`:e.theme.borderRadius),";.show-sidebar &{background:",(e=>e.theme.backgroundSecondary),";}"),S=(0,s.Z)(d.Z,{target:"e18r1b6w7"})({name:"pv1u47",styles:"height:40px;padding:7px 10px;border:0;box-shadow:none;&:hover,&:focus{border:0;box-shadow:none;}"});function C(e){let{isOpen:t,optionGroups:n,handleSelect:i}=e;return(0,w.tZ)(F,{isOpen:t,children:(0,w.tZ)(E,{children:n.map((e=>{const{title:t,options:n}=e;return(0,w.BX)(r.Fragment,{children:[(0,w.tZ)(L,{children:(0,w.tZ)(N,{children:t})}),n.map((e=>(0,w.tZ)(_,{className:e.active?"active":void 0,onClick:()=>i(e),onMouseDown:e=>e.preventDefault(),ref:t=>{var n;return e.active&&(null==t||null===(n=t.scrollIntoView)||void 0===n?void 0:n.call(t,{block:"nearest"}))},children:(0,w.tZ)(V,{children:e.value})},e.value))),0===n.length&&(0,w.tZ)(I,{children:(0,m.t)("No items found")})]},t)}))})})}function j(e,t){const n=new Set;return{title:"Fields",options:e.filter((e=>{let{kind:t}=e;return"equation"!==t})).filter(v.el).map((e=>({kind:"field",active:!1,value:(0,v.sN)(e)}))).filter((e=>{let{value:t}=e;return!n.has(t)&&(n.add(t),!0)})).filter((e=>{let{value:n}=e;return!t||n.includes(t)}))}}function T(e){return{title:"Operators",options:["+","-","*","/","(",")"].filter((t=>!e||t.includes(e))).map((e=>({kind:"operator",active:!1,value:e})))}}function O(e,t){return[j(e,t),T(t)]}C.displayName="TermDropdown";const F=(0,s.Z)("div",{target:"e18r1b6w6"})("display:",(e=>e.isOpen?"block":"none"),";position:absolute;top:100%;left:-1px;right:-1px;z-index:",(e=>e.theme.zIndex.dropdown),";background:",(e=>e.theme.background),";box-shadow:",(e=>e.theme.dropShadowLight),";border:1px solid ",(e=>e.theme.border),";border-radius:",(e=>e.theme.borderRadiusBottom),";max-height:300px;overflow-y:auto;"),E=(0,s.Z)("ul",{target:"e18r1b6w5"})({name:"nfj5ll",styles:"padding-left:0;list-style:none;margin-bottom:0"}),L=(0,s.Z)("li",{target:"e18r1b6w4"})("&:not(:last-child){border-bottom:1px solid ",(e=>e.theme.innerBorder),";}"),N=(0,s.Z)("header",{target:"e18r1b6w3"})("display:flex;align-items:center;background-color:",(e=>e.theme.backgroundSecondary),";color:",(e=>e.theme.gray300),";font-weight:normal;font-size:",(e=>e.theme.fontSizeMedium),";margin:0;padding:",(0,g.Z)(1)," ",(0,g.Z)(2),";&>svg{margin-right:",(0,g.Z)(1),";}"),_=(0,s.Z)(L,{target:"e18r1b6w2"})("scroll-margin:40px 0;font-size:",(e=>e.theme.fontSizeLarge),";padding:",(0,g.Z)(1)," ",(0,g.Z)(2),";cursor:pointer;&:hover,&.active{background:",(e=>e.theme.hover),";}"),V=(0,s.Z)("div",{target:"e18r1b6w1"})("color:",(e=>e.theme.textColor),";font-weight:normal;font-size:",(e=>e.theme.fontSizeMedium),";margin:0;line-height:",(e=>e.theme.text.lineHeightHeading),";",y.Z,";"),I=(0,s.Z)("div",{target:"e18r1b6w0"})("display:flex;padding:",(0,g.Z)(1)," ",(0,g.Z)(2),";font-size:",(e=>e.theme.fontSizeLarge),";color:",(e=>e.theme.gray300),";&:not(:last-child){border-bottom:1px solid ",(e=>e.theme.innerBorder),";}");var q=n("./app/views/eventsV2/table/types.tsx");class A extends r.Component{constructor(){super(...arguments),(0,i.Z)(this,"FieldSelectComponents",{Option:e=>{let{label:t,data:n,...i}=e;return(0,w.tZ)(o.y.Option,{label:t,data:n,...i,children:(0,w.tZ)($,{isFocused:i.isFocused,children:(0,w.BX)(G,{"data-test-id":"label",children:[t,n.value&&this.renderTag(n.value.kind,t)]})})})},SingleValue:e=>{let{data:t,...n}=e;return(0,w.BX)(o.y.SingleValue,{data:t,...n,children:[(0,w.tZ)("span",{"data-test-id":"label",children:t.label}),t.value&&this.renderTag(t.value.kind,t.label)]})}}),(0,i.Z)(this,"FieldSelectStyles",{singleValue:e=>({...e,display:"flex",justifyContent:"space-between",alignItems:"center",width:"calc(100% - 10px)"}),option:e=>({...e,display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"})}),(0,i.Z)(this,"handleFieldChange",(e=>{if(!e)return;const{value:t}=e,n=this.props.fieldValue;let i=l()(this.props.fieldValue);switch(t.kind){case q.L.TAG:case q.L.MEASUREMENT:case q.L.BREAKDOWN:case q.L.FIELD:i={kind:"field",field:t.meta.name};break;case q.L.NUMERIC_METRICS:i={kind:"calculatedField",field:t.meta.name};break;case q.L.FUNCTION:i="function"===n.kind?{kind:"function",function:[t.meta.name,n.function[1],n.function[2],n.function[3]]}:{kind:"function",function:[t.meta.name,"",void 0,void 0]};break;default:throw new Error("Invalid field type found in column picker")}t.kind===q.L.FUNCTION&&(t.meta.parameters.forEach(((e,t)=>{if("function"===i.kind)if("column"===e.kind){const n=this.getFieldOrTagOrMeasurementValue(i.function[t+1]);null===n?i.function[t+1]=e.defaultValue||"":n.kind!==q.L.FIELD&&n.kind!==q.L.TAG&&n.kind!==q.L.MEASUREMENT&&n.kind!==q.L.METRICS&&n.kind!==q.L.BREAKDOWN||!M(e.columnTypes,n)?(i.function[t+1]=e.defaultValue||"",i.function[t+2]=void 0,i.function[t+3]=void 0):i.function[t+1]=n.meta.name}else i.function[t+1]=e.defaultValue||""})),"function"===i.kind&&(0===t.meta.parameters.length?i.function=[i.function[0],"",void 0,void 0]:1===t.meta.parameters.length?(i.function[2]=void 0,i.function[3]=void 0):2===t.meta.parameters.length&&(i.function[3]=void 0))),this.triggerChange(i)})),(0,i.Z)(this,"handleEquationChange",(e=>{const t=l()(this.props.fieldValue);t.kind===q.L.EQUATION&&(t.field=e),this.triggerChange(t)})),(0,i.Z)(this,"handleFieldParameterChange",(e=>{let{value:t}=e;const n=l()(this.props.fieldValue);"function"===n.kind&&(n.function[1]=t.meta.name),this.triggerChange(n)})),(0,i.Z)(this,"handleDropdownParameterChange",(e=>t=>{const n=l()(this.props.fieldValue);"function"===n.kind&&(n.function[e]=t.value),this.triggerChange(n)})),(0,i.Z)(this,"handleScalarParameterChange",(e=>t=>{const n=l()(this.props.fieldValue);"function"===n.kind&&(n.function[e]=t),this.triggerChange(n)}))}triggerChange(e){this.props.onChange(e)}getFieldOrTagOrMeasurementValue(e){const{fieldOptions:t}=this.props;if(void 0===e)return null;const n=`field:${e}`;if(t[n])return t[n].value;const i=`measurement:${e}`;if(t[i])return t[i].value;const s=`span_op_breakdown:${e}`;if(t[s])return t[s].value;const r=0===e.indexOf("tags[")?`tag:${e.replace(/tags\[(.*?)\]/,"$1")}`:`tag:${e}`;return t[r]?t[r].value:e.length>0?{kind:q.L.TAG,meta:{name:e,dataType:"string",unknown:!0}}:null}getFieldData(){let e=null;const{fieldValue:t}=this.props;let{fieldOptions:n}=this.props;if("function"===(null==t?void 0:t.kind)){const i=`function:${t.function[0]}`;void 0!==n[i]&&(e=n[i].value)}"field"!==(null==t?void 0:t.kind)&&"calculatedField"!==(null==t?void 0:t.kind)||(e=this.getFieldOrTagOrMeasurementValue(t.field),n=this.appendFieldIfUnknown(n,e));let i=[];return e&&e.kind===q.L.FUNCTION&&e.meta.parameters.length>0&&(null==t?void 0:t.kind)===q.L.FUNCTION&&(i=e.meta.parameters.map(((e,i)=>{if("column"===e.kind){const i=this.getFieldOrTagOrMeasurementValue(t.function[1]);return n=this.appendFieldIfUnknown(n,i),{kind:"column",value:i,required:e.required,options:Object.values(n).filter((t=>{let{value:n}=t;return(n.kind===q.L.FIELD||n.kind===q.L.TAG||n.kind===q.L.MEASUREMENT||n.kind===q.L.METRICS||n.kind===q.L.BREAKDOWN)&&M(e.columnTypes,n)}))}}return"dropdown"===e.kind?{kind:"dropdown",options:e.options,dataType:e.dataType,required:e.required,value:"function"===t.kind&&t.function[i+1]||e.defaultValue||""}:{kind:"value",value:"function"===t.kind&&t.function[i+1]||e.defaultValue||"",dataType:e.dataType,required:e.required,placeholder:e.placeholder}}))),{field:e,fieldOptions:n,parameterDescriptions:i}}appendFieldIfUnknown(e,t){return t?(t&&t.kind===q.L.TAG&&t.meta.unknown&&((e=Object.assign({},e))[t.meta.name]={label:t.meta.name,value:t}),e):e}renderParameterInputs(e){const{disabled:t,inFieldLabels:n,filterAggregateParameters:i,hideParameterSelector:s,skipParameterPlaceholder:r}=this.props,o=e.map(((e,r)=>{if("column"===e.kind&&e.options.length>0){if(s)return null;const r=i?e.options.filter(i):e.options;return(0,w.tZ)(u.Z,{name:"parameter",placeholder:(0,m.t)("Select value"),options:r,value:e.value,required:e.required,onChange:this.handleFieldParameterChange,inFieldLabel:n?(0,m.t)("Parameter: "):void 0,disabled:t,styles:n?void 0:this.FieldSelectStyles,components:this.FieldSelectComponents},"select")}if("value"===e.kind){const n={required:e.required,value:e.value,onUpdate:this.handleScalarParameterChange(r+1),placeholder:e.placeholder,disabled:t};switch(e.dataType){case"number":return(0,w.tZ)(R,{name:"refinement",type:"text",inputMode:"numeric",pattern:"[0-9]*(\\.[0-9]*)?",...n},"parameter:number");case"integer":return(0,w.tZ)(R,{name:"refinement",type:"text",inputMode:"numeric",pattern:"[0-9]*",...n},"parameter:integer");default:return(0,w.tZ)(R,{name:"refinement",type:"text",...n},"parameter:text")}}if("dropdown"===e.kind)return(0,w.tZ)(u.Z,{name:"dropdown",placeholder:(0,m.t)("Select value"),options:e.options,value:e.value,required:e.required,onChange:this.handleDropdownParameterChange(r+1),inFieldLabel:n?(0,m.t)("Parameter: "):void 0,disabled:t},"dropdown");throw new Error(`Unknown parameter type encountered for ${this.props.fieldValue}`)}));if(r)return o;const{gridColumns:a}=this.props,l=(null!=a?a:o.length+1)-o.length-1;if(void 0!==a&&l>0)for(let e=0;e<l;e++)o.push((0,w.tZ)(P,{},e));return o}renderTag(e,t){const{shouldRenderTag:n}=this.props;if(!1===n)return null;let i,s;switch(e){case q.L.FUNCTION:i="f(x)",s="success";break;case q.L.MEASUREMENT:case q.L.BREAKDOWN:i="field",s="highlight";break;case q.L.TAG:i=e,s="warning";break;case q.L.NUMERIC_METRICS:i="f(x)",s="success";break;case q.L.FIELD:case q.L.METRICS:i=v.NF.includes(t)?"deprecated":"field",s="highlight";break;default:i=e}return(0,w.tZ)(p.Z,{type:s,children:i})}render(){var e;const{className:t,takeFocus:n,filterPrimaryOptions:i,fieldValue:s,inFieldLabels:r,disabled:o,error:a,hidePrimarySelector:l,gridColumns:d,otherColumns:p,placeholder:c,noFieldsMessage:f,skipParameterPlaceholder:g}=this.props,{field:b,fieldOptions:x,parameterDescriptions:y}=this.getFieldData(),Z=i?Object.values(x).filter(i):Object.values(x),S={name:"field",options:Object.values(Z),placeholder:null!=c?c:(0,m.t)("(Required)"),value:b,onChange:this.handleFieldChange,inFieldLabel:r?(0,m.t)("Function: "):void 0,disabled:o,noOptionsMessage:()=>f};n&&null===b&&(S.autoFocus=!0);const C=this.renderParameterInputs(y);if((null==s?void 0:s.kind)===q.L.EQUATION)return(0,w.BX)(U,{className:t,gridColumns:1,tripleLayout:!1,error:void 0!==a,children:[(0,w.tZ)(k,{name:"arithmetic",type:"text",required:!0,value:s.field,onUpdate:this.handleEquationChange,options:p,placeholder:(0,m.t)("Equation")},"parameter:text"),a?(0,w.tZ)(B,{title:a,children:(0,w.tZ)(h.FC,{color:"red300"})}):null]});const j=C.length>2?2:d||C.length+1;let T;return g&&(T="function"===s.kind&&v.lx[s.function[0]].parameters.length>0?3===j&&1===v.lx[s.function[0]].parameters.length?2:j:1),(0,w.BX)(U,{className:t,gridColumns:null!==(e=T)&&void 0!==e?e:j,tripleLayout:3===d&&C.length>2,children:[!l&&(0,w.tZ)(u.Z,{...S,styles:r?void 0:this.FieldSelectStyles,components:this.FieldSelectComponents}),C]})}}function M(e,t){return"function"==typeof e?e({name:t.meta.name,dataType:t.meta.dataType}):e.includes(t.meta.dataType)}A.displayName="QueryField";const U=(0,s.Z)("div",{target:"eve9joo5"})("display:grid;",(e=>e.tripleLayout?"grid-template-columns: 1fr 2fr;":`grid-template-columns: repeat(${e.gridColumns}, 1fr) ${e.error?"auto":""};`)," gap:",(0,g.Z)(1),";align-items:center;flex-grow:1;");class R extends r.Component{constructor(e){super(e),(0,i.Z)(this,"state",{value:this.props.value}),(0,i.Z)(this,"input",void 0),(0,i.Z)(this,"handleBlur",(()=>{this.props.required&&""===this.state.value?this.setState({value:this.props.value}):this.isValid?this.props.onUpdate(this.state.value):this.setState({value:this.props.value})})),(0,i.Z)(this,"handleChange",(e=>{this.isValid&&this.setState({value:e.target.value})})),this.input=r.createRef()}get isValid(){return!this.input.current||this.input.current.validity.valid}render(){const{onUpdate:e,...t}=this.props;return(0,w.tZ)(D,{...t,ref:this.input,className:"form-control",value:this.state.value,onChange:this.handleChange,onBlur:this.handleBlur})}}R.displayName="BufferedInput";const D=(0,s.Z)(d.Z,{target:"eve9joo4"})({name:"9dgk9j",styles:"height:41px;min-width:50px"}),P=(0,s.Z)("div",{target:"eve9joo3"})("height:41px;min-width:50px;background:",(e=>e.theme.backgroundSecondary),";border-radius:",(e=>e.theme.borderRadius),";display:flex;align-items:center;justify-content:center;&:after{font-size:",(e=>e.theme.fontSizeMedium),";content:'",(0,m.t)("No parameter"),"';color:",(e=>e.theme.gray300),";}"),B=(0,s.Z)(c.ZP,{target:"eve9joo2"})("color:",(e=>e.theme.red300),";animation:",(()=>(0,f.dC)(1.15))," 1s ease infinite;display:flex;"),$=(0,s.Z)("div",{target:"eve9joo1"})("display:flex;padding:0 ",(0,g.Z)(1),";border-radius:",(e=>e.theme.borderRadius),";box-sizing:border-box;width:100%;",(e=>e.isFocused&&`background: ${e.theme.hover};`),";"),G=(0,s.Z)("span",{target:"eve9joo0"})("display:flex;justify-content:space-between;width:100%;padding:",(0,g.Z)(1)," 0;")}}]);
//# sourceMappingURL=../sourcemaps/app_components_events_searchBar_tsx-app_views_eventsV2_table_queryField_tsx.6b9b8cff1f98d6f4c4ab185f9fb1306f.js.map