"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_onboarding_components_firstEventFooter_tsx-app_views_onboarding_components_integrat-7d5132"],{"./app/views/onboarding/components/firstEventFooter.tsx":(t,e,n)=>{n.d(e,{Z:()=>C});var i=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=n("../node_modules/react/index.js"),a=n("./app/components/button.tsx"),r=n("./app/components/buttonBar.tsx"),s=n("./app/locale.tsx"),d=n("./app/styles/space.tsx"),l=n("./app/views/onboarding/createSampleEventButton.tsx"),c=n("../node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs"),p=n("../node_modules/framer-motion/dist/es/render/dom/motion.mjs"),m=n("./app/icons/index.tsx"),u=n("./app/styles/pulsingIndicator.tsx"),g=n("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),h=n("./app/utils/eventWaiter.tsx"),y=n("./app/utils/testableTransition.tsx"),w=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const v=t=>{let{children:e,...n}=t;return(0,w.tZ)(h.Z,{...n,children:t=>{let{firstIssue:i}=t;return e({indicator:(0,w.tZ)(f,{firstIssue:i,...n}),firstEventButton:(0,w.tZ)(a.ZP,{title:(0,s.t)("You'll need to send your first error to continue"),tooltipProps:{disabled:!!i},disabled:!i,priority:"primary",onClick:()=>(0,g.Z)("growth.onboarding_take_to_error",{organization:n.organization}),to:`/organizations/${n.organization.slug}/issues/${!0!==i&&null!==i?`${i.id}/`:""}`,children:(0,s.t)("Take me to my error")})})}})};v.displayName="FirstEventIndicator";const f=t=>{let{firstIssue:e}=t;return(0,w.tZ)(Z,{children:(0,w.tZ)(c.M,{children:e?(0,w.tZ)(j,{},"received"):(0,w.tZ)(b,{},"waiting")})})};f.displayName="Indicator";const Z=(0,i.Z)("div",{target:"edkqj54"})({name:"qu0prw",styles:"display:grid;grid-template-columns:1fr;justify-content:right"}),x=(0,i.Z)(p.E.div,{target:"edkqj53"})("display:grid;grid-template-columns:1fr max-content;gap:",(0,d.Z)(1),";align-items:center;font-size:",(t=>t.theme.fontSizeMedium),";grid-column:1;grid-row:1;");x.defaultProps={initial:"initial",animate:"animate",exit:"exit",variants:{initial:{opacity:0,y:-10},animate:{opacity:1,y:0,transition:(0,y.Z)({when:"beforeChildren",staggerChildren:.35})},exit:{opacity:0,y:10}}};const b=t=>(0,w.BX)(x,{...t,children:[(0,w.tZ)(I,{children:(0,s.t)("Waiting to receive first event to continue")}),(0,w.tZ)(k,{})]});b.displayName="Waiting";const j=t=>(0,w.BX)(x,{...t,children:[(0,w.tZ)(I,{children:(0,s.t)("Event was received!")}),(0,w.tZ)(S,{})]});j.displayName="Success";const _={initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10}},I=(0,i.Z)(p.E.div,{target:"edkqj52"})("");I.defaultProps={variants:_,transition:(0,y.Z)()};const k=(0,i.Z)(p.E.div,{target:"edkqj51"})("margin:0 6px;",u.Z,";");k.defaultProps={variants:_,transition:(0,y.Z)()};const S=(0,i.Z)(m.DL,{target:"edkqj50"})("color:#fff;background:",(t=>t.theme.green300),";border-radius:50%;padding:3px;margin:0 ",(0,d.Z)(.25),";");S.defaultProps={size:"sm"};const z=v;function C(t){let{organization:e,project:n,docsLink:i,docsOnClick:r}=t;return(0,w.BX)(o.Fragment,{children:[(0,w.tZ)(z,{organization:e,project:n,eventType:"error",children:t=>{let{indicator:e,firstEventButton:n}=t;return(0,w.BX)(P,{children:[(0,w.BX)(A,{gap:2,children:[n,(0,w.tZ)(a.ZP,{external:!0,href:i,onClick:r,children:(0,s.t)("View full documentation")})]}),e]})}}),(0,w.tZ)(E,{children:(0,s._N)("Just want to poke around before getting too cozy with the SDK? [sample:View a sample event for this SDK] or [skip:finish setup later].",{sample:(0,w.tZ)(l.Z,{"aria-label":"View a sample event",project:n,source:"onboarding",priority:"link"}),skip:(0,w.tZ)(a.ZP,{priority:"link",href:"/","aria-label":(0,s.t)("Finish setup later")})})})]})}C.displayName="FirstEventFooter";const P=(0,i.Z)("div",{target:"e1miw4d32"})("display:flex;justify-content:space-between;margin:",(0,d.Z)(2)," 0;margin-top:",(0,d.Z)(4),";"),E=(0,i.Z)("p",{target:"e1miw4d31"})("color:",(t=>t.theme.subText),";font-size:",(t=>t.theme.fontSizeMedium),";margin:0;max-width:500px;"),A=(0,i.Z)(r.ZP,{target:"e1miw4d30"})({name:"14dyr8n",styles:"display:inline-grid;justify-self:start"})},"./app/views/onboarding/components/integrations/addInstallationInstructions.tsx":(t,e,n)=>{n.d(e,{Z:()=>s});var i=n("../node_modules/react/index.js"),o=n("./app/components/links/externalLink.tsx"),a=n("./app/locale.tsx"),r=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function s(){return(0,r.BX)(i.Fragment,{children:[(0,r.tZ)("p",{children:(0,a._N)("The automated AWS Lambda setup will instrument your Lambda functions with Sentry error and performance monitoring without any code changes. We use CloudFormation Stack ([learnMore]) to create the Sentry role which gives us access to your AWS account.",{learnMore:(0,r.tZ)(o.Z,{href:"https://aws.amazon.com/cloudformation/",children:(0,a.t)("Learn more about CloudFormation")})})}),(0,r.tZ)("p",{children:(0,a._N)("Just press the [addInstallation] button below and complete the steps in the popup that opens.",{addInstallation:(0,r.tZ)("strong",{children:(0,a.t)("Add Installation")})})}),(0,r.tZ)("p",{children:(0,a._N)("If you donâ€™t want to add CloudFormation stack to your AWS environment, press the [manualSetup] button instead.",{manualSetup:(0,r.tZ)("strong",{children:(0,a.t)("Manual Setup")})})})]})}s.displayName="AddInstallationInstructions"},"./app/views/onboarding/components/integrations/postInstallCodeSnippet.tsx":(t,e,n)=>{n.d(e,{Z:()=>s});var i=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=n("../node_modules/react/index.js"),a=n("./app/locale.tsx"),r=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function s(t){let{provider:e,platform:n,isOnboarding:i}=t;const s="python-awslambda"===n?"()":"();";return(0,r.BX)("div",{children:[(0,r.tZ)("p",{children:(0,a.t)("Congrats, you just installed the %s integration! Now that it's is installed, the next time you trigger an error it will go to your Sentry.",e.name)}),(0,r.tZ)("p",{children:(0,a.t)("This snippet includes an intentional error, so you can test that everything is working as soon as you set it up:")}),(0,r.tZ)("div",{children:(0,r.tZ)(d,{children:(0,r.BX)("code",{children:[(0,r.tZ)(l,{children:"myUndefinedFunction"}),(0,r.tZ)(c,{children:s}),")"]})})}),i&&(0,r.BX)(o.Fragment,{children:[(0,r.tZ)("p",{children:(0,a.t)("If you're new to Sentry, use the email alert to access your account and complete a product tour.")}),(0,r.tZ)("p",{children:(0,a.t)("If you're an existing user and have disabled alerts, you won't receive this email.")})]})]})}s.displayName="PostInstallCodeSnippet";const d=(0,i.Z)("pre",{target:"ela6ric2"})({name:"1cbwt16",styles:"padding:1em;overflow:auto;background:#251f3d;font-size:15px"}),l=(0,i.Z)("span",{target:"ela6ric1"})({name:"abvjt",styles:"color:#7cc5c4"}),c=(0,i.Z)("span",{target:"ela6ric0"})({name:"rybrai",styles:"color:#b3acc1"})},"./app/views/onboarding/createSampleEventButton.tsx":(t,e,n)=>{n.d(e,{Z:()=>v});var i=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),a=n("../node_modules/react-router/es/index.js"),r=n("../node_modules/@sentry/minimal/esm/index.js"),s=n("../node_modules/@sentry/types/esm/severity.js"),d=n("./app/actionCreators/indicator.tsx"),l=n("./app/components/button.tsx"),c=n("./app/locale.tsx"),p=n("./app/utils/analytics.tsx"),m=n("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),u=n("./app/utils/withApi.tsx"),g=n("./app/utils/withOrganization.tsx"),h=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const y=1e3;class w extends o.Component{constructor(){super(...arguments),(0,i.Z)(this,"state",{creating:!1}),(0,i.Z)(this,"createSampleGroup",(async()=>{const{api:t,organization:e,project:n}=this.props;let i;if(!n)return;(0,m.Z)("growth.onboarding_view_sample_event",{platform:n.platform,organization:e}),(0,d.E3)((0,c.t)("Processing sample event..."),{duration:15e3}),this.setState({creating:!0});try{const o=`/projects/${e.slug}/${n.slug}/create-sample/`;i=await t.requestPromise(o,{method:"POST"})}catch(t){return r.$e((e=>{e.setExtra("error",t),r.Tb(new Error("Failed to create sample event"))})),this.setState({creating:!1}),(0,d.B8)(),void(0,d.Iw)((0,c.t)("Failed to create a new sample event"))}const o=performance.now(),{eventCreated:l,retries:p}=await async function(t,e){let n=0;for(;;){if(n>15)return{eventCreated:!1,retries:n-1};await new Promise((t=>window.setTimeout(t,y)));try{return await t.requestPromise(`/issues/${e}/events/latest/`),{eventCreated:!0,retries:n}}catch{++n}}}(t,i.groupID),u=performance.now();(0,d.B8)(),this.setState({creating:!1});const g=Math.ceil(u-o);if(this.recordAnalytics({eventCreated:l,retries:p,duration:g}),!l)return(0,d.Iw)((0,c.t)("Failed to load sample event")),void r.$e((t=>{t.setTag("groupID",i.groupID),t.setTag("platform",n.platform||""),t.setTag("interval",y.toString()),t.setTag("retries",p.toString()),t.setTag("duration",g.toString()),t.setLevel(s.z.Warning),r.uT("Failed to load sample event")}));a.browserHistory.push(`/organizations/${e.slug}/issues/${i.groupID}/?project=${n.id}`)}))}componentDidMount(){const{organization:t,project:e,source:n}=this.props;e&&(0,p.qJ)({eventKey:"sample_event.button_viewed",org_id:t.id,project_id:e.id,source:n})}recordAnalytics(t){let{eventCreated:e,retries:n,duration:i}=t;const{organization:o,project:a,source:r}=this.props;if(!a)return;const s="sample_event."+(e?"created":"failed"),d="Sample Event "+(e?"Created":"Failed");(0,p.ec)({eventKey:s,eventName:d,organization_id:o.id,project_id:a.id,platform:a.platform||"",interval:y,retries:n,duration:i,source:r})}render(){const{api:t,organization:e,project:n,source:i,...o}=this.props,{creating:a}=this.state;return(0,h.tZ)(l.ZP,{...o,"data-test-id":"create-sample-event",disabled:o.disabled||a,onClick:this.createSampleGroup})}}w.displayName="CreateSampleEventButton";const v=(0,u.Z)((0,g.Z)(w))},"./app/views/organizationIntegrations/addIntegration.tsx":(t,e,n)=>{n.d(e,{Z:()=>l});var i=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),a=n("../node_modules/query-string/index.js"),r=n("./app/actionCreators/indicator.tsx"),s=n("./app/locale.tsx"),d=n("./app/utils/integrationUtil.tsx");class l extends o.Component{constructor(){super(...arguments),(0,i.Z)(this,"dialog",null),(0,i.Z)(this,"openDialog",(t=>{const{account:e,analyticsParams:n,modalParams:i,organization:o,provider:r}=this.props;(0,d.Db)("integrations.installation_start",{integration:r.key,integration_type:"first_party",organization:o,...n});const{url:s,width:l,height:c}=r.setupDialog,{left:p,top:m}=this.computeCenteredWindow(l,c);let u={...t};e&&(u.account=e),i&&(u={...u,...i});const g=`${s}?${a.stringify(u)}`,h=`scrollbars=yes,width=${l},height=${c},top=${m},left=${p}`;this.dialog=window.open(g,"sentryAddIntegration",h),this.dialog&&this.dialog.focus()})),(0,i.Z)(this,"didReceiveMessage",(t=>{const{analyticsParams:e,onInstall:n,organization:i,provider:o}=this.props;if(t.origin!==document.location.origin)return;if(t.source!==this.dialog)return;const{success:a,data:l}=t.data;this.dialog=null,a?l&&((0,d.Db)("integrations.installation_complete",{integration:o.key,integration_type:"first_party",organization:i,...e}),(0,r.S9)((0,s.t)("%s added",o.name)),n(l)):(0,r.Iw)(l.error)}))}componentDidMount(){window.addEventListener("message",this.didReceiveMessage)}componentWillUnmount(){window.removeEventListener("message",this.didReceiveMessage),this.dialog&&this.dialog.close()}computeCenteredWindow(t,e){const n=void 0!==window.screenLeft?window.screenLeft:window.screenX,i=void 0!==window.screenTop?window.screenTop:window.screenY;return{left:(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-t/2+n,top:(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-e/2+i}}render(){const{children:t}=this.props;return t(this.openDialog)}}l.displayName="AddIntegration"},"./app/views/organizationIntegrations/addIntegrationButton.tsx":(t,e,n)=>{n.d(e,{Z:()=>l});var i=n("../node_modules/react/index.js"),o=n("./app/components/button.tsx"),a=n("./app/components/tooltip.tsx"),r=n("./app/locale.tsx"),s=n("./app/views/organizationIntegrations/addIntegration.tsx"),d=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class l extends i.Component{render(){const{provider:t,buttonText:e,onAddIntegration:n,organization:i,reinstall:l,analyticsParams:c,modalParams:p,...m}=this.props,u=e||(0,r.t)(l?"Enable":"Add %s",t.metadata.noun);return(0,d.tZ)(a.ZP,{disabled:t.canAdd,title:`Integration cannot be added on Sentry. Enable this integration via the ${t.name} instance.`,children:(0,d.tZ)(s.Z,{provider:t,onInstall:n,organization:i,analyticsParams:c,modalParams:p,children:e=>(0,d.tZ)(o.ZP,{disabled:!t.canAdd,...m,onClick:()=>e(),"aria-label":(0,r.t)("Add integration"),children:u})})})}}l.displayName="AddIntegrationButton"}}]);
//# sourceMappingURL=../sourcemaps/app_views_onboarding_components_firstEventFooter_tsx-app_views_onboarding_components_integrat-7d5132.cc5bad952267a67b170c4cbe7972e2d5.js.map