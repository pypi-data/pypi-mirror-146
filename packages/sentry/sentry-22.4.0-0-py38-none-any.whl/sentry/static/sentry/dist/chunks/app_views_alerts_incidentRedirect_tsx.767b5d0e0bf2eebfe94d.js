"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_alerts_incidentRedirect_tsx"],{"./app/utils/discover/charts.tsx":(e,t,r)=>{r.d(t,{CX:()=>o,gu:()=>u});var n=r("./app/locale.tsx"),s=r("./app/utils.tsx"),a=r("./app/utils/discover/fields.tsx"),i=r("./app/utils/formatters.tsx");function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!(0,s.ri)(e))return"—";switch((0,a.Px)(t)){case"integer":case"number":return e.toLocaleString();case"percentage":return(0,i.rl)(e,2);case"duration":return(0,i.g9)(e/1e3,2,!0);default:return e.toString()}}function u(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch((0,a.Px)(t)){case"integer":case"number":return r?(0,i.Du)(e):e.toLocaleString();case"percentage":return(0,i.rl)(e,0);case"duration":return E(e);default:return e.toString()}}function E(e){if(0===e)return"0";if(e>=i.ps){const t=(e/i.ps).toFixed(0);return(0,n.t)("%swk",t)}if(e>=i.x4){const t=(e/i.x4).toFixed(0);return(0,n.t)("%sd",t)}if(e>=i.kr){const t=(e/i.kr).toFixed(0);return(0,n.t)("%shr",t)}if(e>=i.EB){const t=(e/i.EB).toFixed(0);return(0,n.t)("%smin",t)}if(e>=i.sh){const t=(e/i.sh).toFixed(0);return(0,n.t)("%ss",t)}const t=e.toFixed(0);return(0,n.t)("%sms",t)}},"./app/views/alerts/incidentRedirect.tsx":(e,t,r)=>{r.r(t),r.d(t,{default:()=>R}),r("../node_modules/core-js/modules/web.dom-collections.iterator.js"),r("../node_modules/core-js/modules/es.string.replace.js");var n=r("../node_modules/react/index.js"),s=r("../node_modules/react-router/es/index.js"),a=r("./app/components/loadingError.tsx"),i=r("./app/components/loadingIndicator.tsx"),o=r("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),u=r("./app/utils/useApi.tsx"),E=r("./app/views/alerts/utils/index.tsx"),c=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l(e){let{organization:t,params:r}=e;const l=(0,u.Z)(),[R,d]=(0,n.useState)(!1),S=async()=>{d(!1);try{const e=await(0,E.yN)(l,r.orgId,r.alertId);s.browserHistory.replace({pathname:(0,E.Gu)(t,e),query:{alert:e.identifier}})}catch(e){d(!0)}};return(0,n.useEffect)((()=>{S(),(0,o.Z)("alert_details.viewed",{organization:t,alert_id:parseInt(r.alertId,10)})}),[]),R?(0,c.tZ)(a.Z,{onRetry:S}):(0,c.tZ)(i.Z,{})}l.displayName="IncidentDetails";const R=l},"./app/views/alerts/incidentRules/types.tsx":(e,t,r)=>{r.d(t,{lT:()=>s,F4:()=>a,t6:()=>i,qz:()=>o,GM:()=>u,Yh:()=>E,lK:()=>c,XH:()=>l,Tb:()=>R,Us:()=>d,LO:()=>S,Lm:()=>T,hd:()=>p});var n=r("./app/locale.tsx");let s,a,i,o,u,E,c,l,R,d;!function(e){e[e.ABOVE=0]="ABOVE",e[e.BELOW=1]="BELOW"}(s||(s={})),function(e){e.CRITICAL="critical",e.WARNING="warning",e.RESOLVE="resolve"}(a||(a={})),function(e){e.COUNT="count",e.CHANGE="change"}(i||(i={})),function(e){e.ERRORS="events",e.TRANSACTIONS="transactions",e.SESSIONS="sessions",e.METRICS="metrics"}(o||(o={})),function(e){e.DEFAULT="default",e.ERROR="error",e.TRANSACTION="transaction",e.USER="user",e.SESSION="session"}(u||(u={})),function(e){e.ERROR_DEFAULT="error_default",e.DEFAULT="default",e.ERROR="error",e.TRANSACTION="transaction"}(E||(E={})),function(e){e.CRASH_FREE_SESSIONS="percentage(sessions_crashed, sessions) AS _crash_rate_alert_aggregate",e.CRASH_FREE_USERS="percentage(users_crashed, users) AS _crash_rate_alert_aggregate"}(c||(c={})),function(e){e.SIX_HOURS="6h",e.ONE_DAY="1d",e.THREE_DAYS="3d",e.SEVEN_DAYS="10000m",e.FOURTEEN_DAYS="14d",e.THIRTY_DAYS="30d"}(l||(l={})),function(e){e[e.ONE_MINUTE=1]="ONE_MINUTE",e[e.FIVE_MINUTES=5]="FIVE_MINUTES",e[e.TEN_MINUTES=10]="TEN_MINUTES",e[e.FIFTEEN_MINUTES=15]="FIFTEEN_MINUTES",e[e.THIRTY_MINUTES=30]="THIRTY_MINUTES",e[e.ONE_HOUR=60]="ONE_HOUR",e[e.TWO_HOURS=120]="TWO_HOURS",e[e.FOUR_HOURS=240]="FOUR_HOURS",e[e.ONE_DAY=1440]="ONE_DAY"}(R||(R={})),function(e){e.EMAIL="email",e.SLACK="slack",e.PAGERDUTY="pagerduty",e.MSTEAMS="msteams",e.SENTRY_APP="sentry_app"}(d||(d={}));const S={[d.EMAIL]:(0,n.t)("Email"),[d.SLACK]:(0,n.t)("Slack"),[d.PAGERDUTY]:(0,n.t)("Pagerduty"),[d.MSTEAMS]:(0,n.t)("MS Teams"),[d.SENTRY_APP]:(0,n.t)("Notification")};let T;!function(e){e.SPECIFIC="specific",e.USER="user",e.TEAM="team",e.SENTRY_APP="sentry_app"}(T||(T={}));const p={[T.USER]:(0,n.t)("Member"),[T.TEAM]:(0,n.t)("Team")}},"./app/views/alerts/types.tsx":(e,t,r)=>{let n,s,a,i,o;r.d(t,{ok:()=>n,lm:()=>s,vt:()=>a,Gb:()=>o}),function(e){e.METRIC="metric",e.ISSUE="issue"}(n||(n={})),function(e){e[e.CREATED=0]="CREATED",e[e.DETECTED=1]="DETECTED",e[e.STATUS_CHANGE=2]="STATUS_CHANGE",e[e.COMMENT=3]="COMMENT",e[e.STARTED=4]="STARTED"}(s||(s={})),function(e){e[e.OPENED=1]="OPENED",e[e.CLOSED=2]="CLOSED",e[e.WARNING=10]="WARNING",e[e.CRITICAL=20]="CRITICAL"}(a||(a={})),function(e){e[e.MANUAL=1]="MANUAL",e[e.RULE_UPDATED=2]="RULE_UPDATED",e[e.RULE_TRIGGERED=3]="RULE_TRIGGERED"}(i||(i={})),function(e){e[e.PENDING=0]="PENDING",e[e.SNAPSHOT=4]="SNAPSHOT",e[e.DISABLED=5]="DISABLED"}(o||(o={}))},"./app/views/alerts/utils/index.tsx":(e,t,r)=>{r.d(t,{dX:()=>S,hl:()=>T,yN:()=>p,Eq:()=>A,Gm:()=>N,CM:()=>_,Ey:()=>O,KC:()=>I,A4:()=>f,Eb:()=>U,Vc:()=>m,lR:()=>D,qn:()=>g,t3:()=>h,QR:()=>C,Gu:()=>v,g2:()=>y,LI:()=>L}),r("../node_modules/core-js/modules/es.string.replace.js");var n=r("../node_modules/lodash/round.js"),s=r.n(n),a=r("./app/api.tsx"),i=r("./app/locale.tsx"),o=r("./app/types/index.tsx"),u=r("./app/utils.tsx"),E=r("./app/utils/dates.tsx"),c=r("./app/utils/discover/charts.tsx"),l=r("./app/views/alerts/incidentRules/types.tsx"),R=r("./app/views/alerts/types.tsx");const d=new a.KU;function S(e,t,r){return d.requestPromise(`/organizations/${e}/alert-rules/${t}/`,{query:r})}function T(e,t,r,n){return d.requestPromise(`/organizations/${e}/incidents/`,{query:{project:"-1",alertRule:t,includeSnapshots:!0,start:r,end:n,expand:["activities","seen_by","original_alert_rule"]}})}function p(e,t,r){return e.requestPromise(`/organizations/${t}/incidents/${r}/`)}function A(e){return{start:(0,E.v5)(1e3*e.eventStats.data[0][0]),end:(0,E.v5)(1e3*e.eventStats.data[e.eventStats.data.length-1][0])}}function N(e){return!e.hasOwnProperty("triggers")}const _={[l.qz.ERRORS]:(0,i.t)("Errors"),[l.qz.TRANSACTIONS]:(0,i.t)("Transactions"),[l.Yh.ERROR_DEFAULT]:"event.type:error OR event.type:default",[l.Yh.ERROR]:"event.type:error",[l.Yh.DEFAULT]:"event.type:default",[l.Yh.TRANSACTION]:"event.type:transaction"},O={[l.Yh.ERROR_DEFAULT]:{dataset:l.qz.ERRORS,eventTypes:[l.GM.ERROR,l.GM.DEFAULT]},[l.Yh.ERROR]:{dataset:l.qz.ERRORS,eventTypes:[l.GM.ERROR]},[l.Yh.DEFAULT]:{dataset:l.qz.ERRORS,eventTypes:[l.GM.DEFAULT]},[l.Yh.TRANSACTION]:{dataset:l.qz.TRANSACTIONS,eventTypes:[l.GM.TRANSACTION]}};function I(e,t){return e===l.qz.TRANSACTIONS?l.Yh.TRANSACTION:t?t.includes(l.GM.DEFAULT)&&t.includes(l.GM.ERROR)?l.Yh.ERROR_DEFAULT:t.includes(l.GM.DEFAULT)?l.Yh.DEFAULT:l.Yh.ERROR:l.Yh.ERROR}function f(e){let t=e.match(/\(?\bevent\.type:(error|default|transaction)\)?\WOR\W\(?event\.type:(error|default|transaction)\)?/i);return t?"default,error"!==t.slice(1,3).sort().join(",")?null:{source:l.Yh.ERROR_DEFAULT,query:e.replace(t[0],"").trim()}:(t=e.match(/(^|\s)event\.type:(error|default|transaction)/i),t&&l.Yh[t[2].toUpperCase()]?{source:l.Yh[t[2].toUpperCase()],query:e.replace(t[0],"").trim()}:null)}function U(e){return Object.values(l.lK).includes(e)}const m={[l.lK.CRASH_FREE_SESSIONS]:o.r2.SESSIONS,[l.lK.CRASH_FREE_USERS]:o.r2.USERS};function D(e,t,r){return U(r)?(0,u.ri)(e)?`${s()(e,2)}%`:"―":(0,c.gu)(e,t)}function g(e,t,r){return U(r)?(0,u.ri)(e)?`${e}%`:"―":(0,c.CX)(e,t)}const h=1.03;function C(e){return U(e)}function v(e,t){return`/organizations/${e.slug}/alerts/rules/details/${t.alertRule.status===R.Gb.SNAPSHOT&&t.alertRule.originalAlertRuleId?t.alertRule.originalAlertRuleId:t.alertRule.id}/`}function y(e){return Array.isArray(e)?e:""===e?[]:["open","closed"].includes(e)?[e]:[]}const x=["myteams","unassigned"];function L(e){return void 0===e?x:""===e?[]:Array.isArray(e)?e:[e]}}}]);
//# sourceMappingURL=../sourcemaps/app_views_alerts_incidentRedirect_tsx.eb2439caf82969f70f377b6b13dbbc04.js.map