"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_avatar_actorAvatar_tsx-app_components_textOverflow_tsx-app_utils_analytics_das-029311"],{"./app/actionCreators/teams.tsx":(e,t,s)=>{s.d(t,{PX:()=>l,z_:()=>c,fs:()=>u,um:()=>h,s:()=>m,Cm:()=>g,tT:()=>p}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=s("./app/actionCreators/indicator.tsx"),i=s("./app/actions/teamActions.tsx"),o=s("./app/locale.tsx"),a=s("./app/utils/callIfFunction.tsx");if("app"==s.j)var n=s("./app/utils/guid.tsx");const d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var s=arguments.length,r=new Array(s>2?s-2:0),i=2;i<s;i++)r[i-2]=arguments[i];(0,a.g)(e[t],...r)};async function l(e,t){const s=await e.requestPromise(`/organizations/${t.orgId}/user-teams/`);i.Z.loadUserTeams(s)}function c(e,t){i.Z.updateSuccess(e,t)}function u(e,t,s){const r=`/teams/${t.orgId}/${t.teamId}/`;return i.Z.update(t.teamId,t.data),e.request(r,{method:"PUT",data:t.data,success:e=>{c(t.teamId,e),d(s,"success",e)},error:e=>{i.Z.updateError(t.teamId,e),d(s,"error",e)}})}function h(e,t,s){var r;const o=`/organizations/${t.orgId}/members/${null!==(r=t.memberId)&&void 0!==r?r:"me"}/teams/${t.teamId}/`,a=(0,n.E)();return i.Z.update(a,t.teamId),e.request(o,{method:"POST",success:e=>{i.Z.updateSuccess(t.teamId,e),d(s,"success",e)},error:e=>{i.Z.updateError(a,t.teamId,e),d(s,"error",e)}})}function m(e,t,s){const r=`/organizations/${t.orgId}/members/${t.memberId||"me"}/teams/${t.teamId}/`,o=(0,n.E)();return i.Z.update(o,t.teamId),e.request(r,{method:"DELETE",success:e=>{i.Z.updateSuccess(t.teamId,e),d(s,"success",e)},error:e=>{i.Z.updateError(o,t.teamId,e),d(s,"error",e)}})}function g(e,t,s){return i.Z.createTeam(t),e.requestPromise(`/organizations/${s.orgId}/teams/`,{method:"POST",data:t}).then((e=>(i.Z.createTeamSuccess(e),(0,r.S9)((0,o._N)("[team] has been added to the [organization] organization",{team:`#${e.slug}`,organization:s.orgId})),e)),(e=>{throw i.Z.createTeamError(t.slug,e),(0,r.Iw)((0,o._N)("Unable to create [team] in the [organization] organization",{team:`#${t.slug}`,organization:s.orgId})),e}))}function p(e,t){return i.Z.removeTeam(t.teamId),e.requestPromise(`/teams/${t.orgId}/${t.teamId}/`,{method:"DELETE"}).then((e=>(i.Z.removeTeamSuccess(t.teamId,e),(0,r.S9)((0,o._N)("[team] has been removed from the [organization] organization",{team:`#${t.teamId}`,organization:t.orgId})),e)),(e=>{throw i.Z.removeTeamError(t.teamId,e),(0,r.Iw)((0,o._N)("Unable to remove [team] from the [organization] organization",{team:`#${t.teamId}`,organization:t.orgId})),e}))}},"./app/actions/organizationActions.tsx":(e,t,s)=>{s.d(t,{Z:()=>r});const r=(0,s("../node_modules/reflux/src/index.js").createActions)(["reset","fetchOrgError","update"])},"./app/actions/projectActions.tsx":(e,t,s)=>{s.d(t,{Z:()=>r});const r=(0,s("../node_modules/reflux/src/index.js").createActions)(["addTeam","addTeamError","addTeamSuccess","changeSlug","createSuccess","loadProjects","loadStats","loadStatsError","loadStatsForProjectSuccess","loadStatsSuccess","removeProject","removeProjectError","removeProjectSuccess","removeTeam","removeTeamError","removeTeamSuccess","reset","setActive","update","updateError","updateSuccess"])},"./app/components/avatar/actorAvatar.tsx":(e,t,s)=>{s.d(t,{Z:()=>m});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=s("../node_modules/react/index.js"),o=s("../node_modules/@sentry/minimal/esm/index.js"),a=s("./app/components/avatar/teamAvatar.tsx"),n=s("./app/components/avatar/userAvatar.tsx"),d=s("./app/components/loadingIndicator.tsx"),l=s("./app/stores/memberListStore.tsx"),c=s("./app/utils/teams.tsx"),u=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class h extends i.Component{render(){const{actor:e,...t}=this.props;if("user"===e.type){var s;const r=e.id&&null!==(s=l.Z.getById(e.id))&&void 0!==s?s:e;return(0,u.tZ)(n.Z,{user:r,...t})}return"team"===e.type?(0,u.tZ)(c.Z,{ids:[e.id],children:e=>{let{initiallyLoaded:s,teams:r}=e;return s?(0,u.tZ)(a.Z,{team:r[0],...t}):(0,u.tZ)(d.Z,{mini:!0})}}):(o.$e((t=>{t.setExtra("actor",e),o.Tb(new Error("Unknown avatar type"))})),null)}}h.displayName="ActorAvatar",(0,r.Z)(h,"defaultProps",{size:24,hasTooltip:!0});const m=h},"./app/components/textOverflow.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(s("../node_modules/react/index.js"),s("./app/styles/overflowEllipsis.tsx")),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=(0,r.Z)((e=>{let{isParagraph:t,className:s,children:r,"data-test-id":i}=e;const a=t?"p":"div";return(0,o.tZ)(a,{className:s,"data-test-id":i,children:r})}),{target:"eyxbn6j0"})((e=>"right"===e.ellipsisDirection?i.Z:"\n  display: block;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  width: 100%;\n  direction: rtl;\n  text-align: left;\n"),";width:auto;line-height:1.2;");a.defaultProps={ellipsisDirection:"right",isParagraph:!1};const n=a},"./app/stores/memberListStore.tsx":(e,t,s)=>{s.d(t,{Z:()=>a});var r=s("../node_modules/reflux/src/index.js"),i=s("./app/utils/makeSafeRefluxStore.ts");const o={loaded:!1,state:[],init(){this.state=[],this.loaded=!1},loadInitialData(e){this.state=e,this.loaded=!0,this.trigger(this.state,"initial")},isLoaded(){return this.loaded},getById(e){if(this.state){e=""+e;for(let t=0;t<this.state.length;t++)if(this.state[t].id===e)return this.state[t]}},getByEmail(e){if(this.state){e=e.toLowerCase();for(let t=0;t<this.state.length;t++)if(this.state[t].email.toLowerCase()===e)return this.state[t]}},getAll(){return this.state}},a=(0,r.createStore)((0,i.Y)(o))},"./app/stores/organizationStore.tsx":(e,t,s)=>{s.d(t,{Z:()=>d}),s("../node_modules/core-js/modules/es.string.replace.js");var r=s("../node_modules/reflux/src/index.js"),i=s("./app/actions/organizationActions.tsx"),o=s("./app/constants/index.tsx"),a=s("./app/utils/makeSafeRefluxStore.ts");const n={unsubscribeListeners:[],init(){this.reset(),this.unsubscribeListeners.push(this.listenTo(i.Z.update,this.onUpdate)),this.unsubscribeListeners.push(this.listenTo(i.Z.reset,this.reset)),this.unsubscribeListeners.push(this.listenTo(i.Z.fetchOrgError,this.onFetchOrgError))},reset(){this.loading=!0,this.error=null,this.errorType=null,this.organization=null,this.dirty=!1,this.trigger(this.get())},onUpdate(e){let{replace:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!1,this.error=null,this.errorType=null,this.organization=t?e:{...this.organization,...e},this.dirty=!1,this.trigger(this.get())},onFetchOrgError(e){switch(this.organization=null,this.errorType=null,null==e?void 0:e.status){case 401:this.errorType=o.Yc.ORG_NO_ACCESS;break;case 404:this.errorType=o.Yc.ORG_NOT_FOUND}this.loading=!1,this.error=e,this.dirty=!1,this.trigger(this.get())},get(){return{organization:this.organization,error:this.error,loading:this.loading,errorType:this.errorType,dirty:this.dirty}},getState(){return this.get()}},d=(0,r.createStore)((0,a.Y)(n))},"./app/stores/projectsStore.tsx":(e,t,s)=>{s.d(t,{Z:()=>d}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=s("../node_modules/reflux/src/index.js"),i=s("./app/actions/projectActions.tsx"),o=s("./app/actions/teamActions.tsx"),a=s("./app/utils/makeSafeRefluxStore.ts");const n={itemsById:{},loading:!0,unsubscribeListeners:[],init(){this.reset(),this.unsubscribeListeners.push(this.listenTo(i.Z.addTeamSuccess,this.onAddTeam)),this.unsubscribeListeners.push(this.listenTo(i.Z.changeSlug,this.onChangeSlug)),this.unsubscribeListeners.push(this.listenTo(i.Z.createSuccess,this.onCreateSuccess)),this.unsubscribeListeners.push(this.listenTo(i.Z.loadProjects,this.loadInitialData)),this.unsubscribeListeners.push(this.listenTo(i.Z.loadStatsSuccess,this.onStatsLoadSuccess)),this.unsubscribeListeners.push(this.listenTo(i.Z.removeTeamSuccess,this.onRemoveTeam)),this.unsubscribeListeners.push(this.listenTo(i.Z.reset,this.reset)),this.unsubscribeListeners.push(this.listenTo(i.Z.updateSuccess,this.onUpdateSuccess)),this.unsubscribeListeners.push(this.listenTo(o.Z.removeTeamSuccess,this.onDeleteTeam))},reset(){this.itemsById={},this.loading=!0},loadInitialData(e){const t=e.map((e=>[e.id,e]));this.itemsById=Object.fromEntries(t),this.loading=!1,this.trigger(new Set(Object.keys(this.itemsById)))},onChangeSlug(e,t){const s=this.getBySlug(e);if(!s)return;const r={...s,slug:t};this.itemsById={...this.itemsById,[r.id]:r},this.trigger(new Set([s.id]))},onCreateSuccess(e){this.itemsById={...this.itemsById,[e.id]:e},this.trigger(new Set([e.id]))},onUpdateSuccess(e){const t=this.getById(e.id);if(!t)return;const s={...t,...e};this.itemsById={...this.itemsById,[t.id]:s},this.trigger(new Set([e.id]))},onStatsLoadSuccess(e){const t=Object.entries(e||{}).filter((e=>{let[t]=e;return t in this.itemsById}));t.forEach((e=>{let[t,s]=e;this.itemsById[t].stats=s}));const s=t.map((e=>{let[t]=e;return t}));this.trigger(new Set(s))},onDeleteTeam(e){const t=this.getAll().filter((t=>{let{teams:s}=t;return s.find((t=>{let{slug:s}=t;return s===e}))}));t.forEach((t=>this.removeTeamFromProject(e,t)));const s=t.map((e=>e.id));this.trigger(new Set(s))},onRemoveTeam(e,t){const s=this.getBySlug(t);s&&(this.removeTeamFromProject(e,s),this.trigger(new Set([s.id])))},onAddTeam(e,t){const s=this.getBySlug(t);if(!s)return;const r={...s,teams:[...s.teams,e]};this.itemsById={...this.itemsById,[s.id]:r},this.trigger(new Set([s.id]))},removeTeamFromProject(e,t){const s=t.teams.filter((t=>{let{slug:s}=t;return s!==e})),r={...t,teams:s};this.itemsById={...this.itemsById,[t.id]:r}},isLoading(){return this.loading},getAll(){return Object.values(this.itemsById).sort(((e,t)=>e.slug.localeCompare(t.slug)))},getById(e){return this.getAll().find((t=>t.id===e))},getBySlug(e){return this.getAll().find((t=>t.slug===e))},getState(){return{projects:this.getAll(),loading:this.loading}}},d=(0,r.createStore)((0,a.Y)(n))},"./app/utils/analytics/dashboardsAnalyticsEvents.tsx":(e,t,s)=>{s.d(t,{Q:()=>r});const r={"dashboards_views.query_selector.opened":"Dashboards2: Query Selector opened for Widget","dashboards_views.query_selector.selected":"Dashboards2: Query selected in Query Selector","dashboards_views.open_in_discover.opened":"Dashboards2: Widget Opened In Discover","dashboards_views.widget_library.add":"Dashboards2: Number of prebuilt widgets added","dashboards_views.widget_library.add_widget":"Dashboards2: Title of prebuilt widget added","dashboards_views.widget_library.switch_tab":"Dashboards2: Widget Library tab switched","dashboards_views.widget_library.opened":"Dashboards2: Add Widget Library opened","dashboards_manage.search":"Dashboards Manager: Search","dashboards_manage.change_sort":"Dashboards Manager: Sort By Changed","dashboards_manage.create.start":"Dashboards Manager: Dashboard Create Started","dashboards_manage.templates.toggle":"Dashboards Manager: Template Toggle Changed","dashboards_manage.templates.add":"Dashboards Manager: Template Added","dashboards_manage.templates.preview":"Dashboards Manager: Template Previewed","dashboards_views.widget_viewer.edit":"Widget Viewer: Edit Widget Modal Opened","dashboards_views.widget_viewer.open":"Widget Viewer: Opened","dashboards_views.widget_viewer.open_source":"Widget Viewer: Opened in Discover/Issues","dashboards_views.widget_viewer.paginate":"Widget Viewer: Paginate","dashboards_views.widget_viewer.select_query":"Widget Viewer: Query Selected","dashboards_views.widget_viewer.sort":"Widget Viewer: Table Sorted","dashboards_views.widget_viewer.toggle_legend":"Widget Viewer: Legend Toggled","dashboards_views.widget_viewer.zoom":"Widget Viewer: Chart zoomed","dashboards_views.edit_widget_modal.confirm":"Dashboards2: Edit Dashboard Widget modal form submitted","dashboards_views.edit_widget_modal.opened":"Dashboards2: Edit Widget Modal Opened","dashboards_views.add_widget_modal.opened":"Dashboards2: Add Widget Modal opened","dashboards_views.add_widget_modal.change":"Dashboards2: Field changed in Add Widget Modal","dashboards_views.add_widget_modal.confirm":"Dashboards2: Add Widget to Dashboard modal form submitted","dashboards_views.add_widget_modal.save":"Dashboards2: Widget saved directly to Dashboard from Add Widget to Dashboard modal","dashboards_views.widget_builder.change":"Widget Builder: Field changed","dashboards_views.widget_builder.save":"Widget Builder: Form submitted","dashboards_views.widget_builder.opened":"Widget Builder: Page opened"}},"./app/utils/analytics/discoverAnalyticsEvents.tsx":(e,t,s)=>{s.d(t,{J:()=>r});const r={"discover_views.add_to_dashboard.modal_open":"Discover2: Add to Dashboard modal opened","discover_views.add_to_dashboard.confirm":"Discover2: Add to Dashboard modal form submitted"}},"./app/utils/analytics/growthAnalyticsEvents.tsx":(e,t,s)=>{s.d(t,{Y:()=>r});const r={"growth.clicked_mobile_prompt_setup_project":"Growth: Clicked Mobile Prompt Setup Project","growth.clicked_mobile_prompt_ask_teammate":"Growth: Clicked Mobile Prompt Ask Teammate","growth.submitted_mobile_prompt_ask_teammate":"Growth: Submitted Mobile Prompt Ask Teammate","growth.demo_click_get_started":"Growth: Demo Click Get Started","growth.demo_click_docs":"Growth: Demo Click Docs","growth.demo_click_request_demo":"Growth: Demo Click Request Demo","growth.onboarding_load_choose_platform":"Growth: Onboarding Load Choose Platform Page","growth.onboarding_set_up_your_project":"Growth: Onboarding Click Set Up Your Project","growth.onboarding_set_up_your_projects":"Growth: Onboarding Click Set Up Your Projects","growth.select_platform":"Growth: Onboarding Choose Platform","growth.platformpicker_category":"Growth: Onboarding Platform Category","growth.platformpicker_search":"Growth: Onboarding Platform Search","growth.onboarding_start_onboarding":"Growth: Onboarding Start Onboarding","growth.onboarding_clicked_skip":"Growth: Onboarding Clicked Skip","growth.onboarding_take_to_error":"Growth: Onboarding Take to Error","growth.onboarding_view_full_docs":"Growth: Onboarding View Full Docs","growth.onboarding_view_sample_event":"Growth: Onboarding View Sample Event","growth.onboarding_clicked_instrument_app":"Growth: Onboarding Clicked Instrument App","growth.onboarding_clicked_setup_platform_later":"Growth: Onboarding Clicked Setup Platform Later","invite_request.approved":"Invite Request Approved","invite_request.denied":"Invite Request Denied","growth.demo_modal_clicked_signup":"Growth: Demo Modal Clicked Signup","growth.demo_modal_clicked_continue":"Growth: Demo Modal Clicked Continue","growth.clicked_enter_sandbox":"Growth: Clicked Enter Sandbox","growth.onboarding_clicked_project_in_sidebar":"Growth: Clicked Project Sidebar","growth.sample_transaction_docs_link_clicked":"Growth: Sample Transaction Docs Link Clicked","growth.sample_error_onboarding_link_clicked":"Growth: Sample Error Onboarding Link Clicked","growth.issue_open_in_discover_btn_clicked":"Growth: Open in Discover Button in Issue Details clicked","member_settings_page.loaded":"Member Settings Page Loaded","invite_modal.opened":"Invite Modal: Opened","invite_modal.closed":"Invite Modal: Closed","invite_modal.add_more":"Invite Modal: Add More","invite_modal.invites_sent":"Invite Modal: Invites Sent","invite_modal.requests_sent":"Invite Modal: Requests Sent","sdk_updates.seen":"SDK Updates: Seen","sdk_updates.snoozed":"SDK Updates: Snoozed","sdk_updates.clicked":"SDK Updates: Clicked"}},"./app/utils/analytics/issueAnalyticsEvents.tsx":(e,t,s)=>{s.d(t,{d:()=>r});const r={"event_cause.viewed":null,"event_cause.docs_clicked":"Event Cause Docs Clicked","event_cause.snoozed":"Event Cause Snoozed","event_cause.dismissed":"Event Cause Dismissed","issue_error_banner.viewed":"Issue Error Banner Viewed","issues_tab.viewed":"Viewed Issues Tab","issue_search.failed":"Issue Search: Failed","issue.search_sidebar_clicked":"Issue Search Sidebar Clicked","inbox_tab.issue_clicked":"Clicked Issue from Inbox Tab","issues_stream.issue_clicked":"Clicked Issue from Issues Stream","issues_stream.issue_assigned":"Assigned Issue from Issues Stream","issue.shared_publicly":"Issue Shared Publicly",resolve_issue:"Resolve Issue","tag.clicked":"Tag: Clicked"}},"./app/utils/analytics/performanceAnalyticsEvents.tsx":(e,t,s)=>{s.d(t,{K:()=>r});const r={"performance_views.create_sample_transaction":"Growth: Performance Sample Transaction","performance_views.tour.start":"Performance Views: Tour Start","performance_views.tour.advance":"Performance Views: Tour Advance","performance_views.tour.close":"Performance Views: Tour Close","performance_views.landingv2.transactions.sort":"Performance Views: Landing Transactions Sorted","performance_views.overview.navigate.summary":"Performance Views: Overview view summary","performance_views.overview.cellaction":"Performance Views: Cell Action Clicked","performance_views.landingv3.widget.interaction":"Performance Views: Landing Widget Interaction","performance_views.landingv3.widget.switch":"Performance Views: Landing Widget Switched","performance_views.landingv3.batch_queries":"Performance Views: Landing Query Batching","performance_views.landingv3.display_change":"Performance Views: Switch Landing Tabs","performance_views.span_summary.change_chart":"Performance Views: Span Summary displayed chart changed","performance_views.spans.change_op":"Performance Views: Change span operation name","performance_views.spans.change_sort":"Performance Views: Change span sort column","performance_views.overview.view":"Performance Views: Transaction overview view","performance_views.overview.search":"Performance Views: Transaction overview search"}},"./app/utils/analytics/searchAnalyticsEvents.tsx":(e,t,s)=>{s.d(t,{Y:()=>r});const r={"search.searched":"Search: Performed search","search.operator_autocompleted":"Search: Operator Autocompleted","organization_saved_search.selected":"Organization Saved Search: Selected saved search","settings_search.open":"settings_search Open","command_palette.open":"command_palette Open","sidebar_help.open":"sidebar_help Open","settings_search.select":"settings_search Select","command_palette.select":"command_palette Select","sidebar_help.select":"sidebar_help Select","settings_search.query":"settings_search Query","command_palette.query":"command_palette Query","sidebar_help.query":"sidebar_help Query","projectselector.direct_selection":"Project Selector: Direct Selection","projectselector.update":"Project Selector: Update","projectselector.clear":"Project Selector: Clear","projectselector.toggle":"Project Selector: Toggle","projectselector.multi_button_clicked":"Project Selector: Multi Button Clicked"}},"./app/utils/analytics/settingsAnalyticsEvents.tsx":(e,t,s)=>{s.d(t,{$:()=>r});const r={"notification_settings.index_page_viewed":"Notification Settings: Index Page Viewed","notification_settings.tuning_page_viewed":"Notification Settings: Tuning Page Viewed","notification_settings.updated_tuning_setting":"Notification Settings: Updated Tuning Setting"}},"./app/utils/analytics/workflowAnalyticsEvents.tsx":(e,t,s)=>{s.d(t,{H:()=>r});const r={"alert_builder.filter":"Alert Builder: Filter","alert_details.viewed":"Alert Details: Viewed","alert_rule_details.viewed":"Alert Rule Details: Viewed","alert_rules.viewed":"Alert Rules: Viewed","alert_stream.viewed":"Alert Stream: Viewed","alert_wizard.option_selected":"Alert Wizard: Option Selected","alert_wizard.option_viewed":"Alert Wizard: Option Viewed","edit_alert_rule.add_row":"Edit Alert Rule: Add Row","edit_alert_rule.viewed":"Edit Alert Rule: Viewed","issue_alert_rule_details.edit_clicked":"Issue Alert Rule Details: Edit Clicked","issue_alert_rule_details.viewed":"Issue Alert Rule Details: Viewed","issue_details.viewed":"Issue Details: Viewed","issue_details.action_clicked":"Issue Details: Action Clicked","new_alert_rule.viewed":"New Alert Rule: Viewed","team_insights.viewed":"Team Insights: Viewed"}},"./app/utils/isActiveSuperuser.tsx":(e,t,s)=>{s.d(t,{M:()=>a});var r=s("../node_modules/js-cookie/src/js.cookie.js"),i=s.n(r),o=s("./app/stores/configStore.tsx");function a(){const{isSuperuser:e}=o.Z.get("user")||{};return!(!e||(i().set("su","test"),void 0!==i().get("su")))}},"./app/utils/parseLinkHeader.tsx":(e,t,s)=>{function r(e){if(null===e||""===e)return{};const t=e.split(","),s={};return t.forEach((e=>{const t=/<([^>]+)>; rel="([^"]+)"(?:; results="([^"]+)")?(?:; cursor="([^"]+)")?/g.exec(e),r="true"===t[3]||"false"!==t[3]&&null;s[t[2]]={href:t[1],results:r,cursor:t[4]}})),s}s.d(t,{Z:()=>r})},"./app/utils/teams.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});var r=s("../node_modules/react/index.js"),i=s("./app/utils/useTeams.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e){let{children:t,...s}=e;const a=(0,i.Z)(s);return(0,o.tZ)(r.Fragment,{children:t(a)})}a.displayName="Teams";const n=a},"./app/utils/useApi.tsx":(e,t,s)=>{s.d(t,{Z:()=>o});var r=s("../node_modules/react/index.js"),i=s("./app/api.tsx");const o=function(){let{persistInFlight:e,api:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=(0,r.useRef)();void 0===s.current&&void 0===t&&(s.current=new i.KU);const o=null!=t?t:s.current;function a(){!e&&o.clear()}return(0,r.useEffect)((()=>a),[]),o}},"./app/utils/useProjects.tsx":(e,t,s)=>{s.d(t,{Z:()=>m}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=s("../node_modules/react/index.js"),i=s("../node_modules/lodash/uniqBy.js"),o=s.n(i),a=s("./app/actions/projectActions.tsx"),n=s("./app/stores/organizationStore.tsx"),d=s("./app/stores/projectsStore.tsx"),l=s("./app/stores/useLegacyStore.tsx"),c=s("./app/utils/parseLinkHeader.tsx"),u=s("./app/utils/useApi.tsx");async function h(e,t){let{slugs:s,search:r,limit:i,lastSearch:o,cursor:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n={collapse:["latestDeploys"]};var d;void 0!==s&&s.length>0&&(n.query=s.map((e=>`slug:${e}`)).join(" ")),r&&(n.query=`${null!==(d=n.query)&&void 0!==d?d:""}${r}`.trim());const l=!o&&!r||o===r;l&&a&&(n.cursor=a),void 0!==i&&(n.per_page=i);let u=!1,h=null;const[m,,g]=await e.requestPromise(`/organizations/${t}/projects/`,{includeAllArgs:!0,query:n}),p=null==g?void 0:g.getResponseHeader("Link");if(p){var _,w,v;const e=(0,c.Z)(p);u=(null==e||null===(_=e.next)||void 0===_?void 0:_.results)||(null==e||null===(w=e.previous)||void 0===w?void 0:w.results),h=null==e||null===(v=e.next)||void 0===v?void 0:v.cursor}return{results:m,hasMore:u,nextCursor:h}}const m=function(){var e;let{limit:t,slugs:s,orgId:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const c=(0,u.Z)(),{organization:m}=(0,l.X)(n.Z),g=(0,l.X)(d.Z),p=null!=i?i:null==m?void 0:m.slug,_=new Set(g.projects.map((e=>e.slug))),w=null!==(e=null==s?void 0:s.filter((e=>!_.has(e))))&&void 0!==e?e:[],v=w.length>0,[b,f]=(0,r.useState)({initiallyLoaded:!g.loading&&!v,fetching:v,hasMore:null,lastSearch:null,nextCursor:null,fetchError:null}),S=(0,r.useRef)(null);async function y(){if(void 0!==p){f({...b,fetching:!0});try{const{results:e,hasMore:s,nextCursor:r}=await h(c,p,{slugs:w,limit:t}),i=o()([...g.projects,...e],(e=>{let{slug:t}=e;return t}));a.Z.loadProjects(i),f({...b,hasMore:s,fetching:!1,initiallyLoaded:!0,nextCursor:r})}catch(e){console.error(e),f({...b,fetching:!1,initiallyLoaded:!g.loading,fetchError:e})}}else console.error("Cannot use useProjects({slugs}) without an organization in context")}async function x(e){const{lastSearch:s}=b,r=b.nextCursor;if(""!==e)if(void 0!==p){f({...b,fetching:!0});try{c.clear();const{results:i,hasMore:n,nextCursor:d}=await h(c,p,{search:e,limit:t,lastSearch:s,cursor:r}),l=o()([...g.projects,...i],(e=>{let{slug:t}=e;return t}));l.length>g.projects.length&&a.Z.loadProjects(l),f({...b,hasMore:n,fetching:!1,lastSearch:e,nextCursor:d})}catch(e){console.error(e),f({...b,fetching:!1,fetchError:e})}}else console.error("Cannot use useProjects.onSearch without an organization in context")}void 0!==s&&(null===S.current&&(S.current=new Set(s)),(s.length!==S.current.size||s.some((e=>{var t;return!(null!==(t=S.current)&&void 0!==t&&t.has(e))})))&&(S.current=new Set(s))),(0,r.useEffect)((()=>{v&&y()}),[S.current]),(0,r.useEffect)((()=>{const e=!g.loading;b.initiallyLoaded!==e&&(v||f({...b,initiallyLoaded:e}))}),[g.loading]);const{initiallyLoaded:j,fetching:I,fetchError:T,hasMore:k}=b,A=s?g.projects.filter((e=>s.includes(e.slug))):g.projects,C=w.map((e=>({slug:e}))),Z={projects:A,placeholders:C,fetching:I||g.loading,initiallyLoaded:j,fetchError:T,hasMore:k,onSearch:x};return Z}},"./app/utils/useTeams.tsx":(e,t,s)=>{s.d(t,{Z:()=>p}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=s("../node_modules/react/index.js"),i=s("../node_modules/lodash/uniqBy.js"),o=s.n(i),a=s("./app/actionCreators/teams.tsx"),n=s("./app/actions/teamActions.tsx"),d=s("./app/stores/organizationStore.tsx"),l=s("./app/stores/teamStore.tsx"),c=s("./app/stores/useLegacyStore.tsx"),u=s("./app/utils/isActiveSuperuser.tsx"),h=s("./app/utils/parseLinkHeader.tsx"),m=s("./app/utils/useApi.tsx");async function g(e,t){let{slugs:s,ids:r,search:i,limit:o,lastSearch:a,cursor:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const d={};var l;void 0!==s&&s.length>0&&(d.query=s.map((e=>`slug:${e}`)).join(" ")),void 0!==r&&r.length>0&&(d.query=r.map((e=>`id:${e}`)).join(" ")),i&&(d.query=`${null!==(l=d.query)&&void 0!==l?l:""} ${i}`.trim());const c=a===i||!a&&!i;c&&n&&(d.cursor=n),void 0!==o&&(d.per_page=o);let u=!1,m=null;const[g,,p]=await e.requestPromise(`/organizations/${t}/teams/`,{includeAllArgs:!0,query:d}),_=null==p?void 0:p.getResponseHeader("Link");if(_){var w,v;const e=(0,h.Z)(_);u=null==e||null===(w=e.next)||void 0===w?void 0:w.results,m=null==e||null===(v=e.next)||void 0===v?void 0:v.cursor}return{results:g,hasMore:u,nextCursor:m}}const p=function(){var e,t,s;let{limit:i,slugs:h,ids:p,provideUserTeams:_}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const w=(0,m.Z)(),{organization:v}=(0,c.X)(d.Z),b=(0,c.X)(l.Z),f=null==v?void 0:v.slug,S=new Set(b.teams.map((e=>e.slug))),y=null!==(e=null==h?void 0:h.filter((e=>!S.has(e))))&&void 0!==e?e:[],x=new Set(b.teams.map((e=>e.id))),j=null!==(t=null==p?void 0:p.filter((e=>!x.has(e))))&&void 0!==t?t:[],I=y.length>0,T=j.length>0,k=_&&!b.loadedUserTeams,A=!I&&!k&&!T,[C,Z]=(0,r.useState)({initiallyLoaded:A,fetching:!1,hasMore:b.hasMore,lastSearch:null,nextCursor:b.cursor,fetchError:null}),P=(0,r.useRef)(null);if(void 0!==h||void 0!==p){var E;const e=null!==(E=h||p)&&void 0!==E?E:[];null===P.current&&(P.current=new Set(e)),(e.length!==P.current.size||e.some((e=>{var t;return!(null!==(t=P.current)&&void 0!==t&&t.has(e))})))&&(P.current=new Set(e))}async function D(){if(void 0!==f){Z({...C,fetching:!0});try{await(0,a.PX)(w,{orgId:f}),Z({...C,fetching:!1,initiallyLoaded:!0})}catch(e){console.error(e),Z({...C,fetching:!1,initiallyLoaded:!0,fetchError:e})}}}async function L(){if(void 0!==f){Z({...C,fetching:!0});try{const{results:e,hasMore:t,nextCursor:s}=await g(w,f,{slugs:y,ids:j,limit:i}),r=o()([...b.teams,...e],(e=>{let{slug:t}=e;return t}));n.Z.loadTeams(r),Z({...C,hasMore:t,fetching:!1,initiallyLoaded:!0,nextCursor:s})}catch(e){console.error(e),Z({...C,fetching:!1,initiallyLoaded:!0,fetchError:e})}}}async function z(e){""!==e?M(e):C.hasMore===b.hasMore&&C.nextCursor===b.cursor||Z({...C,lastSearch:e,hasMore:b.hasMore,nextCursor:b.cursor})}async function M(e){const{lastSearch:t}=C,s=e?C.nextCursor:b.cursor;if(void 0!==f){Z({...C,fetching:!0});try{w.clear();const{results:r,hasMore:a,nextCursor:d}=await g(w,f,{search:e,limit:i,lastSearch:t,cursor:s}),l=o()([...b.teams,...r],(e=>{let{slug:t}=e;return t}));e?l.length>b.teams.length&&n.Z.loadTeams(l):n.Z.loadTeams(l,a,d),Z({...C,hasMore:a&&b.hasMore,fetching:!1,lastSearch:null!=e?e:null,nextCursor:d})}catch(e){console.error(e),Z({...C,fetching:!1,fetchError:e})}}else console.error("Cannot fetch teams without an organization in context")}(0,r.useEffect)((()=>{I||T?L():k&&D()}),[P.current,_]);const O=(0,u.M)(),V=h?b.teams.filter((e=>h.includes(e.slug))):p?b.teams.filter((e=>p.includes(e.id))):_&&!O?b.teams.filter((e=>e.isMember)):b.teams,B={teams:V,fetching:C.fetching||b.loading,initiallyLoaded:C.initiallyLoaded,fetchError:C.fetchError,hasMore:null!==(s=C.hasMore)&&void 0!==s?s:b.hasMore,onSearch:z,loadMore:M};return B}},"./app/utils/withApi.tsx":(e,t,s)=>{s.d(t,{Z:()=>a});var r=s("./app/utils/getDisplayName.tsx"),i=s("./app/utils/useApi.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=s=>{let{api:r,...a}=s;const n=(0,i.Z)({api:r,...t});return(0,o.tZ)(e,{...a,api:n})};return s.displayName=`withApi(${(0,r.Z)(e)})`,s}},"./app/utils/withProjects.tsx":(e,t,s)=>{s.d(t,{Z:()=>a}),s("../node_modules/react/index.js");var r=s("./app/utils/getDisplayName.tsx"),i=s("./app/utils/useProjects.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=function(e){const t=t=>{const{projects:s,initiallyLoaded:r}=(0,i.Z)(),a=!r;return(0,o.tZ)(e,{...t,projects:s,loadingProjects:a})};return t.displayName=`withProjects(${(0,r.Z)(e)})`,t}}}]);
//# sourceMappingURL=../sourcemaps/app_components_avatar_actorAvatar_tsx-app_components_textOverflow_tsx-app_utils_analytics_das-029311.36f010456174ce5b47d7362aa37d7d6a.js.map