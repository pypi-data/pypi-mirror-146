"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_charts_errorPanel_tsx-app_components_links_listLink_tsx-app_views_performance_-e7a6ab"],{"./app/components/charts/chartZoom.tsx":(t,e,o)=>{o.d(e,{Z:()=>_});var a=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=o("../node_modules/react/index.js"),i=o("../node_modules/moment/moment.js"),r=o.n(i),n=o("../node_modules/query-string/index.js"),l=o("./app/actionCreators/pageFilters.tsx"),d=o("./app/components/charts/components/dataZoomInside.tsx"),c=o("./app/components/charts/components/toolBox.tsx"),p=o("./app/utils/callIfFunction.tsx"),m=o("./app/utils/dates.tsx");const u=t=>t?r().utc(t).format(r().HTML5_FMT.DATETIME_LOCAL_SECONDS):null;class h extends s.Component{constructor(t){var e;super(t),e=this,(0,a.Z)(this,"history",void 0),(0,a.Z)(this,"currentPeriod",void 0),(0,a.Z)(this,"zooming",null),(0,a.Z)(this,"saveCurrentPeriod",(t=>{this.currentPeriod={period:t.period,start:u(t.start),end:u(t.end)}})),(0,a.Z)(this,"setPeriod",(function(t){let{period:o,start:a,end:s}=t,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{router:r,onZoom:d,usePageDate:c}=e.props,h=u(a),_=u(s);i&&e.history.push(e.currentPeriod),(0,p.g)(d,{period:o,start:h,end:_}),e.zooming=()=>{if(c&&r){const t={...r.location.query,pageStart:a?(0,m.v5)(a):void 0,pageEnd:s?(0,m.v5)(s):void 0,pageStatsPeriod:null!=o?o:void 0};n.stringify(t)!==n.stringify(r.location.query)&&r.push({pathname:r.location.pathname,query:t})}else(0,l.dR)({period:o,start:h?(0,m.hC)(h):h,end:_?(0,m.hC)(_):_},r);e.saveCurrentPeriod({period:o,start:a,end:s})}})),(0,a.Z)(this,"handleChartReady",(t=>{(0,p.g)(this.props.onChartReady,t)})),(0,a.Z)(this,"handleZoomRestore",((t,e)=>{this.history.length&&(this.setPeriod(this.history[0]),this.history=[],(0,p.g)(this.props.onRestore,t,e))})),(0,a.Z)(this,"handleDataZoom",((t,e)=>{const o=e.getModel(),{startValue:a,endValue:s}=o._payload.batch[0];if(null===a&&null===s){const t=this.history.pop();if(!t)return;this.setPeriod(t)}else{const t=r().utc(a),e=r().utc(s);this.setPeriod({period:null,start:t,end:e},!0)}(0,p.g)(this.props.onDataZoom,t,e)})),(0,a.Z)(this,"handleChartFinished",((t,e)=>{var o;"function"==typeof this.zooming&&(this.zooming(),this.zooming=null);const a=null===(o=e._componentsViews)||void 0===o?void 0:o.find((t=>t._features&&t._features.dataZoom));a&&!a._features.dataZoom._isZoomActive&&e.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!0}),(0,p.g)(this.props.onFinished)})),this.history=[],this.saveCurrentPeriod(t)}componentDidUpdate(){this.props.disabled||this.saveCurrentPeriod(this.props)}render(){const{utc:t,start:e,end:o,disabled:a,children:s,xAxisIndex:i,router:r,onZoom:n,onRestore:l,onChartReady:p,onDataZoom:u,onFinished:h,..._}=this.props,f=null!=t?t:void 0,y=e?(0,m.hC)(e):void 0,A=o?(0,m.hC)(o):void 0;return s(a?{utc:f,start:y,end:A,..._}:{isGroupedByDate:!0,onChartReady:this.handleChartReady,utc:f,start:y,end:A,dataZoom:(0,d.Z)({xAxisIndex:i}),showTimeInTooltip:!0,toolBox:(0,c.Z)({},{dataZoom:{title:{zoom:"",back:""},iconStyle:{borderWidth:0,color:"transparent",opacity:0}}}),onDataZoom:this.handleDataZoom,onFinished:this.handleChartFinished,onRestore:this.handleZoomRestore,..._})}}h.displayName="ChartZoom";const _=h},"./app/components/charts/components/dataZoomInside.tsx":(t,e,o)=>{o.d(e,{Z:()=>s}),o("../node_modules/echarts/lib/component/dataZoomInside.js");const a={type:"inside",zoomOnMouseWheel:!1,zoomLock:!0,throttle:50};function s(t){return t&&Array.isArray(t)?t:[{...a,...t}]}},"./app/components/charts/components/markArea.tsx":(t,e,o)=>{function a(t){return{...t}}o.d(e,{Z:()=>a}),o("../node_modules/echarts/lib/component/markArea.js")},"./app/components/charts/components/toolBox.tsx":(t,e,o)=>{function a(){let{dataZoom:t,...e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...t?{dataZoom:{yAxisIndex:"none",title:{zoom:"zoom",back:"undo"},...t}}:{},...e}}function s(t,e){return{right:0,top:0,itemSize:16,z:-1,feature:a(e),...t}}o.d(e,{Z:()=>s})},"./app/components/charts/errorPanel.tsx":(t,e,o)=>{o.d(e,{Z:()=>a});const a=(0,o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js").Z)("div",{target:"e1six6h50"})("display:flex;flex-direction:column;justify-content:center;align-items:center;flex:1;flex-shrink:0;overflow:hidden;height:",(t=>t.height||"200px"),";position:relative;border-color:transparent;margin-bottom:0;color:",(t=>t.theme.gray300),";font-size:",(t=>t.theme.fontSizeExtraLarge),";")},"./app/components/charts/lineChart.tsx":(t,e,o)=>{o.d(e,{w:()=>r}),o("../node_modules/react/index.js");var a=o("./app/components/charts/series/lineSeries.tsx"),s=o("./app/components/charts/baseChart.tsx"),i=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function r(t){let{series:e,seriesOptions:o,...r}=t;return(0,i.tZ)(s.Z,{...r,series:e.map((t=>{let{seriesName:e,data:s,dataArray:i,...r}=t;return(0,a.Z)({...o,...r,name:e,data:i||(null==s?void 0:s.map((t=>{let{value:e,name:o}=t;return[o,e]}))),animation:!1,animationThreshold:1,animationDuration:0})}))})}r.displayName="LineChart"},"./app/components/gridEditable/sortLink.tsx":(t,e,o)=>{o.d(e,{Z:()=>h});var a=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=o("../node_modules/react/index.js"),i=o("../node_modules/lodash/omit.js"),r=o.n(i),n=o("./app/components/links/link.tsx"),l=o("./app/icons/index.tsx"),d=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class c extends s.Component{renderArrow(){const{direction:t}=this.props;return t?"desc"===t?(0,d.tZ)(u,{size:"xs",direction:"down"}):(0,d.tZ)(u,{size:"xs",direction:"up"}):null}render(){const{align:t,title:e,canSort:o,generateSortLink:a,onClick:s}=this.props,i=a();return i&&o?(0,d.BX)(p,{align:t,to:i,onClick:s,children:[e," ",this.renderArrow()]}):(0,d.tZ)(m,{align:t,children:e})}}c.displayName="SortLink";const p=(0,a.Z)((t=>{const e=r()(t,["align"]);return(0,d.tZ)(n.Z,{...e})}),{target:"e1xb2te62"})("display:block;width:100%;white-space:nowrap;color:inherit;&:hover,&:active,&:focus,&:visited{color:inherit;}",(t=>t.align?`text-align: ${t.align};`:""),";"),m=(0,a.Z)("div",{target:"e1xb2te61"})("display:block;width:100%;white-space:nowrap;",(t=>t.align?`text-align: ${t.align};`:""),";"),u=(0,a.Z)(l.CC,{target:"e1xb2te60"})({name:"40f4ru",styles:"vertical-align:top"}),h=c},"./app/components/links/listLink.tsx":(t,e,o)=>{o.d(e,{Z:()=>h});var a=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(o("../node_modules/core-js/modules/web.dom-collections.iterator.js"),o("../node_modules/react/index.js")),r=o("../node_modules/react-router/es/index.js"),n=o("../node_modules/classnames/index.js"),l=o.n(n),d=o("../node_modules/lodash/omit.js"),c=o.n(d),p=o("../node_modules/query-string/index.js"),m=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class u extends i.Component{constructor(){super(...arguments),(0,a.Z)(this,"getClassName",(()=>{const t={},{className:e,activeClassName:o}=this.props;return e&&(t[e]=!0),this.isActive()&&o&&(t[o]=!0),l()(t)}))}isActive(){const{isActive:t,to:e,query:o,index:a,router:s}=this.props,i=o?p.parse(o):void 0,r="string"==typeof e?{pathname:e,query:i}:e;return"function"==typeof t?t(r,a):s.isActive(r,a)}render(){const{index:t,children:e,to:o,disabled:a,...s}=this.props,i=c()(s,"activeClassName","css","isActive","index","router","location");return(0,m.tZ)(_,{className:this.getClassName(),disabled:a,children:(0,m.tZ)(r.Link,{...i,onlyActiveOnIndex:t,to:a?"":o,children:e})})}}u.displayName="ListLink",(0,a.Z)(u,"displayName","ListLink"),(0,a.Z)(u,"defaultProps",{activeClassName:"active",index:!1,disabled:!1});const h=(0,r.withRouter)(u),_=(0,s.Z)("li",{shouldForwardProp:t=>"disabled"!==t,target:"er8tqc10"})((t=>t.disabled&&`\n   a {\n    color:${t.theme.disabled} !important;\n    pointer-events: none;\n    :hover {\n      color: ${t.theme.disabled}  !important;\n    }\n   }\n`),";")},"./app/utils/performance/anomalies/anomaliesQuery.tsx":(t,e,o)=>{o.d(e,{Z:()=>c});var a=o("./app/utils/discover/genericDiscoverQuery.tsx"),s=o("./app/utils/withApi.tsx"),i=o("./app/views/performance/transactionSummary/transactionAnomalies/utils.tsx"),r=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function n(t){return t.data.forEach((t=>t[0]=1e3*t[0])),t}function l(t){const e={...t};return t.y&&t.yhat_lower&&t.yhat_upper&&t.anomalies?(e.y=n(t.y),e.yhat_upper=n(t.yhat_upper),e.yhat_lower=n(t.yhat_lower),e.anomalies=((o=t.anomalies).forEach((t=>{t.start=1e3*t.start,t.end=1e3*t.end})),o),e):e;var o}function d(t){return t.organization.features.includes(i.uT)?(0,r.tZ)(a.ZP,{route:"transaction-anomaly-detection",...t,children:e=>{let{tableData:o,...a}=e;return t.children({data:o&&o.y?l(o):null,...a})}}):(0,r.tZ)("div",{children:t.children({data:null,isLoading:!1,error:null,pageLinks:null})})}d.displayName="AnomaliesSeriesQuery";const c=(0,s.Z)(d)},"./app/utils/performance/contexts/metricsEnhancedSetting.tsx":(t,e,o)=>{o.d(e,{nP:()=>c,nl:()=>p,oR:()=>m,kP:()=>u,Eg:()=>h}),o("../node_modules/core-js/modules/web.dom-collections.iterator.js");var a=o("../node_modules/react/index.js"),s=(o("./app/utils/localStorage.tsx"),o("./app/utils/useOrganization.tsx")),i=o("./app/utils/performance/contexts/utils.tsx"),r=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const[n,l,d]=(0,i.n)({name:"MetricsEnhancedSettingContext"}),c=d.Consumer;let p,m;!function(t){t.unset="unset",t.metrics="metrics",t.transactions="transactions"}(p||(p={})),function(t){t.auto="auto",t.metricsOnly="metricsOnly",t.transactionsOnly="transactionsOnly"}(m||(m={}));const u=t=>{let{children:e,_hasMEPState:o}=t;const i=(0,s.Z)().features.includes("performance-use-metrics"),l=void 0!==o,[d,c]=(0,a.useReducer)(((t,e)=>e),m.auto),[u,h]=(0,a.useReducer)(((t,e)=>e),p.unset),_=l?o:d,f=i&&(_===m.metricsOnly||_===m.auto),y=i&&_===m.auto,A=i&&_===m.metricsOnly,S=i&&_===m.transactionsOnly,T=`${_}`;return(0,r.tZ)(n,{value:{autoSampleState:u,metricSettingState:_,hideSinceMetricsOnly:f,shouldQueryProvideMEPParams:y,shouldQueryProvideMEPMetricParams:A,shouldQueryProvideMEPTransactionParams:S,memoizationKey:T,setMetricSettingState:c,setAutoSampleState:h},children:e})};u.displayName="MEPSettingProvider";const h=l},"./app/utils/performance/urls.ts":(t,e,o)=>{o.d(e,{D:()=>i});var a=o("./app/components/events/interfaces/spans/utils.tsx"),s=o("./app/utils.tsx");function i(t,e,o,i,r){const n={...i||{},transaction:o};(0,s.ri)(n.transaction)||delete n.transaction;const l={pathname:`/organizations/${t}/performance/${e}/`,query:n,hash:(0,s.ri)(r)?(0,a.ct)(r):void 0};return(0,s.ri)(l.hash)||delete l.hash,l}},"./app/views/performance/landing/widgets/types.tsx":(t,e,o)=>{let a,s;o.d(e,{A:()=>s}),function(t){t.ERROR="error",t.LOADING="loading",t.EMPTY="empty",t.DATA="data"}(a||(a={})),function(t){t.histogram="histogram",t.area="area",t.vitals="vitals",t.line_list="line_list",t.trends="trends"}(s||(s={}))},"./app/views/performance/landing/widgets/utils.tsx":(t,e,o)=>{o.d(e,{CJ:()=>r,gM:()=>n,zS:()=>l,I2:()=>d,rp:()=>u,zM:()=>h});var a=o("./app/utils.tsx"),s=o("./app/utils/localStorage.tsx"),i=o("./app/views/performance/landing/widgets/widgetDefinitions.tsx");const r=["children","organization","yAxis","period","start","end","environment","project","referrer"];function n(t){let e={};const o={preventMetricAggregates:"1"};return t.shouldQueryProvideMEPParams&&(e={...e,...o,metricsEnhanced:"1",dataset:"metricsEnhanced"}),t.shouldQueryProvideMEPTransactionParams&&(e={...e,...o,dataset:"discover"}),t.shouldQueryProvideMEPMetricParams&&(e={...e,...o,dataset:"metrics"}),(0,a.z)(e)?void 0:e}const l=[i.s.MOST_RELATED_ERRORS,i.s.MOST_RELATED_ISSUES];function d(t,e){if(!l.includes(e))return n(t)}const c="landing-chart-container",p=(t,e,o)=>`landing-chart-container#${e}#${o}#${t}`;function m(){return JSON.parse(s.Z.getItem(c)||"{}")}const u=(t,e,o,a,s)=>{if(s)return a;const r=p(t,o,e),n=m(),l=null==n?void 0:n[r];return l&&Object.values(i.s).includes(l)?l:a},h=(t,e,o,a)=>{const i=p(t,o,e),r=m();r[i]=a,function(t){s.Z.setItem(c,JSON.stringify(t))}(r)}},"./app/views/performance/landing/widgets/widgetDefinitions.tsx":(t,e,o)=>{o.d(e,{s:()=>n,W:()=>d});var a=o("./app/constants/chartPalette.tsx"),s=o("./app/locale.tsx"),i=o("./app/views/performance/data.tsx"),r=o("./app/views/performance/landing/widgets/types.tsx");let n;!function(t){t.DURATION_HISTOGRAM="duration_histogram",t.LCP_HISTOGRAM="lcp_histogram",t.FCP_HISTOGRAM="fcp_histogram",t.FID_HISTOGRAM="fid_histogram",t.APDEX_AREA="apdex_area",t.P50_DURATION_AREA="p50_duration_area",t.P75_DURATION_AREA="p75_duration_area",t.P95_DURATION_AREA="p95_duration_area",t.P99_DURATION_AREA="p99_duration_area",t.P75_LCP_AREA="p75_lcp_area",t.TPM_AREA="tpm_area",t.FAILURE_RATE_AREA="failure_rate_area",t.USER_MISERY_AREA="user_misery_area",t.WORST_LCP_VITALS="worst_lcp_vitals",t.WORST_FCP_VITALS="worst_fcp_vitals",t.WORST_CLS_VITALS="worst_cls_vitals",t.WORST_FID_VITALS="worst_fid_vitals",t.MOST_IMPROVED="most_improved",t.MOST_REGRESSED="most_regressed",t.MOST_RELATED_ERRORS="most_related_errors",t.MOST_RELATED_ISSUES="most_related_issues",t.SLOW_HTTP_OPS="slow_http_ops",t.SLOW_DB_OPS="slow_db_ops",t.SLOW_RESOURCE_OPS="slow_resource_ops",t.SLOW_BROWSER_OPS="slow_browser_ops",t.COLD_STARTUP_AREA="cold_startup_area",t.WARM_STARTUP_AREA="warm_startup_area",t.SLOW_FRAMES_AREA="slow_frames_area",t.FROZEN_FRAMES_AREA="frozen_frames_area",t.MOST_SLOW_FRAMES="most_slow_frames",t.MOST_FROZEN_FRAMES="most_frozen_frames"}(n||(n={}));const l=a.Z[5],d=t=>{let{organization:e}=t;return{[n.DURATION_HISTOGRAM]:{title:(0,s.t)("Duration Distribution"),titleTooltip:(0,i.$r)(e,i.V$.DURATION_DISTRIBUTION),fields:["transaction.duration"],dataType:r.A.histogram,chartColor:l[5]},[n.LCP_HISTOGRAM]:{title:(0,s.t)("LCP Distribution"),titleTooltip:(0,i.$r)(e,i.V$.DURATION_DISTRIBUTION),fields:["measurements.lcp"],dataType:r.A.histogram,chartColor:l[5]},[n.FCP_HISTOGRAM]:{title:(0,s.t)("FCP Distribution"),titleTooltip:(0,i.$r)(e,i.V$.DURATION_DISTRIBUTION),fields:["measurements.fcp"],dataType:r.A.histogram,chartColor:l[5]},[n.FID_HISTOGRAM]:{title:(0,s.t)("FID Distribution"),titleTooltip:(0,i.$r)(e,i.V$.DURATION_DISTRIBUTION),fields:["measurements.fid"],dataType:r.A.histogram,chartColor:l[5]},[n.WORST_LCP_VITALS]:{title:(0,s.t)("Worst LCP Web Vitals"),titleTooltip:(0,i.$r)(e,i.V$.LCP),fields:["measurements.lcp"],vitalStops:{poor:4e3,meh:2500},dataType:r.A.vitals},[n.WORST_FCP_VITALS]:{title:(0,s.t)("Worst FCP Web Vitals"),titleTooltip:(0,i.$r)(e,i.V$.FCP),fields:["measurements.fcp"],vitalStops:{poor:3e3,meh:1e3},dataType:r.A.vitals},[n.WORST_FID_VITALS]:{title:(0,s.t)("Worst FID Web Vitals"),titleTooltip:(0,i.$r)(e,i.V$.FID),fields:["measurements.fid"],vitalStops:{poor:300,meh:100},dataType:r.A.vitals},[n.WORST_CLS_VITALS]:{title:(0,s.t)("Worst CLS Web Vitals"),titleTooltip:(0,i.$r)(e,i.V$.CLS),fields:["measurements.cls"],vitalStops:{poor:.25,meh:.1},dataType:r.A.vitals},[n.TPM_AREA]:{title:(0,s.t)("Transactions Per Minute"),titleTooltip:(0,i.$r)(e,i.V$.TPM),fields:["tpm()"],dataType:r.A.area,chartColor:l[1]},[n.APDEX_AREA]:{title:(0,s.t)("Apdex"),titleTooltip:(0,i.$r)(e,i.V$.APDEX),fields:["apdex()"],dataType:r.A.area,chartColor:l[4]},[n.P50_DURATION_AREA]:{title:(0,s.t)("p50 Duration"),titleTooltip:(0,i.$r)(e,i.V$.P50),fields:["p50(transaction.duration)"],dataType:r.A.area,chartColor:l[3]},[n.P75_DURATION_AREA]:{title:(0,s.t)("p75 Duration"),titleTooltip:(0,i.$r)(e,i.V$.P75),fields:["p75(transaction.duration)"],dataType:r.A.area,chartColor:l[3]},[n.P95_DURATION_AREA]:{title:(0,s.t)("p95 Duration"),titleTooltip:(0,i.$r)(e,i.V$.P95),fields:["p95(transaction.duration)"],dataType:r.A.area,chartColor:l[3]},[n.P99_DURATION_AREA]:{title:(0,s.t)("p99 Duration"),titleTooltip:(0,i.$r)(e,i.V$.P99),fields:["p99(transaction.duration)"],dataType:r.A.area,chartColor:l[3]},[n.P75_LCP_AREA]:{title:(0,s.t)("p75 LCP"),titleTooltip:(0,i.$r)(e,i.V$.P75),fields:["p75(measurements.lcp)"],dataType:r.A.area,chartColor:l[1]},[n.FAILURE_RATE_AREA]:{title:(0,s.t)("Failure Rate"),titleTooltip:(0,i.$r)(e,i.V$.FAILURE_RATE),fields:["failure_rate()"],dataType:r.A.area,chartColor:l[2]},[n.USER_MISERY_AREA]:{title:(0,s.t)("User Misery"),titleTooltip:(0,i.$r)(e,i.V$.USER_MISERY),fields:["user_misery()"],dataType:r.A.area,chartColor:l[0]},[n.COLD_STARTUP_AREA]:{title:(0,s.t)("Cold Startup Time"),titleTooltip:(0,i.$r)(e,i.V$.APP_START_COLD),fields:["p75(measurements.app_start_cold)"],dataType:r.A.area,chartColor:l[4]},[n.WARM_STARTUP_AREA]:{title:(0,s.t)("Warm Startup Time"),titleTooltip:(0,i.$r)(e,i.V$.APP_START_WARM),fields:["p75(measurements.app_start_warm)"],dataType:r.A.area,chartColor:l[3]},[n.SLOW_FRAMES_AREA]:{title:(0,s.t)("Slow Frames"),titleTooltip:(0,i.$r)(e,i.V$.SLOW_FRAMES),fields:["p75(measurements.frames_slow_rate)"],dataType:r.A.area,chartColor:l[0]},[n.FROZEN_FRAMES_AREA]:{title:(0,s.t)("Frozen Frames"),titleTooltip:(0,i.$r)(e,i.V$.FROZEN_FRAMES),fields:["p75(measurements.frames_frozen_rate)"],dataType:r.A.area,chartColor:l[5]},[n.MOST_RELATED_ERRORS]:{title:(0,s.t)("Most Related Errors"),titleTooltip:(0,i.$r)(e,i.V$.MOST_ERRORS),fields:["failure_count()"],dataType:r.A.line_list,chartColor:l[0]},[n.MOST_RELATED_ISSUES]:{title:(0,s.t)("Most Related Issues"),titleTooltip:(0,i.$r)(e,i.V$.MOST_ISSUES),fields:["count()"],dataType:r.A.line_list,chartColor:l[0]},[n.SLOW_HTTP_OPS]:{title:(0,s.t)("Slow HTTP Ops"),titleTooltip:(0,i.$r)(e,i.V$.SLOW_HTTP_SPANS),fields:["p75(spans.http)"],dataType:r.A.line_list,chartColor:l[0]},[n.SLOW_BROWSER_OPS]:{title:(0,s.t)("Slow Browser Ops"),titleTooltip:(0,i.$r)(e,i.V$.SLOW_HTTP_SPANS),fields:["p75(spans.browser)"],dataType:r.A.line_list,chartColor:l[0]},[n.SLOW_RESOURCE_OPS]:{title:(0,s.t)("Slow Resource Ops"),titleTooltip:(0,i.$r)(e,i.V$.SLOW_HTTP_SPANS),fields:["p75(spans.resource)"],dataType:r.A.line_list,chartColor:l[0]},[n.SLOW_DB_OPS]:{title:(0,s.t)("Slow DB Ops"),titleTooltip:(0,i.$r)(e,i.V$.SLOW_HTTP_SPANS),fields:["p75(spans.db)"],dataType:r.A.line_list,chartColor:l[0]},[n.MOST_SLOW_FRAMES]:{title:(0,s.t)("Most Slow Frames"),titleTooltip:(0,i.$r)(e,i.V$.SLOW_FRAMES),fields:["avg(measurements.frames_slow)"],dataType:r.A.line_list,chartColor:l[0]},[n.MOST_FROZEN_FRAMES]:{title:(0,s.t)("Most Frozen Frames"),titleTooltip:(0,i.$r)(e,i.V$.FROZEN_FRAMES),fields:["avg(measurements.frames_frozen)"],dataType:r.A.line_list,chartColor:l[0]},[n.MOST_IMPROVED]:{title:(0,s.t)("Most Improved"),titleTooltip:(0,s.t)("This compares the baseline (%s) of the past with the present.","improved"),fields:[],dataType:r.A.trends},[n.MOST_REGRESSED]:{title:(0,s.t)("Most Regressed"),titleTooltip:(0,s.t)("This compares the baseline (%s) of the past with the present.","regressed"),fields:[],dataType:r.A.trends}}}},"./app/views/performance/transactionSummary/transactionAnomalies/index.tsx":(t,e,o)=>{o.r(e),o.d(e,{default:()=>rt});var a=o("./app/locale.tsx"),s=o("./app/utils/performance/contexts/metricsEnhancedSetting.tsx"),i=o("./app/utils/withOrganization.tsx"),r=o("./app/utils/withProjects.tsx"),n=o("./app/views/performance/transactionSummary/pageLayout.tsx"),l=o("./app/views/performance/transactionSummary/tabs.tsx"),d=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),c=(o("../node_modules/core-js/modules/web.dom-collections.iterator.js"),o("../node_modules/react/index.js")),p=o("../node_modules/react-router/es/index.js"),m=o("../node_modules/lodash/omit.js"),u=o.n(m),h=o("./app/components/charts/components/markArea.tsx"),_=o("./app/components/charts/components/markLine.tsx"),f=o("./app/components/events/searchBar.tsx"),y=o("./app/components/layouts/thirds.tsx"),A=o("./app/components/organizations/pageFilters/parse.tsx"),S=o("./app/styles/space.tsx"),T=o("./app/utils.tsx"),g=o("./app/utils/performance/anomalies/anomaliesQuery.tsx"),v=o("./app/utils/queryString.tsx"),x=o("./app/utils/theme.tsx"),R=o("./app/views/performance/landing/widgets/components/performanceWidget.tsx"),P=o("./app/views/performance/landing/widgets/components/selectableList.tsx"),Z=o("./app/views/performance/landing/widgets/widgetDefinitions.tsx"),E=o("./app/components/count.tsx"),w=o("./app/components/gridEditable/index.tsx"),O=o("./app/components/gridEditable/sortLink.tsx"),C=o("./app/icons/index.tsx"),L=o("./app/utils/discover/fieldRenderers.tsx"),b=o("./app/utils/discover/fields.tsx"),I=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const D=t=>({anomaly:`#${t.id}`,confidence:t.confidence,timestamp:new Date(t.start),timeInterval:t.end-t.start,expected:t.expected,received:t.received});function M(t){const{location:e,organization:o,isLoading:a,anomalies:s}=t,i=(null==s?void 0:s.map(D))||[];return(0,I.tZ)(w.ZP,{isLoading:a,data:i,columnOrder:Object.values(V),columnSortBy:[],grid:{renderHeadCell:$,renderBodyCell:j(e,o)},location:e})}function $(t,e){const o=(0,b.qG)(t.key,W[t.key]);return(0,I.tZ)(O.Z,{title:t.name,align:o,direction:void 0,canSort:!1,generateSortLink:()=>{}})}function j(t,e){return(o,s)=>{const i=(0,L.Js)(o.key,W);return"confidence"===o.key?(0,I.tZ)(k,{children:"low"===s.confidence?(0,I.tZ)(F,{children:(0,a.t)("Low Confidence")}):(0,I.tZ)(z,{children:(0,a.t)("High Confidence")})}):"expected"===o.key?(0,I.tZ)(N,{children:(0,I.tZ)(E.Z,{value:s.expected})}):"received"===o.key?(0,I.BX)(N,{children:[(0,I.tZ)(E.Z,{value:s.received}),(0,I.tZ)(C.CC,{size:"sm",direction:s.received>s.expected?"up":"down"})]}):i(s,{location:t,organization:e})}}M.displayName="AnomaliesTable",$.displayName="renderHeadCell";const N=(0,d.Z)("div",{target:"e1uhfujm3"})("display:flex;justify-content:flex-end;align-items:center;gap:",(0,S.Z)(.5),";"),F=(0,d.Z)("div",{target:"e1uhfujm2"})("color:",(t=>t.theme.yellow300),";"),z=(0,d.Z)("div",{target:"e1uhfujm1"})("color:",(t=>t.theme.red300),";"),k=(0,d.Z)("div",{target:"e1uhfujm0"})({name:"1qetfgc",styles:"text-align:left;justify-self:flex-end;flex-grow:1"}),V={anomaly:{key:"anomaly",name:(0,a.t)("Anomaly"),width:w.z7},confidence:{key:"confidence",name:(0,a.t)("Confidence"),width:w.z7},timeInterval:{key:"timeInterval",name:(0,a.t)("Time Interval"),width:w.z7},timestamp:{key:"timestamp",name:(0,a.t)("Timestamp"),width:w.z7},expected:{key:"expected",name:(0,a.t)("Expected"),width:w.z7},received:{key:"received",name:(0,a.t)("Received"),width:w.z7}},W={anomaly:"string",confidence:"string",timeInterval:"duration",timestamp:"date",expected:"number",received:"number"};var U=o("./app/components/charts/chartZoom.tsx"),q=o("./app/components/charts/lineChart.tsx"),B=o("./app/utils/dates.tsx"),H=o("./app/utils/discover/charts.tsx");const G=t=>{const{data:e,location:o,statsPeriod:s,height:i,router:r,start:n,end:l}=t,d=n?(0,B.hC)(n):null,c=l?(0,B.hC)(l):null,{utc:p}=(0,A.fK)(o.query),m={legend:{right:10,top:5,data:[(0,a.t)("High Confidence"),(0,a.t)("Low Confidence")]},seriesOptions:{showSymbol:!1},height:i,tooltip:{trigger:"axis",valueFormatter:H.CX},xAxis:void 0,yAxis:{axisLabel:{formatter:t=>(0,H.gu)(t,"tpm()")}}};return(0,I.tZ)(U.Z,{router:r,period:s,start:d,end:c,utc:"true"===p,children:t=>(0,I.tZ)(q.w,{...t,series:e,...m})})};G.displayName="_AnomalyChart";const Q=(0,p.withRouter)(G),X=t=>`#${t.id}`,Y=t=>[{name:X(t),xAxis:t.start},{xAxis:t.end}],J=(t,e)=>{const o=[],a=e.data;if(!a)return{isLoading:e.isLoading,isErrored:!!e.error,data:void 0,hasData:!1,loading:e.isLoading};o.push({seriesName:"tpm()",data:a.y.data.map((t=>{let[e,[{count:o}]]=t;return{name:e,value:o}}))}),o.push({seriesName:"tpm() lower bound",data:a.yhat_lower.data.map((t=>{let[e,[{count:o}]]=t;return{name:e,value:o}}))}),o.push({seriesName:"tpm() upper bound",data:a.yhat_upper.data.map((t=>{let[e,[{count:o}]]=t;return{name:e,value:o}}))});const s=e.data.anomalies,i=s.filter((t=>"high"===t.confidence)).map(Y),r=s.filter((t=>"high"===t.confidence)).map((t=>({xAxis:t.start,name:X(t)}))),n=s.filter((t=>"low"===t.confidence)).map(Y),l=s.filter((t=>"low"===t.confidence)).map((t=>({xAxis:t.start,name:X(t)})));return o.push({seriesName:"High Confidence",color:x.ZP.red300,data:[],silent:!0,markLine:(0,_.Z)({animation:!1,lineStyle:{color:x.ZP.red300,type:"solid",width:1,opacity:1},data:r,label:{show:!0,rotate:90,color:x.ZP.red300,position:"insideEndBottom",fontSize:"10",offset:[5,5],formatter:t=>`${t.data.name}`}}),markArea:(0,h.Z)({itemStyle:{color:x.ZP.red300,opacity:.2},label:{show:!1},data:i})}),o.push({seriesName:"Low Confidence",color:x.ZP.yellow200,data:[],markLine:(0,_.Z)({animation:!1,lineStyle:{color:x.ZP.yellow200,type:"solid",width:1,opacity:1},data:l,label:{show:!0,rotate:90,color:x.ZP.yellow300,position:"insideEndBottom",fontSize:"10",offset:[5,5],formatter:t=>`${t.data.name}`}}),markArea:(0,h.Z)({itemStyle:{color:x.ZP.yellow200,opacity:.2},label:{show:!1},data:n})}),{isLoading:e.isLoading,isErrored:!!e.error,data:o,hasData:!0,loading:e.isLoading}};function K(t){const e=x.ZP.charts.colors[0],o=(0,c.useMemo)((()=>({fields:"",component:e=>(0,I.tZ)(c.Fragment,{children:e.children(t.queryData)}),transform:J})),[t.eventView,t.queryData]);return(0,I.tZ)(R.I,{...t,title:(0,a.t)("Transaction Count"),titleTooltip:(0,a.t)("Represents transaction count across time, with added visualizations to highlight anomalies in your data."),fields:[""],chartSetting:Z.s.TPM_AREA,chartDefinition:Z.W[Z.s.TPM_AREA],Subtitle:()=>(0,I.tZ)("div",{}),HeaderActions:()=>(0,I.tZ)("div",{}),EmptyComponent:P.xq,Queries:{chart:o},Visualizations:[{component:t=>{var o,a;const s=null!==(o=null===(a=t.widgetData.chart.data)||void 0===a?void 0:a.map((t=>("tpm()"!==t.seriesName&&(t.lineStyle={type:"dashed",color:e,width:1.5}),"score"===t.seriesName&&(t.lineStyle={color:x.ZP.red400}),t))))&&void 0!==o?o:[];return(0,I.tZ)(Q,{...t,data:s,height:250,statsPeriod:void 0,start:null,end:null})},height:250}]})}function tt(t){const{location:e,organization:o,eventView:a}=t,s=(0,v.ro)(e.query.query,"");return(0,I.BX)(y.or,{fullWidth:!0,children:[(0,I.tZ)(f.Z,{organization:o,projectIds:a.project,query:s,fields:a.fields,onSearch:(i="query",function(t){const o=(0,A.fK)({...e.query||{},[i]:t}),a=["cursor"];(0,T.ri)(t)||a.push(i);const s=u()(o,a);p.browserHistory.push({...e,query:s})})}),(0,I.tZ)(g.Z,{organization:o,location:e,eventView:a,children:e=>{var o;return(0,I.BX)(c.Fragment,{children:[(0,I.tZ)(et,{children:(0,I.tZ)(K,{...t,queryData:e})}),(0,I.tZ)(et,{children:(0,I.tZ)(M,{anomalies:null===(o=e.data)||void 0===o?void 0:o.anomalies,...t,isLoading:e.isLoading})})]})}})]});var i}K.displayName="Anomalies",tt.displayName="AnomaliesContent";const et=(0,d.Z)("div",{target:"eoagdn90"})("margin-top:",(0,S.Z)(2),";"),ot=tt;var at=o("./app/views/performance/transactionSummary/transactionAnomalies/utils.tsx");function st(t){const{location:e,organization:o,projects:a}=t;return(0,I.tZ)(s.kP,{children:(0,I.tZ)(n.ZP,{location:e,organization:o,projects:a,tab:l.Z.Anomalies,generateEventView:at.h2,getDocumentTitle:it,childComponent:ot})})}function it(t){return"string"==typeof t&&String(t).trim().length>0?[String(t).trim(),(0,a.t)("Performance")].join(" - "):[(0,a.t)("Summary"),(0,a.t)("Performance")].join(" - ")}st.displayName="TransactionAnomalies";const rt=(0,r.Z)((0,i.Z)(st))},"./app/views/performance/transactionSummary/utils.tsx":(t,e,o)=>{o.d(e,{K0:()=>d,xf:()=>c,PU:()=>p,e1:()=>m,Z6:()=>u,vd:()=>h,uI:()=>_});var a=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=o("./app/styles/space.tsx"),i=o("./app/utils/discover/urls.tsx"),r=o("./app/utils/performance/urls.ts"),n=o("./app/utils/tokenizeSearch.tsx"),l=o("./app/views/performance/traceDetails/utils.tsx");let d;function c(t){const e=p(t);return e.removeFilter("transaction"),e}function p(t){const e=new n.MY(t);return e.removeFilter("event.type"),e}function m(t){let{orgSlug:e,transaction:o,projectID:a,query:s,unselectedSeries:i="p100()",display:r,trendFunction:n,trendColumn:l,showTransactions:d,additionalQuery:p}=t;const m=function(t){let{orgSlug:e}=t;return`/organizations/${e}/performance/summary/`}({orgSlug:e});let u;return u="string"==typeof s.query?c(s.query).formatString():s.query,{pathname:m,query:{transaction:o,project:a,environment:s.environment,statsPeriod:s.statsPeriod,start:s.start,end:s.end,query:u,unselectedSeries:i,showTransactions:d,display:r,trendFunction:n,trendColumn:l,...p}}}function u(t){return(e,o,a)=>{const s=`${o.trace}`;return s?(0,l.YA)(e,s,t,{}):{}}}function h(t){return(e,o,a,s)=>{const n=(0,i.JE)(o);return(0,r.D)(e.slug,n,t,a,s)}}!function(t){t.FASTEST="fastest",t.SLOW="slow",t.OUTLIER="outlier",t.RECENT="recent"}(d||(d={}));const _=(0,a.Z)("div",{target:"e1radvp0"})("margin-top:",(0,s.Z)(3),";")}}]);
//# sourceMappingURL=../sourcemaps/app_components_charts_errorPanel_tsx-app_components_links_listLink_tsx-app_views_performance_-e7a6ab.021b3a074d4b33387168571aff6bcdb9.js.map